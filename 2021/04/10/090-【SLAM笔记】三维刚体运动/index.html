<!DOCTYPE html>

<html lang="zh-CN">

<style>
// 桌面、手机显示
.sjfollow{display: none;}
@media (max-width: 768px){.sjfollow{display: block !important;}
.pcfollow{display: block;}
@media (max-width: 768px){.pcfollow{display: none;}
</style>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.huffie.cn","root":"/","images":"/images","scheme":"Mist","version":"8.7.0","exturl":false,"sidebar":{"position":"left","width":240,"display":"always","padding":18,"offset":12,"b2t":true,"scrollpercent":true},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":null,"post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="两个坐标系之间的旋转、平移关系，统称为坐标系之间的变换关系。机器人运动过程中，往往会设定一个惯性坐标系（即世界坐标系），可以认为它是固定不动的。机器人则是一个移动坐标系。">
<meta property="og:type" content="article">
<meta property="og:title" content="【SLAM笔记】三维刚体运动">
<meta property="og:url" content="https://www.huffie.cn/2021/04/10/090-%E3%80%90SLAM%E7%AC%94%E8%AE%B0%E3%80%91%E4%B8%89%E7%BB%B4%E5%88%9A%E4%BD%93%E8%BF%90%E5%8A%A8/index.html">
<meta property="og:site_name" content="HalfA Studio">
<meta property="og:description" content="两个坐标系之间的旋转、平移关系，统称为坐标系之间的变换关系。机器人运动过程中，往往会设定一个惯性坐标系（即世界坐标系），可以认为它是固定不动的。机器人则是一个移动坐标系。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210409150857262.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410090428395.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410091352693.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410115129293.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210409162619682.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210409163540411.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210409164021886.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210409165009954.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021040916543057.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210409165645446.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210409170233936.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410094915120.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410095123855.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410104821111.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410110140330.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410110458117.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410110521969.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410110638239.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410110821214.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410115827928.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410113042373.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410113127734.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410113321113.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410113341819.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410113412414.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410113741618.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410114027477.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410114303272.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410114512501.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410114650168.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210410114752936.png#pic_center">
<meta property="article:published_time" content="2021-04-10T04:03:11.000Z">
<meta property="article:modified_time" content="2021-08-21T03:54:17.937Z">
<meta property="article:author" content="Huffie">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="slam">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20210409150857262.png#pic_center">


<link rel="canonical" href="https://www.huffie.cn/2021/04/10/090-%E3%80%90SLAM%E7%AC%94%E8%AE%B0%E3%80%91%E4%B8%89%E7%BB%B4%E5%88%9A%E4%BD%93%E8%BF%90%E5%8A%A8/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.huffie.cn/2021/04/10/090-%E3%80%90SLAM%E7%AC%94%E8%AE%B0%E3%80%91%E4%B8%89%E7%BB%B4%E5%88%9A%E4%BD%93%E8%BF%90%E5%8A%A8/","path":"2021/04/10/090-【SLAM笔记】三维刚体运动/","title":"【SLAM笔记】三维刚体运动"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>【SLAM笔记】三维刚体运动 | HalfA Studio</title>
  

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?3fd06b1b63f9b056d19abc6f5a943aed"></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>


<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>
  
  <!--Follow me on CSDN-->
  <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44543463"><img loading="lazy" width="149" height="149" style="position: absolute; top: 0; right: 0; border: 0;" src="https://img-blog.csdnimg.cn/abe3797b7d77419b81ecc02dd1bf8c34.png" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">HalfA Studio</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-资源"><a href="/resource/" rel="section"><i class="fa fa-cloud-download-alt fa-fw"></i>资源</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5"><span class="nav-text">一、旋转矩阵</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-%E5%90%91%E9%87%8F"><span class="nav-text">1.1 向量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-%E6%AC%A7%E6%B0%8F%E5%8F%98%E6%8D%A2"><span class="nav-text">1.2 欧氏变换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-%E5%8F%98%E6%8D%A2%E7%9F%A9%E9%98%B5"><span class="nav-text">1.3 变换矩阵</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E8%A7%92%E8%BD%B4%E5%92%8C%E6%AC%A7%E6%8B%89%E8%A7%92"><span class="nav-text">二、角轴和欧拉角</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E9%97%AE%E9%A2%98%E6%8F%90%E5%87%BA"><span class="nav-text">2.1 问题提出</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-%E8%A7%92%E8%BD%B4"><span class="nav-text">2.2 角轴</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-%E6%AC%A7%E6%8B%89%E8%A7%92"><span class="nav-text">2.3 欧拉角</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%9B%9B%E5%85%83%E6%95%B0"><span class="nav-text">三、四元数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E7%AE%80%E4%BB%8B"><span class="nav-text">3.1 简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E5%9B%9B%E5%85%83%E6%95%B0%E7%9A%84%E8%BF%90%E7%AE%97"><span class="nav-text">3.2 四元数的运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E7%94%A8%E5%9B%9B%E5%85%83%E6%95%B0%E8%A1%A8%E7%A4%BA%E6%97%8B%E8%BD%AC"><span class="nav-text">3.3 用四元数表示旋转</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Huffie"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Huffie</p>
  <div class="site-description" itemprop="description"><font color="#FFFFFF">Done is better than perfect.</font></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">119</span>
          <span class="site-state-item-name">博客</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/weixin_44543463" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_44543463" rel="noopener" target="_blank"><i class="fab fa-cuttlefish fa-fw"></i>CSDN</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/HuffieMa" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;HuffieMa" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:haofei_ma@163.com" title="E-Mail → mailto:haofei_ma@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/huffie65380272" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;huffie65380272" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.huffie.cn/2021/04/10/090-%E3%80%90SLAM%E7%AC%94%E8%AE%B0%E3%80%91%E4%B8%89%E7%BB%B4%E5%88%9A%E4%BD%93%E8%BF%90%E5%8A%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Huffie">
      <meta itemprop="description" content="<font color="#FFFFFF">Done is better than perfect.</font>">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HalfA Studio">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【SLAM笔记】三维刚体运动
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-10 12:03:11" itemprop="dateCreated datePublished" datetime="2021-04-10T12:03:11+08:00">2021-04-10</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-21 11:54:17" itemprop="dateModified" datetime="2021-08-21T11:54:17+08:00">2021-08-21</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/" itemprop="url" rel="index"><span itemprop="name">机器人</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/SLAM/" itemprop="url" rel="index"><span itemprop="name">SLAM</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">两个坐标系之间的旋转、平移关系，统称为坐标系之间的变换关系。机器人运动过程中，往往会设定一个惯性坐标系（即世界坐标系），可以认为它是固定不动的。机器人则是一个移动坐标系。</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p><strong>SLAM笔记专栏：</strong><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44543463/category_10925276.html">https://blog.csdn.net/weixin_44543463/category_10925276.html</a></p>
<hr>
<h2 id="一、旋转矩阵"><a href="#一、旋转矩阵" class="headerlink" title="一、旋转矩阵"></a>一、旋转矩阵</h2><h4 id="1-1-向量"><a href="#1-1-向量" class="headerlink" title="1.1 向量"></a>1.1 向量</h4><p>&emsp;&emsp;向量与坐标是两个不同的概念。向量只是有大小和方向的量。只有当指定了三维空间中某个坐标系的时候，才能谈论向量在此坐标系下的坐标。<strong>因此向量的坐标，既和向量本身有关，也和坐标系的选取有关。</strong><br>&emsp;&emsp;向量的内积描述了向量之间的投影关系。<br><img src="https://img-blog.csdnimg.cn/20210409150857262.png#pic_center"><br>&emsp;&emsp;向量的外积，方向垂直于这两个向量，大小为|a||b|sin&lt;a,b&gt;。<br><img src="https://img-blog.csdnimg.cn/20210410090428395.png#pic_center"></p>
<h4 id="1-2-欧氏变换"><a href="#1-2-欧氏变换" class="headerlink" title="1.2 欧氏变换"></a>1.2 欧氏变换</h4><p>&emsp;&emsp;两个坐标系之间的旋转、平移关系，统称为坐标系之间的变换关系。机器人运动过程中，往往会设定一个惯性坐标系（即世界坐标系），可以认为它是固定不动的。机器人则是一个移动坐标系。<br>&emsp;&emsp;如果需要知道某个向量在机器人坐标系中与世界坐标系中如何转换的，就需要先得到该向量对机器人坐标系的坐标值，再根据机器人位姿转换到世界坐标系中，这个转换关系用矩阵T来描述。<br>&emsp;&emsp;机器人移动是一个刚体运动，即同一个向量在各个坐标系下的长度和夹角都不会发生变化，这种变化就是<strong>欧式变换</strong>。<br><img src="https://img-blog.csdnimg.cn/20210410091352693.png#pic_center" width="40%"></p>
<p><strong>（1）旋转矩阵</strong><br>&emsp;&emsp;假设某个单位正交基($\boldsymbol{e_1}$,$\boldsymbol {e_2}$,$\boldsymbol{e_3}$)经过了一次旋转，变成了($\boldsymbol {e_1}’$,$\boldsymbol{e_2}’$,$\boldsymbol {e_3}’$)，则对于同一个向量$\boldsymbol{a}$（该向量没有随坐标系旋转而运动），则可知<br><img src="https://img-blog.csdnimg.cn/20210410115129293.png#pic_center"><br>用矩阵表示如下<br><img src="https://img-blog.csdnimg.cn/20210409162619682.png#pic_center"><br>&emsp;&emsp;为了表示两个坐标之间的变换关系，等式两边同乘[$\boldsymbol{e_1}^T$ $\boldsymbol{e_2}^T$ $\boldsymbol{e_3}^T$]T，则左侧矩阵变成了单位矩阵：<br><img src="https://img-blog.csdnimg.cn/20210409163540411.png#pic_center"><br>&emsp;&emsp;中间这个行列式为1的正交矩阵，就是所谓的旋转矩阵。<br>&emsp;&emsp;同时，此旋转矩阵的逆描述了一个相反的旋转。<br><img src="https://img-blog.csdnimg.cn/20210409164021886.png#pic_center"><br><strong>（2）平移矩阵</strong><br>&emsp;&emsp;平移矩阵十分简单，只需要将平移量加到旋转之后的坐标上就可以了。<br><img src="https://img-blog.csdnimg.cn/20210409165009954.png#pic_center"></p>
<h4 id="1-3-变换矩阵"><a href="#1-3-变换矩阵" class="headerlink" title="1.3 变换矩阵"></a>1.3 变换矩阵</h4><p>&emsp;&emsp;使用下面这种形式进行变换时，变化多次之后往往会变得过于复杂且不满足线性关系。<br><img src="https://img-blog.csdnimg.cn/2021040916543057.png#pic_center" alt="在这里插入图片描述">&emsp;&emsp;因此通常我们会使用如下的齐次坐标和变换矩阵进行变换。即把三维向量末尾加一，变成四维向量，称为齐次坐标$\tilde{a}$。将旋转矩阵和平移矩阵写在同一个矩阵里面，这个矩阵T称为变换矩阵。<br><img src="https://img-blog.csdnimg.cn/20210409165645446.png#pic_center" alt="在这里插入图片描述">&emsp;&emsp;引入齐次坐标就可以实现多个变换矩阵的连乘，得到一个总的变换矩阵，实现多次变换的累加。<br><img src="https://img-blog.csdnimg.cn/20210409170233936.png#pic_center" alt="在这里插入图片描述"></p>
<h2 id="二、角轴和欧拉角"><a href="#二、角轴和欧拉角" class="headerlink" title="二、角轴和欧拉角"></a>二、角轴和欧拉角</h2><h4 id="2-1-问题提出"><a href="#2-1-问题提出" class="headerlink" title="2.1 问题提出"></a>2.1 问题提出</h4><p>&emsp;&emsp;旋转矩阵有九个量，但一次旋转只有三个自由度，变换矩阵用十六个量表达六自由度变换，表达方式可能冗余。同时旋转矩阵本身要求必须是正交矩阵，变换矩阵一样都需要约束条件，有些情况下这些约束会使求解变得困难。</p>
<h4 id="2-2-角轴"><a href="#2-2-角轴" class="headerlink" title="2.2 角轴"></a>2.2 角轴</h4><p><strong>（1）定义</strong><br>&emsp;&emsp;<strong>任意旋转都可以用一个旋转轴和一个旋转角来刻画</strong>。我们可以使用一个向量，其方向与旋转轴一致，长度等于旋转角，这种向量就称为旋转向量或角轴。<br>&emsp;&emsp;使用角轴表示方法只需要一个三维向量即可描述旋转。同样对于变换矩阵，我们使用一个角轴和一个平移向量即可表达。<br><strong>（2）角轴与旋转矩阵的转换</strong><br>&emsp;&emsp;假设有一个旋转轴为$\boldsymbol {n}$，角度为θ的旋转，显然旋转向量为θ$\boldsymbol {n}$。由角轴转化为旋转矩阵，可以使用罗德里格斯公式：<br><img src="https://img-blog.csdnimg.cn/20210410094915120.png#pic_center" alt="在这里插入图片描述"><br>&emsp;&emsp;同样也可以计算从旋转矩阵到角轴的转换。（由于旋转轴上的向量旋转后不发生变化，因此旋转轴就是旋转矩阵$\boldsymbol {R}$的特征值1对应的特征向量）。<br><img src="https://img-blog.csdnimg.cn/20210410095123855.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-3-欧拉角"><a href="#2-3-欧拉角" class="headerlink" title="2.3 欧拉角"></a>2.3 欧拉角</h4><p>&emsp;&emsp;旋转矩阵和角轴都不太直观，而欧拉角的表达方式比较利于人的理解。（但是在程序中不常用）<br>&emsp;&emsp;欧拉将将旋转分解为三次不同轴上的转动，例如按Z-Y-X顺序转动，可以得到yaw-pitch-roll角。</p>
<blockquote>
<ol>
<li>绕物体的 Z 轴旋转，得到偏航角 yaw；</li>
<li>绕旋转之后的 Y 轴旋转，得到俯仰角 pitch；</li>
<li>绕旋转之后的 X 轴旋转，得到滚转角 roll。</li>
</ol>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20210410104821111.png#pic_center" alt="在这里插入图片描述"><br>&emsp;&emsp;欧拉角存在万向锁的问题，例如在ZYX顺序中，第一次绕Z轴旋转，第二次绕Y轴旋转90°，这时候x轴和系统初始时的Z轴重合了，导致第三次旋转和第一次是绕同一个轴旋转，丢失了一个自由度。所以程序中很少用欧拉角表示机器人的位姿。<br><img src="https://img-blog.csdnimg.cn/20210410110140330.png#pic_center" alt="在这里插入图片描述"></p>
<h2 id="三、四元数"><a href="#三、四元数" class="headerlink" title="三、四元数"></a>三、四元数</h2><h4 id="3-1-简介"><a href="#3-1-简介" class="headerlink" title="3.1 简介"></a>3.1 简介</h4><p>&emsp;&emsp;四元数是一种扩展的复数。我们知道复数可以表示复平面内的旋转，乘i表示复平面内逆时针转90度，单位圆上的复数可以表达二维平面的旋转。<br>&emsp;&emsp;四元数有三个虚部，可以表达三维空间中的旋转。<br><img src="https://img-blog.csdnimg.cn/20210410110458117.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210410110521969.png#pic_center" alt="在这里插入图片描述"><br>&emsp;&emsp;四元数的虚部相乘，类似于虚数i的相乘，也有对应的关系，且其关系很想三维空间中的叉积。<br><img src="https://img-blog.csdnimg.cn/20210410110638239.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="3-2-四元数的运算"><a href="#3-2-四元数的运算" class="headerlink" title="3.2 四元数的运算"></a>3.2 四元数的运算</h4><table>
<thead>
<tr>
<th>运算</th>
<th>公式</th>
</tr>
</thead>
<tbody><tr>
<td>加减法</td>
<td><img src="https://img-blog.csdnimg.cn/20210410110821214.png" alt="在这里插入图片描述"></td>
</tr>
<tr>
<td>乘法</td>
<td><img src="https://img-blog.csdnimg.cn/20210410115827928.png" alt="在这里插入图片描述"></td>
</tr>
<tr>
<td>共轭</td>
<td><img src="https://img-blog.csdnimg.cn/20210410113042373.png" alt="在这里插入图片描述"></td>
</tr>
<tr>
<td>模长</td>
<td><img src="https://img-blog.csdnimg.cn/20210410113127734.png" alt="在这里插入图片描述"></td>
</tr>
<tr>
<td>逆</td>
<td><img src="https://img-blog.csdnimg.cn/20210410113321113.png" alt="在这里插入图片描述"></td>
</tr>
<tr>
<td>数乘</td>
<td><img src="https://img-blog.csdnimg.cn/20210410113341819.png" alt="在这里插入图片描述"></td>
</tr>
<tr>
<td>点乘</td>
<td><img src="https://img-blog.csdnimg.cn/20210410113412414.png" alt="在这里插入图片描述"></td>
</tr>
</tbody></table>
<h4 id="3-3-用四元数表示旋转"><a href="#3-3-用四元数表示旋转" class="headerlink" title="3.3 用四元数表示旋转"></a>3.3 用四元数表示旋转</h4><p><strong>（1）四元数与角轴、旋转矩阵的转换</strong><br>|转换|公式<br>|-|-<br>|角轴到四元数：|<img src="https://img-blog.csdnimg.cn/20210410113741618.png#pic_center" alt="在这里插入图片描述"><br>|四元数到角轴|<img src="https://img-blog.csdnimg.cn/20210410114027477.png" alt="在这里插入图片描述"><br>|四元数到旋转矩阵|<img src="https://img-blog.csdnimg.cn/20210410114303272.png" alt="在这里插入图片描述"><br><strong>（2）使用四元数表示旋转</strong><br>&emsp;&emsp;四元数有三个虚部i, j, k，将三个坐标值作为三个虚部的系数，另实部为零，这样就将一个三维空间坐标转换为纯虚四元数表示的坐标。<br><img src="https://img-blog.csdnimg.cn/20210410114512501.png#pic_center" alt="在这里插入图片描述"><br>&emsp;&emsp;用一个四元数$\boldsymbol{q}$表示旋转。<br><img src="https://img-blog.csdnimg.cn/20210410114650168.png#pic_center" alt="在这里插入图片描述"><br>&emsp;&emsp;空间点的旋转可以用四元数的乘法表示，旋转后的点$\boldsymbol{p’}$如下<br><img src="https://img-blog.csdnimg.cn/20210410114752936.png#pic_center" alt="在这里插入图片描述"></p>
<blockquote>
<p>参考：<strong>高翔-视觉SLAM十四讲</strong><br>相关Github：<a target="_blank" rel="noopener" href="https://github.com/gaoxiang12/slambook">https://github.com/gaoxiang12/slambook</a></p>
</blockquote>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="followme">
  <span>欢迎关注我的其它发布渠道</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="https://blog.csdn.net/weixin_44543463">
          <span class="icon">
            <i class="fab fa-cuttlefish"></i>
          </span>

          <span class="label">CSDN</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag"><i class="fa fa-tag"></i> 笔记</a>
              <a href="/tags/slam/" rel="tag"><i class="fa fa-tag"></i> slam</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/04/08/089-Labview%E7%94%9F%E6%88%90%E4%B8%89%E7%BB%B4%E6%9B%B2%E9%9D%A2%20%20%E8%8A%B1%E7%93%B6/" rel="prev" title="Labview生成三维曲面 | 花瓶">
                  <i class="fa fa-chevron-left"></i> Labview生成三维曲面 | 花瓶
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/04/12/091-%E3%80%90SLAM%E7%AC%94%E8%AE%B0%E3%80%91%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Eigen%E8%BF%9B%E8%A1%8C%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97/" rel="next" title="【SLAM笔记】如何使用Eigen进行矩阵运算">
                  【SLAM笔记】如何使用Eigen进行矩阵运算 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian">

  </div>

<div class="copyright">
    <span class="with-love">
      <img src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.9/images/icp.png" alt="" style="height:17px;margin-bottom:-3px">
    </span><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">津ICP备2021000769号-2 </a>
  丨<a href="https://www.huffie.cn/">Copyright
  &copy; 2020 – 
  <span itemprop="copyrightYear">2021</span>
  <!--<span class="with-love"><i class="fa fa-grip-lines-vertical"></i></span>--></a>丨
  <span class="author" itemprop="copyrightHolder">
  <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Powered by Hexo</a>
  </span>丨
  <span>
    <!-- 网站运行时间 -->
    <a target="_blank" rel="noopener" href="https://wangzhan.baidu.com/web/welcome/ico?s=3fd06b1b63f9b056d19abc6f5a943aed">
    </script>
    <span id="runtime_span"></span>
    <script type="text/javascript">function show_runtime(){window.setTimeout("show_runtime()",1000);X=new 
    Date("1/21/2021 14:56:40");
    Y=new Date();T=(Y.getTime()-X.getTime());M=24*60*60*1000;
    a=T/M;A=Math.floor(a);b=(a-A)*24;B=Math.floor(b);c=(b-B)*60;C=Math.floor((b-B)*60);D=Math.floor((c-C)*60);
    runtime_span.innerHTML="本站已运行 "+A+"天"+B+"小时"+C+"分"+D+"秒"}show_runtime();</script>
    </a>丨
  </span>
  <span class="with-love">
    <a target="_blank" rel="noopener" href="https://wangzhan.baidu.com/web/welcome/ico?s=3fd06b1b63f9b056d19abc6f5a943aed">
      <img src="https://wangzhan.baidu.com/sc-web/image/icon/45.gif?__v=1628562176659" alt="" style="height:17px;margin-bottom:-3px">
    </a>
  </span>
</div><script color="6,6,6" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>
    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>




  




  <script src="//cdn.jsdelivr.net/npm/minigrid@3.1.1/dist/minigrid.min.js"></script>
  <script src="/js/photo.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":200},"mobile":{"show":true},"react":{"opacity":1}});</script></body>
</html>
