<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>【论文笔记】FFB6D | 马浩飞丨博客</title><meta name="keywords" content="笔记,视觉,位姿估计"><meta name="author" content="马浩飞"><meta name="copyright" content="马浩飞"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="FFB6D相当于在特征提取阶段就将RGB和点云信息进行了融合，然后进行实例分割和关键点检测。">
<meta property="og:type" content="article">
<meta property="og:title" content="【论文笔记】FFB6D">
<meta property="og:url" content="https://www.mahaofei.com/post/ffb6d.html">
<meta property="og:site_name" content="马浩飞丨博客">
<meta property="og:description" content="FFB6D相当于在特征提取阶段就将RGB和点云信息进行了融合，然后进行实例分割和关键点检测。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.mahaofei.com/img/20220907202451.png">
<meta property="article:published_time" content="2022-09-15T12:25:09.000Z">
<meta property="article:modified_time" content="2022-09-15T12:25:09.000Z">
<meta property="article:author" content="马浩飞">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="视觉">
<meta property="article:tag" content="位姿估计">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.mahaofei.com/img/20220907202451.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.mahaofei.com/post/ffb6d"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="code-bB89NudWgv"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?439a0d0abeb31dd8f338efd8266c999b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"ABY1KMOQQM","apiKey":"d3f3a4fbb355106e6bf265cf8da1863b","indexName":"hexo","hits":{"per_page":4},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【论文笔记】FFB6D',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-09-15 20:25:09'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="/css/custom/MainColor.css"><link rel="stylesheet" href="/css/custom/categoryBar.css"><link rel="stylesheet" href="/css/custom/404.css"><link rel="stylesheet" href="/css/custom/cardHistory.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><link rel="stylesheet" href="/css/custom/custom.css"><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="马浩飞丨博客" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">250</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">79</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-history"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-envelope-open-text"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 本站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/"><i class="fa-fw fa-solid fa-blog"></i><span> 个人博客</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://academic.mahaofei.com/"><i class="fa-fw fa-solid fa-graduation-cap"></i><span> 学术主页</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://nav.mahaofei.com/"><i class="fa-fw fas fa-compass"></i><span> 导航网站</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img.mahaofei.com/img/20220907202451.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">马浩飞丨博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-history"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-envelope-open-text"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 本站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/"><i class="fa-fw fa-solid fa-blog"></i><span> 个人博客</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://academic.mahaofei.com/"><i class="fa-fw fa-solid fa-graduation-cap"></i><span> 学术主页</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://nav.mahaofei.com/"><i class="fa-fw fas fa-compass"></i><span> 导航网站</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center></div><div id="nav-right"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">【论文笔记】FFB6D</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-15T12:25:09.000Z" title="发表于 2022-09-15 20:25:09">2022-09-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-15T12:25:09.000Z" title="更新于 2022-09-15 20:25:09">2022-09-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/">计算机视觉</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%89%A9%E4%BD%93%E4%BD%8D%E5%A7%BF%E4%BC%B0%E8%AE%A1/">物体位姿估计</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="【论文笔记】FFB6D"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/post/ffb6d.html#post-comment"><span id="twikoo-count"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h1><p>该方法认为RGB图像和深度信息是两个数据源，关键在于如何使两者有机结合。</p>
<blockquote>
<p>Our key insight is that appearance information in the RGB image and geometry information from the depth image are two complementary data sources, and it still remains unknown how to fully leverage them. </p>
</blockquote>
<p>通过在RGB和深度信息的特征提取网络的每一层中建立<strong>双向融合通道</strong>，这样两个网络可以使用另一个网络的局部和全局特征。</p>
<blockquote>
<p>Specifically, at the representation learning stage, we build bidirectional fusion modules in the full flow of the two networks, where fusion is applied to each encoding and decoding layer . In this way, the two networks can leverage local and global complementary information from the other one to obtain better representations.</p>
</blockquote>
<p>在网络输出层，设计了考虑纹理和几何信息的<strong>关键点选取算法</strong>，简化了关键点定位，实现了精确的位姿估计。</p>
<blockquote>
<p>Moreover , at the output representation stage, we designed a simple but effective 3D keypoints selection algorithm considering the texture and geometry information of objects, which simplifies keypoint localization for precise pose estimation. </p>
</blockquote>
<h1 id="二、FFB6D的流程框图"><a href="#二、FFB6D的流程框图" class="headerlink" title="二、FFB6D的流程框图"></a>二、FFB6D的流程框图</h1><p><strong>整体流程</strong></p>
<p><img src="https://img.mahaofei.com/img/20221108111424.png" alt=""></p>
<p>利用CNN和点云网络分别对RGB和点云进行表示，两个网络的每一层之间通过双向融合模块搭建桥梁。最终提取的逐点特征被送入实例分割模块和3D关键点投票模块，最终回归出物体的6D位姿。</p>
<p><strong>像素-&gt;点云融合模块</strong></p>
<p><img src="https://img.mahaofei.com/img/20221108210334.png" alt=""></p>
<p>RGB特征图部分：对于每一个点云，找到它的空间最近邻点，搜索这些点对应的RGB特征图，通过池化和共享多层感知机将这些特征图生成为一个RGB特征图。</p>
<p>点云特征部分：直接提取点云特征。</p>
<p>两者组合成为一组新的RGB-点云特征，交给下一层进行处理。</p>
<p><strong>点云-&gt;像素融合模块</strong></p>
<p><img src="https://img.mahaofei.com/img/20221108210504.png" alt=""></p>
<p>与像素-&gt;点云为对偶处理方式。</p>
<h1 id="三、具体实现"><a href="#三、具体实现" class="headerlink" title="三、具体实现"></a>三、具体实现</h1><h2 id="3-1-总体流程"><a href="#3-1-总体流程" class="headerlink" title="3.1 总体流程"></a>3.1 总体流程</h2><ul>
<li>逐点提取RGBD特征，用于每个物体的3D关键点定位<ul>
<li>CNN网络提取RGB特征</li>
<li>Point Cloud Net提取点云特征</li>
<li>两者双向融合</li>
</ul>
</li>
<li>将逐点特征输入到实例分割网络和3D关键点检测模块，提取每个物体的3D关键点</li>
<li>用最小二乘法拟合姿态参数</li>
</ul>
<h2 id="3-2-双向融合网络"><a href="#3-2-双向融合网络" class="headerlink" title="3.2 双向融合网络"></a>3.2 双向融合网络</h2><blockquote>
<p>Full Flow Bidirectional Fusion Network</p>
</blockquote>
<p>在特征提取前首先用相机标定矩阵将深度图转换为点云图。</p>
<p>网络基本框架是分别用CNN和PCN网络对RGB和点云进行特征提取，并在两个网络之间添加双向通信模块。</p>
<p><strong>（1）像素-&gt;点云融合 Pixel-to-point fusion</strong></p>
<p>常规方法是从RGB图中生成图像的全局特征，添加到每一个，但这种方法会引入背景和其他物体的特征，对结果反而造成干扰。</p>
<p>本文所使用的方法为：</p>
<ul>
<li>接受<em>RGBD特征图</em>，对于点云特征图中每一个点云</li>
<li>找到其在XYZ空间对应的点，以及周围的最近邻点</li>
<li>找到这些点对应的RGB特征</li>
<li>将这些RGB特征通过最大池化和多层感知机压缩到一个通道中</li>
<li>把<em>一个点云特征</em>和<em>一个压缩好的图像特征</em>串联组合成<em>一组RGBD特征向量</em></li>
<li>同样方法计算所有点的RGBD特征向量，组成传递<em>RGBD特征图</em>给下一层</li>
</ul>
<p>注意：由于随深度的增加，特征图的尺寸将会减小，需要采取方法使每一个特征图像素能找到它对应的3D点云坐标。本文采取的方式是<em>在最近邻搜索算法中也使用同样步长的卷积核进行卷积</em>，这样图像特征图和点云特征图就可以对应了。（不将整个点云特征进行同样的卷积是为了避免前景背景深度大幅度变化导致的卷积噪声）</p>
<p><strong>（2）点云-&gt;像素融合 Point-to-pixel fusion</strong></p>
<p>与像素-&gt;点云融合类似</p>
<ul>
<li>接受<em>RGBD特征图</em>，对于RGB特征图中每一个像素</li>
<li>找到其在XYZ空间对应的点，以及周围的最近邻点</li>
<li>找到这些点对应的点云特征</li>
<li>将这些点云特征通过最大池化和多层感知机压缩到一个通道中</li>
<li>把<em>一个RGB特征</em>和<em>一个压缩好的点云特征</em>串联组合成<em>一组RGBD特征向量</em></li>
<li>同样方法计算所有点的RGBD特征向量，组成传递<em>RGBD特征图</em>给下一层</li>
</ul>
<h2 id="3-3-基于3D关键点的6D位姿估计"><a href="#3-3-基于3D关键点的6D位姿估计" class="headerlink" title="3.3 基于3D关键点的6D位姿估计"></a>3.3 基于3D关键点的6D位姿估计</h2><p>该部分延续了PVN3D的3D关键点算法，进行了优化使算法能够充分利用图像和纹理信息。</p>
<p><strong>（1）逐对象的3D关键点检测</strong></p>
<p>通过实例语义分割模块来区分不同的对象，包括语义分割和中心点投票两个子模块。</p>
<ul>
<li>前者用于预测每个点的语义标签</li>
<li>后者计算每个点到对象中心的距离。</li>
</ul>
<p>通过添加关键点投票模块来恢复每个对象的3D关键点。学习选定的关键点（利用MeanShift聚类方式）的逐点偏移来实现。</p>
<p><strong>（2）关键点选择</strong></p>
<p>以前的方法是在物体表面通过最远点采样算法FPS，首<em>先确定一组随机点</em>，然后再物体表面逐个找到FPS最远点并加入到序列中，直到点数量到达N。<br>这种方法有时会随机到没有特征的平坦表面，得到的关键点反而没有特征。</p>
<p>本文提出了SIFT-FPS方法，通过<em>在二维平面中用SIFT算法找到特征点，作为初始序列</em>，然后使用FPS找到N个关键点。</p>
<p><strong>（3）最小二乘拟合</strong></p>
<p>上面计算的是物体坐标系的3D关键点，即每个关键点相对于物体中心的偏移量。</p>
<p>我们又有相机中每个点的3D关键点对应的点云坐标。</p>
<p>通过最小二乘拟合我们就可以计算物体的位姿了。</p>
<h2 id="3-4-网络体系"><a href="#3-4-网络体系" class="headerlink" title="3.4 网络体系"></a>3.4 网络体系</h2><p><strong>RGB</strong>：使用ImageNet预训练的ResNet34作为RGB的编码器，使用PSPNet作为解码器</p>
<p><strong>PointCloud</strong>：从深度图中抽取了12288个点，使用RandLA-Net进行学习。</p>
<p>上述两个网络的编解码层，利用最大池化和共享MLP构建双向融合模块。</p>
<p><strong>常规优化</strong>：语义分割分支使用Focal Loss，中心点投票和3D关键点投票使用L1 Loss。</p>
<p><strong>SIFT-FPS</strong>：将目标物体放在球体的中心，并等距采样摄像机的视点，通过渲染引擎获得带有相机姿态的RGBD图像，然后使用SIFT检测2D关键点，并转换到3D，在转换为相机坐标系。<br>（应该是使用mesh模型获取RGBD图像和关键点）</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>相比于DenseFusion，我认为FFB6D通过一些rgb工作做了很有用的改进。</p>
<p>首先DenseFusion是利用CNN和PCN单独提取RGB和点云的特征，再加上全局特征，三者合并组合成一个点的特征，然后进行姿态预测。</p>
<p>而FFB6D相当于在特征提取阶段就将RGB和点云信息进行了融合，然后进行实例分割和关键点检测。</p>
<p>用不恰当的比喻，类比到2D图像识别中：<br>DenseFusion是从用一个网络提取每个点的X方向特征，再用一个网络提取每个点的Y方向特征，在提取整张图的全局特征，三者串在一起就是一个点的特征向量，用这个特征向量再进行回归计算。<br>FFB6D是在每一个点上，在一个网络中每层都同时看X方向和Y方向的特征，得到的也是两者组合的特征。</p>
<p>特征的含义：同样类比与二维图像识别，例如人脸识别，前几层每个特征图提取的是局部特征，例如边界线，角点，中间几层特征图得到的是部分特征，例如嘴角，眼睛，鼻子等，最后几层特征图得到的是整体特征，每个特征图中基本都包含一个人脸。此处也类似，使用点特征也就对应二维的像素，前几层提取的是局部特征，就是物体的边、角等，最后几层特征图就会代表物体整体。</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>既然有RGB卷积网络，为什么不能有4通道卷积，类比于图像处理，直接将RGBD通过一个卷积核得到一个数字，将D也作为一个通道，这样是否有效？</p>
<h2 id="——"><a href="#——" class="headerlink" title="——"></a>——</h2><h1 id="代码复现"><a href="#代码复现" class="headerlink" title="代码复现"></a>代码复现</h1><h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1 安装"></a>1 安装</h2><h2 id="1-1-准备工作"><a href="#1-1-准备工作" class="headerlink" title="1.1 准备工作"></a>1.1 准备工作</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ethnhe/FFB6D.git</span><br></pre></td></tr></table></figure>
<h2 id="1-2-环境搭建"><a href="#1-2-环境搭建" class="headerlink" title="1.2 环境搭建"></a>1.2 环境搭建</h2><p><strong>创建虚拟环境</strong>（据说3.6可以正常使用，3.8无法成功）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n ffb6d python=3.6</span><br><span class="line">conda activate ffb6d</span><br></pre></td></tr></table></figure>
<p>修改<code>requirement.txt</code>，将<code>yaml</code>改为<code>pyyaml</code>，删除<code>pprint</code>和<code>glumpy</code>，并在最后添加下面这些包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tqdm  </span><br><span class="line">tensorboardX  </span><br><span class="line">pandas  </span><br><span class="line">scikit-learn  </span><br><span class="line">termcolor</span><br><span class="line">packaging</span><br></pre></td></tr></table></figure>
<p>然后<strong>安装依赖</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 install -r requirement.txt</span><br><span class="line">pip3 install glumpy</span><br></pre></td></tr></table></figure>
<p><strong>安装apex</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/NVIDIA/apex</span><br><span class="line"><span class="built_in">cd</span> apex</span><br><span class="line"><span class="built_in">export</span> TORCH_CUDA_ARCH_LIST=<span class="string">&quot;6.0;6.1;6.2;7.0;7.5&quot;</span>  <span class="comment"># set the target architecture manually, suggested in issue https://github.com/NVIDIA/apex/issues/605#issuecomment-554453001</span></span><br><span class="line">pip3 install -v --disable-pip-version-check --no-cache-dir --global-option=<span class="string">&quot;--cpp_ext&quot;</span> --global-option=<span class="string">&quot;--cuda_ext&quot;</span> ./</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果出现<code>python setup.py egg_info Check the logs for full command output</code>的错误<br>使用<code>python setup.py install -v</code>安装</p>
</blockquote>
<p><strong>安装normalSpeed</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/hfutcgncas/normalSpeed.git</span><br><span class="line"><span class="built_in">cd</span> normalSpeed/normalSpeed</span><br><span class="line">python3 setup.py install --user</span><br><span class="line"><span class="built_in">cd</span> ../..</span><br></pre></td></tr></table></figure>
<p><strong>安装tkinter</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install python3-tk</span><br></pre></td></tr></table></figure>
<p><strong>编译RandLA-Net</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ffb6d/models/RandLA/</span><br><span class="line">sh compile_op.sh</span><br></pre></td></tr></table></figure>
<h2 id="2-数据准备"><a href="#2-数据准备" class="headerlink" title="2 数据准备"></a>2 数据准备</h2><ul>
<li><a target="_blank" rel="noopener" href="https://hkustconnect-my.sharepoint.com/:u:/g/personal/yhebk_connect_ust_hk/ETW6iYHDbo1OsIbNJbyNBkABF7uJsuerB6c0pAiiIv6AHw?e=eXM1UE">LineMOD数据集</a></li>
<li><a target="_blank" rel="noopener" href="https://rse-lab.cs.washington.edu/projects/posecnn/">YCB-Video数据集</a></li>
</ul>
<h2 id="3-训练、评估与可视化"><a href="#3-训练、评估与可视化" class="headerlink" title="3 训练、评估与可视化"></a>3 训练、评估与可视化</h2><h2 id="4-自己的数据集"><a href="#4-自己的数据集" class="headerlink" title="4 自己的数据集"></a>4 自己的数据集</h2><h3 id="4-1-生成mesh信息"><a href="#4-1-生成mesh信息" class="headerlink" title="4.1 生成mesh信息"></a>4.1 生成mesh信息</h3><p><strong>（1）安装raster_triangle进行RGBD图像渲染</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ethnhe/raster_triangle.git</span><br><span class="line"><span class="built_in">cd</span> raster_triangle</span><br><span class="line">sh rastertriangle_so.sh</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果出现<code>fatal error: opencv2/highgui/highgui.hpp: No such file or directory</code><br>修改<code>rastertriangle_so.sh</code>文件中<code>-I</code>部分为<code>-I /usr/include/opencv4</code></p>
<p>修改后如下:<br><code>g++ rastertriangle_so.cpp -o rastertriangle_so.so -shared -fPIC -Wall -I /usr/include/opencv4 -L/usr/lib/x86_64-linux-gnu -lopencv_stitching -lopencv_objdetect -lopencv_superres -lopencv_videostab -lopencv_calib3d -lopencv_features2d -lopencv_highgui -lopencv_video -lopencv_photo -lopencv_ml -lopencv_imgproc -lopencv_flann -lopencv_core</code></p>
</blockquote>
<p><strong>（2）编译FPS脚本</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ffb6d/utils/dataset_tools/fps/</span><br><span class="line">python3 setup.py build_ext --inplace</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<p><strong>（3）安装python依赖</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install -r requirement.txt</span><br></pre></td></tr></table></figure>
<p><strong>（4）生成物体的信息，如半径、3D关键点等</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 gen_obj_info.py --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>
<p>如果使用ply模型，并且角点颜色信息包含在ply模型中，可以使用默认raster triangle来渲染。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以ape物体为例</span></span><br><span class="line"><span class="comment"># 需要根据情况设置单位参数scale2m，使生成的信息都以m为单位</span></span><br><span class="line">python3 gen_obj_info.py --obj_name=<span class="string">&#x27;ape&#x27;</span> --obj_pth=<span class="string">&#x27;example_mesh/ape.ply&#x27;</span> --scale2m=1000. --sv_fd=<span class="string">&#x27;ape_info&#x27;</span></span><br></pre></td></tr></table></figure>
<p>如果使用obj模型，可以将每一个角点转换为米为单位，然后使用pyrender。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以cracker box物体为例</span></span><br><span class="line">python3 gen_obj_info.py --obj_name=<span class="string">&#x27;cracker_box&#x27;</span> --obj_pth=<span class="string">&#x27;example_mesh/003_cracker_box/textured.obj&#x27;</span> --scale2m=1. --sv_fd=<span class="string">&#x27;cracker_box_info&#x27;</span> --use_pyrender</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>bug：需要python3.8</strong></p>
</blockquote>
<h3 id="4-2-修改数据集信息"><a href="#4-2-修改数据集信息" class="headerlink" title="4.2 修改数据集信息"></a>4.2 修改数据集信息</h3><p>先将<code>FFB6D/ffb6d/common.py</code>文件复制备份一个。</p>
<p>然后修改<code>FFB6D/ffb6d/common.py</code>文件内容。</p>
<h3 id="4-3-编写数据集预处理脚本"><a href="#4-3-编写数据集预处理脚本" class="headerlink" title="4.3 编写数据集预处理脚本"></a>4.3 编写数据集预处理脚本</h3><p>参考<code>FFB6D/ffb6d/datasets/ycb/ycb_dataset.py</code>，注意要正确修改调用模型信息的函数，例如3D关键点、中心点、半径等。</p>
<h3 id="4-4-检查数据集预处理情况（非常重要）"><a href="#4-4-检查数据集预处理情况（非常重要）" class="headerlink" title="4.4 检查数据集预处理情况（非常重要）"></a>4.4 检查数据集预处理情况（非常重要）</h3><p>通过可视化检查是否正确处理了数据，例如投影的关键点、中心点、每个点的语义标签等是否正确。</p>
<p>例如可以运行<code>python3 -m datasets.ycb.ycb_dataset</code>来可视化投影的中心点和所选的关键点。</p>
<h3 id="4-5-确保数据能被正确加载"><a href="#4-5-确保数据能被正确加载" class="headerlink" title="4.5 确保数据能被正确加载"></a>4.5 确保数据能被正确加载</h3><p>检查<code>FFB6D/ffb6d/utils/pvn3d_eval_utils.py</code>中能否正确在物体坐标系中加载关键点、中心点、半径等信息。</p>
<h3 id="4-6-检查所有设置是否正确"><a href="#4-6-检查所有设置是否正确" class="headerlink" title="4.6 检查所有设置是否正确"></a>4.6 检查所有设置是否正确</h3><p>利用ground_truth数据进行评估，检查所有设置是否正确，如果正确，结果应该接近100。</p>
<p>例如将<code>-test_gt</code>参数传给<code>train_ycb.py</code>，就可以获得YCB数据集的ground_truth结果。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tst_mdl=train_log/ycb/checkpoints/FFB6D_best.pth.tar</span><br><span class="line">python3 -m torch.distributed.launch --nproc_per_node=1 train_ycb.py --gpu <span class="string">&#x27;0&#x27;</span> -eval_net -checkpoint <span class="variable">$tst_mdl</span> -<span class="built_in">test</span> -test_pose -test_gt</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>【论文笔记】FFB6D</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://www.mahaofei.com/post/ffb6d.html">https://www.mahaofei.com/post/ffb6d.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>马浩飞</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2022-09-15</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2022-09-15</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><a class="post-meta__tags" href="/tags/%E8%A7%86%E8%A7%89/">视觉</a><a class="post-meta__tags" href="/tags/%E4%BD%8D%E5%A7%BF%E4%BC%B0%E8%AE%A1/">位姿估计</a></div><div class="post_share"><div class="social-share" data-image="https://img.mahaofei.com/img/20220907202451.png" data-sites="qq,wechat,weibo,facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechatpay.png" target="_blank"><img class="post-qr-code-img" src="/img/wechatpay.png" alt="微信支付"/></a><div class="post-qr-code-desc">微信支付</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/densefusion-paper.html"><img class="prev-cover" src="https://img.mahaofei.com/img/20220912191133.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">【论文笔记】DenseFusion</div></div></a></div><div class="next-post pull-right"><a href="/post/custom-linemod.html"><img class="next-cover" src="https://img.mahaofei.com/img/20220918154609.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">制作自己的Linemod数据集（ObjectDatasetTools）</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><a href="https://www.mahaofei.com"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></a></div><div class="author-info__name">马浩飞</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">250</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">79</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://academic.mahaofei.com/"><i class="fa-solid fa-graduation-cap"></i><span>学术主页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/HaofeiMa" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:mail@mahaofei.com" target="_blank" title="E-Mail"><i class="fa fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">新增了<a target="_blank" rel="noopener" href="https://academic.mahaofei.com/">学术主页</a>！<br>有任何问题欢迎留言评论或邮件联系。<br>E-mail：<a href="mailto:blog@mahaofei.com" style="text-decoration:underline;">blog@mahaofei.com</a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0"><span class="toc-text">一、概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81FFB6D%E7%9A%84%E6%B5%81%E7%A8%8B%E6%A1%86%E5%9B%BE"><span class="toc-text">二、FFB6D的流程框图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="toc-text">三、具体实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%80%BB%E4%BD%93%E6%B5%81%E7%A8%8B"><span class="toc-text">3.1 总体流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%8F%8C%E5%90%91%E8%9E%8D%E5%90%88%E7%BD%91%E7%BB%9C"><span class="toc-text">3.2 双向融合网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%9F%BA%E4%BA%8E3D%E5%85%B3%E9%94%AE%E7%82%B9%E7%9A%846D%E4%BD%8D%E5%A7%BF%E4%BC%B0%E8%AE%A1"><span class="toc-text">3.3 基于3D关键点的6D位姿估计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB"><span class="toc-text">3.4 网络体系</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-text">问题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%94%E2%80%94"><span class="toc-text">——</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%A4%8D%E7%8E%B0"><span class="toc-text">代码复现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85"><span class="toc-text">1 安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-text">1.1 准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">1.2 环境搭建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87"><span class="toc-text">2 数据准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%AE%AD%E7%BB%83%E3%80%81%E8%AF%84%E4%BC%B0%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-text">3 训练、评估与可视化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-text">4 自己的数据集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E7%94%9F%E6%88%90mesh%E4%BF%A1%E6%81%AF"><span class="toc-text">4.1 生成mesh信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E9%9B%86%E4%BF%A1%E6%81%AF"><span class="toc-text">4.2 修改数据集信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E7%BC%96%E5%86%99%E6%95%B0%E6%8D%AE%E9%9B%86%E9%A2%84%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC"><span class="toc-text">4.3 编写数据集预处理脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E6%A3%80%E6%9F%A5%E6%95%B0%E6%8D%AE%E9%9B%86%E9%A2%84%E5%A4%84%E7%90%86%E6%83%85%E5%86%B5%EF%BC%88%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81%EF%BC%89"><span class="toc-text">4.4 检查数据集预处理情况（非常重要）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E7%A1%AE%E4%BF%9D%E6%95%B0%E6%8D%AE%E8%83%BD%E8%A2%AB%E6%AD%A3%E7%A1%AE%E5%8A%A0%E8%BD%BD"><span class="toc-text">4.5 确保数据能被正确加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E6%A3%80%E6%9F%A5%E6%89%80%E6%9C%89%E8%AE%BE%E7%BD%AE%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE"><span class="toc-text">4.6 检查所有设置是否正确</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recommend-post"><div class="item-headline"><i class="fas fa-dharmachakra"></i><span>相关推荐</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/linemod.html" title="【6D位姿估计算法】linemod的介绍与代码测试"><img src="https://img.mahaofei.com/img/mesh%E7%BD%91%E6%A0%BC%E6%A8%A1%E5%9E%8B.png" alt="【6D位姿估计算法】linemod的介绍与代码测试"></a><div class="content"><a class="title" href="/post/linemod.html" title="【6D位姿估计算法】linemod的介绍与代码测试">【6D位姿估计算法】linemod的介绍与代码测试</a><time datetime="2022-08-13" title="发表于 2022-08-13">2022-08-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/posecnn.html" title="【6D位姿估计算法】PoseCNN"><img src="https://img.mahaofei.com/img/20220907202451.png" alt="【6D位姿估计算法】PoseCNN"></a><div class="content"><a class="title" href="/post/posecnn.html" title="【6D位姿估计算法】PoseCNN">【6D位姿估计算法】PoseCNN</a><time datetime="2022-09-07" title="发表于 2022-09-07">2022-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/pvnet.html" title="【6D位姿估计算法】PVNet"><img src="https://img.mahaofei.com/img/20230225211551.png" alt="【6D位姿估计算法】PVNet"></a><div class="content"><a class="title" href="/post/pvnet.html" title="【6D位姿估计算法】PVNet">【6D位姿估计算法】PVNet</a><time datetime="2022-09-12" title="发表于 2022-09-12">2022-09-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/densefusion-paper.html" title="【论文笔记】DenseFusion"><img src="https://img.mahaofei.com/img/20220912191133.png" alt="【论文笔记】DenseFusion"></a><div class="content"><a class="title" href="/post/densefusion-paper.html" title="【论文笔记】DenseFusion">【论文笔记】DenseFusion</a><time datetime="2022-09-12" title="发表于 2022-09-12">2022-09-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/6dgrasp-papers.html" title="抓取姿态估计算法调研"><img src="https://img.mahaofei.com/img/202304231603042.png" alt="抓取姿态估计算法调研"></a><div class="content"><a class="title" href="/post/6dgrasp-papers.html" title="抓取姿态估计算法调研">抓取姿态估计算法调研</a><time datetime="2023-04-23" title="发表于 2023-04-23">2023-04-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/3d-reconstruction.html" title="三维重建方法汇总"><img src="https://pic2.zhimg.com/80/v2-bd6adb618c98e7b8c2cb09f4c1f2b805_720w.jpg" alt="三维重建方法汇总"></a><div class="content"><a class="title" href="/post/3d-reconstruction.html" title="三维重建方法汇总">三维重建方法汇总</a><time datetime="2022-06-25" title="发表于 2022-06-25">2022-06-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://img.mahaofei.com/img/GoodnightCopenhagen.png')"><div id="footer-wrap"><div class="footer_custom_text"><p><a style="margin-inline:5px"target="_blank"href="https://github.com/"><img src="https://img.shields.io/badge/Hosted-Github-brightgreen?style=flat&logo=GitHub"title="本站项目由Gtihub托管"></a><a style="margin-inline:5px"target="_blank"href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo"title="博客框架为Hexo"></a><a style="margin-inline:5px"target="_blank"href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?logoColor=white&style=flat&logo=buefy"title="主题采用butterfly"></a><a style="margin-inline:5px"target="_blank"href="https://aliyun.com/product/cdn"><img src="https://img.shields.io/badge/DNS-Cloudflare-orange?style=flat&logo=Cloudflare"title="本站使用Cloudflare网络服务"></a><a style="margin-inline:5px"target="_blank"href="https://beian.miit.gov.cn/"><img src="https://img.shields.io/badge/%E6%B4%A5ICP%E5%A4%87-2021000769%E5%8F%B7--3-red?logo=data:image/png;base64,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"title="备案号:津ICP备2021000769号-3"></a><a style="margin-inline:5px"target="_blank"href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris"title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><i class="fas fa-adjust"><use id="modeicon" xlink:href="#icon-moon"></use></i></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Algolia</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.mahaofei.com/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.vemoji)'))
      }
    }, "https://cdn.jsdelivr.net/gh/zhheo/twikoo@dev/dist/twikoo.all.min.js"))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'https://twikoo.mahaofei.com/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      document.getElementById('twikoo-count').innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script><script src="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/index.js"></script><script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script><script src="/js/custom/categoryBar.js"></script><script src="/js/custom/cardHistory.js"></script><script src="/js/custom/light_dark.js"></script><script src="/js/custom/forbidCopy.js"></script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"Jfmc1FSFWs09EC8r",ck:"Jfmc1FSFWs09EC8r"})</script><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script>new LingQue.Monitor().init({id:"JfmcYvlVsVAZlVkS"});</script><script defer src="https://cloud.umami.is/script.js" data-website-id="86b466f8-e8bc-415b-954e-289b3d0110fb"></script><script src="/js/custom/custom.js"></script><script src="/js/custom/nav.js"></script><script id="canvas_nest" defer="defer" color="66,66,66" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>