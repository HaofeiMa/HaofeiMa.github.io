<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é©¬æµ©é£ä¸¨åšå®¢</title>
  
  <subtitle>è¿›æ­¥æ— æ­¢å¢ƒ</subtitle>
  <link href="https://www.mahaofei.com/atom.xml" rel="self"/>
  
  <link href="https://www.mahaofei.com/"/>
  <updated>2025-05-14T02:25:38.000Z</updated>
  <id>https://www.mahaofei.com/</id>
  
  <author>
    <name>é©¬æµ©é£</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Cloudflare R2 ä¸ªäººå›¾åºŠ</title>
    <link href="https://www.mahaofei.com/post/cloudflare-r2.html"/>
    <id>https://www.mahaofei.com/post/cloudflare-r2.html</id>
    <published>2025-05-14T02:25:38.000Z</published>
    <updated>2025-05-14T02:25:38.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¹‹å‰ä½¿ç”¨é˜¿é‡Œäº‘OSS æ­å»ºä¸ªäººå›¾åºŠï¼Œä½†æ˜¯éšç€æ–‡ç« æ•°é‡å’Œå›¾ç‰‡æ•°é‡å¢å¤šï¼Œç½‘ç«™è®¿é—®é‡å¢å¤§ï¼Œå›¾åºŠçš„æµé‡ä¹Ÿå˜å¤§äº†ï¼Œå¯¼è‡´è´¹ç”¨æ—¥ç›Šä¸Šå‡ã€‚å› æ­¤è€ƒè™‘åˆ‡æ¢ä¸€ä¸ªå›¾åºŠå¹³å°ï¼Œæ‰¾åˆ°äº†èµ›åšå¤§å–„äºº Cloudflare çš„ R2 å­˜å‚¨æ¡¶å¯ä»¥æä¾›å…è´¹ 10G å­˜å‚¨ï¼Œæ¯æœˆ 1000 ä¸‡æ¬¡å…è´¹è¯»å–è¯·æ±‚ã€‚</p></blockquote><h2 id="1-Cloudflare-R2-å­˜å‚¨æ¡¶">1. Cloudflare R2 å­˜å‚¨æ¡¶</h2><h3 id="1-1-åˆ›å»º-R2-å­˜å‚¨æ¡¶">1.1 åˆ›å»º R2 å­˜å‚¨æ¡¶</h3><p>æ‰“å¼€ Cloudflare æ§åˆ¶å°é¡µé¢ï¼Œåœ¨å·¦ä¾§æ‰¾åˆ° R2 å¯¹è±¡å­˜å‚¨ã€‚åœ¨å³ä¾§å¯ä»¥çœ‹åˆ°æ¯æœˆå…è´¹ä½¿ç”¨é‡çš„ä¿¡æ¯ï¼Œç„¶åå°† R2 è®¢é˜…æ·»åŠ åˆ°è´¦æˆ·ã€‚</p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-Subscribe.png" alt="image.png"></p><p>ç„¶ååˆ›å»ºä¸€ä¸ªå­˜å‚¨æ¡¶ï¼Œå­˜å‚¨æ¡¶çš„åå­—éšæ„ï¼Œåœ°åŒºå¦‚æœæ˜¯ä¸»è¦é¢å‘å¤§é™†å°±é€‰æ‹©äºšå¤ªåœ°åŒº Asia-Pacfic (APAC)ã€‚</p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-Bucket.png" alt="image.png"></p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-Create_bucket.png" alt="image.png"></p><h3 id="1-2-R2-ç»‘å®šä¸ªäººåŸŸå">1.2 R2 ç»‘å®šä¸ªäººåŸŸå</h3><p>ç„¶åç‚¹å‡»ã€è®¾ç½®-&gt;æ·»åŠ è‡ªå®šä¹‰åŸŸã€‘ï¼Œå°†è‡ªå·±çš„äºŒçº§åŸŸåæ·»åŠ è¿‡æ¥ï¼ˆæˆ‘è¿™é‡Œç”±äºä½¿ç”¨è¿‡ Cloudflare æ‰˜ç®¡çš„åŸŸåï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ·»åŠ ï¼Œå¦åˆ™éœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ DNS éªŒè¯ã€‚</p><p><img src="https://img.mahaofei.com/img/20250514-cloudflare_r2-custom_domain.png" alt=""></p><p>æ‰‹åŠ¨åˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œçœ‹åˆ°ã€çŠ¶æ€ã€‘å’Œã€è®¿é—®ã€‘ä¸¤ä¸ªéƒ½å˜æˆç»¿è‰²ï¼Œè¯´æ˜æ·»åŠ æˆåŠŸäº†ã€‚</p><h3 id="1-3-åˆ›å»º-R2-API-ä»¤ç‰Œ">1.3 åˆ›å»º R2 API ä»¤ç‰Œ</h3><p>å›åˆ° R2 å­˜å‚¨çš„æ¦‚è¿°é¡µé¢ï¼Œå³ä¾§æ‰¾åˆ° API æŒ‰é’®ï¼Œé€‰æ‹©ã€ç®¡ç† API ä»¤ç‰Œã€‘ã€‚</p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-API_Manage.png" alt="20250514-Cloudflare_R2-API_Manage.png"></p><p>ç„¶ååˆ›å»º Account APIä»¤ç‰Œã€‚</p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-API_Create.png" alt="20250514-Cloudflare_R2-API_Create.png"></p><p>åˆ›å»ºå®Œæˆåï¼Œå°†æ‰€æœ‰æ•°æ®è®°å½•ä¸‹æ¥ï¼ˆè¿™äº›ID å’Œå¯†é’¥åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œå…³é—­åå°±ä¸ä¼šå†æ˜¾ç¤ºäº†ï¼Œåªèƒ½é‡æ–°åˆ›å»ºï¼‰ï¼Œä¹Ÿåƒä¸‡ä¸è¦å…¬å¼€ã€‚</p><h2 id="2-PicGo-é…ç½®">2. PicGo é…ç½®</h2><p>åœ¨ PicGo ä¸­æœç´¢å¹¶å®‰è£… S3 æ’ä»¶ã€‚</p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-Picgo_plugin.png" alt="20250514-Cloudflare_R2-Picgo_plugin.png"></p><p>ç„¶åæŒ‰ç…§ä¸‹é¢çš„å›¾ä¸­ç¤ºä¾‹è¿›è¡Œå¡«å†™</p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-Picgo_config_1.png" alt="image.png"></p><p><img src="https://img.mahaofei.com/img/20250514-Cloudflare_R2-Picgo_config_2.png" alt="image.png"></p><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://developers.cloudflare.com/r2/pricing/">Cloudflare R2 å¯¹è±¡å­˜å‚¨: https://developers.cloudflare.com/r2/pricing/</a></li><li><a href="https://github.com/Molunerfinn/PicGo">Picgo: https://github.com/Molunerfinn/PicGo</a></li><li><a href="https://github.com/wayjam/picgo-plugin-s3">Picgo-Plugin-S3: https://github.com/wayjam/picgo-plugin-s3</a></li><li><a href="https://blog.huacai.one/post/3">èŠ±èœçš„åšå®¢. ç™½å«–CloudFlare R2æ­å»ºä¸ªäººå›¾åºŠ. https://blog.huacai.one/post/3</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">ä¹‹å‰ä½¿ç”¨é˜¿é‡Œäº‘OSS æ­å»ºä¸ªäººå›¾åºŠï¼Œä½†æ˜¯éšç€æ–‡ç« æ•°é‡å’Œå›¾ç‰‡æ•°é‡å¢å¤šï¼Œç½‘ç«™è®¿é—®é‡å¢å¤§ï¼Œå›¾åºŠçš„æµé‡ä¹Ÿå˜å¤§äº†ï¼Œå¯¼è‡´è´¹ç”¨æ—¥ç›Šä¸Šå‡ã€‚å› æ­¤è€ƒè™‘åˆ‡æ¢ä¸€ä¸ªå›¾åºŠå¹³å°ï¼Œæ‰¾åˆ°äº†èµ›åšå¤§å–„äºº Cloudflare çš„ R2 å­˜å‚¨æ¡¶å¯ä»¥æä¾›å…è´¹ 10G å­˜å‚¨ï¼Œæ¯æœˆ 1000 ä¸‡æ¬¡å…è´¹è¯»å–è¯·æ±‚ã€‚</summary>
    
    
    
    <category term="ç¨‹åºåŸºç¡€" scheme="https://www.mahaofei.com/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/"/>
    
    <category term="ç½‘ç«™æ­å»º" scheme="https://www.mahaofei.com/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
    
    <category term="å›¾åºŠ" scheme="https://www.mahaofei.com/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/%E5%9B%BE%E5%BA%8A/"/>
    
    
    <category term="Cloudflare" scheme="https://www.mahaofei.com/tags/Cloudflare/"/>
    
    <category term="å›¾åºŠ" scheme="https://www.mahaofei.com/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>Isaac Sim æœºæ¢°è‡‚é€†è¿åŠ¨å­¦æ§åˆ¶</title>
    <link href="https://www.mahaofei.com/post/isaacsim-ik.html"/>
    <id>https://www.mahaofei.com/post/isaacsim-ik.html</id>
    <published>2025-03-07T07:34:28.000Z</published>
    <updated>2025-03-07T07:34:28.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‚è€ƒ</p><ul><li><a href="https://docs.isaacsim.omniverse.nvidia.com/latest/manipulators/manipulators_lula_kinematics.html#using-the-lulakinematicssolver-to-compute-forward-and-inverse-kinematics">Lula Kinematics Solver</a></li><li><a href="https://docs.isaacsim.omniverse.nvidia.com/latest/manipulators/manipulators_robot_description_editor.html#isaac-sim-app-tutorial-motion-generation-robot-description-editor">Lula Robot Description and XRDF Editor</a></li><li><a href="https://docs.omniverse.nvidia.com/py/isaacsim/source/extensions/omni.isaac.motion_generation/docs/index.html?highlight=inverse%20kinematics#articulationkinematicssolver">ArticulationKinematicsSolver</a></li></ul></blockquote><p><strong>å‰è¨€</strong></p><p>ç”±äºä¹‹å‰ä¸€ç›´åœ¨ç”¨ Mujocoï¼Œç°åœ¨ç”±äºæŸäº›åŸå› åˆ‡æ¢åˆ°ä½¿ç”¨ Isaac Simä¸­ï¼Œåˆšåˆšæ¥è§¦ï¼Œè®°å½•æ‘¸ç´¢ Isaac Sim å®ç°æœºå™¨äººä»¿çœŸä¸­çš„ä¸€äº›ç¬”è®°ï¼Œä¾›å‚è€ƒã€‚</p><p>æœ¬æ¬¡å®ç°æœºå™¨äººé€†è¿åŠ¨å­¦æ§åˆ¶ï¼Œç”±äºç¤ºä¾‹ä¸­ç»™äº†å…³èŠ‚æ§åˆ¶çš„ä¾‹ç¨‹ï¼Œéå¸¸ç®€å•ï¼Œä½†æ˜¯å½“æˆ‘æƒ³å®ç°ç¬›å¡å°”ç©ºé—´æ§åˆ¶æ—¶ï¼ŒæŸ¥é˜…æ–‡æ¡£æ‰¾åˆ°äº†<code>ArticulationKinematicsSolver</code><a href="https://docs.omniverse.nvidia.com/py/isaacsim/source/extensions/omni.isaac.motion_generation/docs/index.html?highlight=inverse"><strong>ğŸ”—</strong></a>ï¼Œä½†è¿™é‡Œçš„å‚æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ªkinematics_solverçš„å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤åˆæ‰¾åˆ°äº† <code>KinematicsSolver</code><a href="https://docs.omniverse.nvidia.com/py/isaacsim/source/extensions/omni.isaac.motion_generation/docs/index.html?highlight=inverse%20kinematics#kinematicssolver"><strong>ğŸ”—</strong></a>ï¼Œè¿›è€ŒçŸ¥é“éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ª <a href="https://docs.isaacsim.omniverse.nvidia.com/latest/manipulators/manipulators_lula_kinematics.html#using-the-lulakinematicssolver-to-compute-forward-and-inverse-kinematics">Lula Kinematics Solver</a>ï¼Œæœ¬æ–‡å°±ä»¥Lula Kinematics Solverä¸ºåŸºç¡€ï¼Œå®ç°æœºæ¢°è‡‚é€†è¿åŠ¨å­¦æ§åˆ¶</p><h2 id="å‰æéœ€æ±‚">å‰æéœ€æ±‚</h2><ul><li>éœ€è¦å®‰è£… WorkStation ç‰ˆæœ¬çš„ Isaac Sim 4.5.0ï¼ˆPython ç‰ˆæœ¬çš„ Isaac Sim ä¼¼ä¹ç¡®å®æŸäº›åŠŸèƒ½ï¼Œæ²¡æœ‰ã€Tool-Robotics-Lula Robot Description Editorã€‘ï¼‰</li><li>å·²ç»æœ‰æœºæ¢°è‡‚çš„ <code>urdf</code> å’Œ <code>usd</code> æ¨¡å‹</li></ul><h2 id="1-Lula-Robot-Description-åˆ›å»º">1. Lula Robot Description åˆ›å»º</h2><p>åœ¨ <a href="https://docs.isaacsim.omniverse.nvidia.com/latest/manipulators/manipulators_lula_kinematics.html#using-the-lulakinematicssolver-to-compute-forward-and-inverse-kinematics">Lula Kinematics Solver</a> çš„æ–‡æ¡£ä¸­å¯ä»¥çŸ¥é“ï¼Œè¦æƒ³é…ç½® Lula Kinematics Solverï¼Œéœ€è¦æœ‰<code>robot_descriptor.yaml</code> å’Œæœºå™¨äºº <code>urdf</code> è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚å…¶ä¸­ <code>urdf</code> è‚¯å®šå·²ç»éƒ½æœ‰äº†ï¼Œæœ¬èŠ‚ä»ä½¿ç”¨ Isaac Sim çš„ Robot Description Editor åˆ›å»º <code>robot_descriptor.yaml</code> å¼€å§‹ã€‚</p><p>ä»¥æœ¬æ–‡çš„ UR + çµå·§æ‰‹ä¸ºä¾‹ï¼Œå…±æœ‰ 6+6=12ä¸ªå…³èŠ‚æ˜¯å¯æ§å…³èŠ‚ï¼Œä½† Lula å…³æ³¨å°†æœºå™¨äººç§»åŠ¨åˆ°æŒ‡å®šä½ç½®ï¼Œä¸æ¶‰åŠæœ«ç«¯æ‰§è¡Œå™¨ï¼Œå› æ­¤åªè€ƒè™‘ UR çš„6ä¸ªå…³èŠ‚ä¸ºæ´»åŠ¨å…³èŠ‚ï¼Œçµå·§æ‰‹å…³èŠ‚è§†ä¸ºå›ºå®šå…³èŠ‚ã€‚</p><p><strong>ï¼ˆ1ï¼‰æ‰“å¼€ Lula Robot Description Editor</strong></p><p>å¯åŠ¨ Isaac Simï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/isaacsim</span><br><span class="line">./isaac-sim.sh</span><br></pre></td></tr></table></figure><p>å°†æœºå™¨äººUSDæ–‡ä»¶æ‹–å…¥åˆ° <code>World</code> åæ ‡ç³»ä¸‹ã€‚</p><p><img src="https://img.mahaofei.com/img/20250307153134657.png" alt="image.png"></p><p>æ‰“å¼€ã€Tools -&gt; Robotics -&gt; Lula Robot Description Editorã€‘ï¼Œä¼šå‘ç°çª—å£å·¦ä¾§å‡ºç°Lula Robot Description Editorçš„é¢æ¿ã€‚</p><p>ç„¶åç‚¹å‡»ã€æ’­æ”¾ã€‘æŒ‰é’®ï¼ŒLula Robot Description Editorä¸­ä¼šå‡ºç°ã€Selection Panelã€‘ï¼Œåœ¨å…¶ä¸­çš„ Select Articulation ä½ç½®é€‰æ‹©è‡ªå·±çš„æœºå™¨äººï¼Œä¸‹æ–¹ä¼šå±•å¼€ä¸€ä¸ª Set Joint Properties é¢æ¿ã€‚</p><p><strong>ï¼ˆ2ï¼‰è®¾ç½®å…³èŠ‚å±æ€§</strong></p><p>æŒ‰ç…§ UR æœºå™¨äººçš„æ´»åŠ¨å…³èŠ‚ï¼Œä¾æ¬¡å°† 6 ä¸ª Joint Status è®¾ç½®ä¸º Active Jointï¼Œé»˜è®¤çš„å…³èŠ‚ä½ç½®ï¼ŒåŠ é€Ÿåº¦é™åˆ¶ç­‰å¯ä»¥å…ˆä¸ä¿®æ”¹ï¼Œåç»­ç†Ÿæ‚‰äº†å„å‚æ•°å«ä¹‰å†ä¿®æ”¹ä¹Ÿæ²¡é—®é¢˜ã€‚</p><p>çµå·§æ‰‹/å¤¹çˆªæ‰€åŒ…å«çš„å…³èŠ‚éƒ½è®¾ç½®ä¸º Fixed Jointã€‚</p><p><img src="https://img.mahaofei.com/img/20250307153225411.png" alt="image.png"></p><p><strong>ï¼ˆ3ï¼‰ç¢°æ’çƒï¼ˆåªåšè¿åŠ¨å­¦å¯çœç•¥ï¼‰</strong></p><p>éœ€è¦å† Robot Description æ–‡ä»¶ä¸­æ·»åŠ ç¢°æ’çƒï¼Œæ‰èƒ½è¿›è¡ŒRMPFlowè¿åŠ¨è§„åˆ’ç­‰ï¼Œå…·ä½“æ–¹æ³•å¯ä»¥å‚è€ƒ <a href="https://docs.isaacsim.omniverse.nvidia.com/latest/manipulators/manipulators_robot_description_editor.html#adding-collision-spheres">Adding Collision Spheres</a>ï¼Œç†è®ºä¸Šå¯¹äºå…­è‡ªç”±åº¦æœºæ¢°è‡‚ï¼Œåªéœ€è¦æ·»åŠ Link2å’ŒLink4çš„ç¢°æ’å°±è¶³å¤Ÿäº†</p><p>æ‰€æœ‰è¿‡ç¨‹è¿˜æ˜¯åœ¨Lula Robot Description Editorä¸­å®Œæˆã€‚</p><ul><li>é¦–å…ˆåœ¨ã€Selection Panel-Select Linkã€‘ï¼Œé€‰æ‹©Link2ã€‚</li><li>ç„¶åå†ã€Link Sphere Editor-Add Sphereã€‘ï¼Œæ·»åŠ ç¢°æ’çƒï¼Œå¯ä»¥æ‹–åŠ¨ä½ç½®ï¼Œå³ä¸‹è§’å±æ€§è°ƒæ•´åŠå¾„ï¼Œç›´åˆ°å…¨éƒ¨è¦†ç›–å½“å‰linkä¸ºæ­¢ã€‚</li></ul><p>é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œæ·»åŠ Link4çš„ç¢°æ’çƒï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://img.mahaofei.com/img/20250307153235559.png" alt="image.png"></p><p><strong>ï¼ˆ4ï¼‰å¯¼å‡ºé…ç½®æ–‡ä»¶</strong></p><p>ä¿å­˜ Lula Robot Description æ–‡ä»¶ï¼šåœ¨ã€Export To File -&gt; Export to Lula Robot Description Fileã€‘ï¼Œè¾“å…¥ä¸€ä¸ªæœ¬åœ°è·¯å¾„ï¼ˆå¿…é¡»ä»¥<code>.yaml</code>ç»“å°¾ï¼‰ï¼Œä¾‹å¦‚<code>/home/mahaofei/Downloads/ur5e_hand.yaml</code>ï¼ŒYAMLæ–‡ä»¶ä¼šè¢«ä¿å­˜åœ¨ç›®æ ‡ä½ç½®ã€‚</p><p>ä¿å­˜ XRDF æ–‡ä»¶ï¼šè™½ç„¶ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯ä¹Ÿæ˜¯åŒæ ·çš„ä¿å­˜æ–¹æ³•ã€‚</p><p><img src="https://img.mahaofei.com/img/20250307153248701.png" alt="image.png"></p><h2 id="2-ç¬›å¡å°”ç©ºé—´è¿åŠ¨æ§åˆ¶ä»£ç ">2. ç¬›å¡å°”ç©ºé—´è¿åŠ¨æ§åˆ¶ä»£ç </h2><p>å‚è€ƒä»£ç ï¼šä½œç”¨ä¸ºè®¾ç½®æœºå™¨äººç¬›å¡å°”ç©ºé—´ä½ç½®ä¸ºposition: [0.5, 0, 0.5]ï¼Œ orientation: [0, 0, 0]ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Isaac Sim ç›¸å…³ä¾èµ–åº“</span></span><br><span class="line"><span class="keyword">from</span> isaacsim <span class="keyword">import</span> SimulationApp</span><br><span class="line">simulation_app = SimulationApp(&#123;<span class="string">&quot;headless&quot;</span>: <span class="literal">False</span>&#125;)  <span class="comment"># start the simulation app, with GUI open</span></span><br><span class="line"><span class="keyword">from</span> isaacsim.core.api <span class="keyword">import</span> World</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.prims <span class="keyword">import</span> Articulation</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.utils.stage <span class="keyword">import</span> add_reference_to_stage, get_stage_units</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.utils.viewports <span class="keyword">import</span> set_camera_view</span><br><span class="line"><span class="keyword">from</span> isaacsim.storage.native <span class="keyword">import</span> get_assets_root_path</span><br><span class="line"><span class="keyword">from</span> isaacsim.robot_motion.motion_generation <span class="keyword">import</span> ArticulationKinematicsSolver, LulaKinematicsSolver</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.utils.numpy.rotations <span class="keyword">import</span> euler_angles_to_quats</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> isaacsim.core.utils.types <span class="keyword">import</span> ArticulationAction</span><br><span class="line"><span class="keyword">from</span> isaacsim.robot.manipulators.manipulators <span class="keyword">import</span> SingleManipulator</span><br><span class="line"><span class="keyword">import</span> isaacsim.core.api.tasks <span class="keyword">as</span> tasks</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">KinematicsSolver</span>(<span class="title class_ inherited__">ArticulationKinematicsSolver</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, robot_articulation: Articulation, end_effector_frame_name: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="comment">#<span class="doctag">TODO:</span> change the config path</span></span><br><span class="line">        self._kinematics = LulaKinematicsSolver(robot_description_path=<span class="string">&quot;asset/isaac_sim/ur5e_hand/ur5e_hand.yaml&quot;</span>,</span><br><span class="line">                                                urdf_path=<span class="string">&quot;asset/urdf_ros2/ur5e_hand/urdf/ur5e_hand.urdf&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> end_effector_frame_name <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            end_effector_frame_name = <span class="string">&quot;wrist_3_link&quot;</span></span><br><span class="line">        ArticulationKinematicsSolver.__init__(self, robot_articulation, self._kinematics, end_effector_frame_name)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. åˆ›å»ºä¸€ä¸ªWorldå¯¹è±¡</span></span><br><span class="line">world = World(stage_units_in_meters=<span class="number">1.0</span>)</span><br><span class="line">world.initialize_physics()</span><br><span class="line">world.scene.add_default_ground_plane()</span><br><span class="line">set_camera_view(</span><br><span class="line">    eye=[<span class="number">2.0</span>, <span class="number">1.5</span>, <span class="number">1.8</span>], target=[<span class="number">0.00</span>, <span class="number">0.00</span>, <span class="number">0.81</span>], camera_prim_path=<span class="string">&quot;/OmniverseKit_Persp&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ·»åŠ ä¸€ä¸ªUR5eæœºå™¨äºº</span></span><br><span class="line">add_reference_to_stage(usd_path=<span class="string">&quot;asset/isaac_sim/ur5e_hand/ur5e_hand.usd&quot;</span>, prim_path=<span class="string">&quot;/World/ur5e_hand&quot;</span>)</span><br><span class="line">ur5e_hand = SingleManipulator(</span><br><span class="line">    prim_path=<span class="string">&quot;/World/ur5e_hand&quot;</span>, </span><br><span class="line">    name=<span class="string">&quot;ur5e_hand&quot;</span>, </span><br><span class="line">    end_effector_prim_path=<span class="string">&quot;/World/ur5e_hand/wrist_3_link&quot;</span>)</span><br><span class="line">init_joint_positions=np.array([<span class="number">0.0</span>, -np.pi/<span class="number">2</span>, np.pi/<span class="number">2</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>])</span><br><span class="line">ur5e_hand.set_joints_default_state([init_joint_positions])</span><br><span class="line">ur5e_hand.initialize()</span><br><span class="line">ur5e_hand.post_reset()</span><br><span class="line">world.scene.add(ur5e_hand)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. è®¾ç½®é€†è¿åŠ¨å­¦æ±‚è§£å™¨</span></span><br><span class="line">controller = KinematicsSolver(ur5e_hand)</span><br><span class="line">articulation_controller = ur5e_hand.get_articulation_controller()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. æ§åˆ¶æœºå™¨äººè¿åŠ¨</span></span><br><span class="line"><span class="keyword">while</span> simulation_app.is_running():</span><br><span class="line">    world.step(render=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">if</span> world.is_playing():</span><br><span class="line">        <span class="keyword">if</span> world.current_time_step_index == <span class="number">0</span>:</span><br><span class="line">            world.reset()</span><br><span class="line">        actions, succ = controller.compute_inverse_kinematics(</span><br><span class="line">            target_position=np.array([<span class="number">0.5</span>, <span class="number">0</span>, <span class="number">0.5</span>]),</span><br><span class="line">            target_orientation=euler_angles_to_quats(np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>])),</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> succ:</span><br><span class="line">            articulation_controller.apply_action(actions)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;IK did not converge to a solution.  No action is being taken.&quot;</span>)</span><br><span class="line">simulation_app.close()</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">å®ç°IsaacSimä¸­å®ç°ç¬›å¡å°”ç©ºé—´æ§åˆ¶ï¼ˆé€†è¿åŠ¨å­¦ï¼‰çš„æ–¹æ³•ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="ä»¿çœŸ" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E4%BB%BF%E7%9C%9F/"/>
    
    
    <category term="IsaacSim" scheme="https://www.mahaofei.com/tags/IsaacSim/"/>
    
  </entry>
  
  <entry>
    <title>ROS2_Rviz2æ˜¾ç¤ºURDFæ¨¡å‹</title>
    <link href="https://www.mahaofei.com/post/ros2-urdf.html"/>
    <id>https://www.mahaofei.com/post/ros2-urdf.html</id>
    <published>2025-02-28T03:11:13.000Z</published>
    <updated>2025-02-28T03:11:13.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€å®éªŒç¯å¢ƒåŠå‡†å¤‡">ä¸€ã€å®éªŒç¯å¢ƒåŠå‡†å¤‡</h2><p><strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼š</p><ul><li>Ubuntu 22.04 LTS</li><li>ROS2 Humble</li></ul><p><strong>å‡†å¤‡</strong>ï¼š</p><ul><li>URDF åŠå¯¹åº”çš„ Mesh æ–‡ä»¶<br>ï¼ˆæœ¬æ–‡ä½¿ç”¨çš„æ˜¯ä» Solidworks å¯¼å‡ºçš„ URDFï¼Œå…·ä½“å¯¼å‡ºæ–¹æ³•å¯å‚è€ƒ<a href="https://www.mahaofei.com/post/f67206dd.html">æ­¤æ–‡ç« </a>ï¼‰</li></ul><p><strong>ä¾èµ–</strong>ï¼š</p><ul><li>ç¡®ä¿è‡ªå·±çš„ ROS2 å®‰è£…æ­£å¸¸ï¼ˆèƒ½å¤Ÿè¿è¡Œ turtle demo å³å¯ï¼‰</li><li>å®‰è£… <code>joint_state_publisher</code> å’Œ <code>robot_state_publisher</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-$ROS_DISTRO-joint-state-publisher-gui ros-$ROS_DISTRO-robot-state-publisher</span><br></pre></td></tr></table></figure><h2 id="äºŒã€å·¥ä½œç©ºé—´ä¸åŠŸèƒ½åŒ…é…ç½®">äºŒã€å·¥ä½œç©ºé—´ä¸åŠŸèƒ½åŒ…é…ç½®</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir ros2_ws</span><br><span class="line">cd ros2_ws</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿å®ç°ï¼Œé¿å…å¯¹ launchï¼Œpackageï¼Œ<a href="http://setup.py">setup.py</a> ç­‰æ–‡ä»¶è¿›è¡Œè¿‡å¤šä¿®æ”¹æ··ä¹±ï¼Œå¯ä»¥åœ¨æœ¬æ–‡åœ¨ Github ä¸Šä¼ çš„ä»£ç ï¼ˆ<a href="https://github.com/HaofeiMa/urdf_ros2_rviz2">https://github.com/HaofeiMa/urdf_ros2_rviz2</a>ï¼‰åŸºç¡€ä¸Šä¿®æ”¹ï¼Œä»¥æ»¡è¶³è‡ªå·±éœ€æ±‚ï¼Œè¯¥ä»£ç ä¸º UR5e æœºæ¢°è‡‚+Inspire Hand çµå·§æ‰‹æ¨¡å‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/HaofeiMa/urdf_ros2_rviz2.git</span><br></pre></td></tr></table></figure><p>å®Œæˆä¹‹åï¼Œå¯ä»¥é¦–å…ˆæµ‹è¯•ä¸€ä¸‹æ˜¯å¦å¯ä»¥æ­£å¸¸ <code>build</code> ä»¥åŠæ˜¾ç¤ºç°æœ‰æ¨¡å‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">colcon build</span><br><span class="line">source install/setup.bash</span><br><span class="line">ros2 launch urdf_ros2_rviz2 view_robot_launch.py</span><br></pre></td></tr></table></figure><p>åº”è¯¥å¯ä»¥çœ‹åˆ° Rviz2 ç•Œé¢ä»¥åŠç°æœ‰æ¨¡å‹ã€‚</p><h2 id="ä¸‰ã€ä¿®æ”¹åŠŸèƒ½åŒ…">ä¸‰ã€ä¿®æ”¹åŠŸèƒ½åŒ…</h2><p><strong>ï¼ˆ1ï¼‰åˆ›å»ºåŠŸèƒ½åŒ…</strong></p><p>åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ packageï¼Œå¹¶ä¸”å€Ÿé‰´åˆšæ‰ clone çš„éƒ¨åˆ†ä»£ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 pkg create your_package_name --build-type ament_python</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰å¤åˆ¶æ–‡ä»¶</strong></p><p>å°† <code>urdf_ros2_rviz2</code> ç›®å½•ä¸‹çš„ <code>launch</code>, <code>meshes</code>, <code>rviz</code>, <code>urdf</code> å››ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‹·è´åˆ°æ–°çš„ <code>your_package_name</code> ç›®å½•ä¸‹ã€‚</p><p><img src="https://img.mahaofei.com/img/20250228105434698.png" alt="image.png"></p><p><strong>ï¼ˆ3ï¼‰ä¿®æ”¹ <a href="http://setup.py">setup.py</a></strong></p><p>å°† <code>urdf_ros2_rviz2</code> ä¸­çš„ <code>setup.py</code> æ–‡ä»¶ä»£ç <strong>å…¨éƒ¨æ‹·è´</strong>è¿‡æ¥ï¼Œç„¶åä¿®æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬4è¡Œ</span></span><br><span class="line">package_name=<span class="string">&#x27;your_package_name&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20250228105753558.png" alt="image.png"></p><p><strong>ï¼ˆ4ï¼‰ä¿®æ”¹ package.xml</strong></p><p>å°† <code>urdf_ros2_rviz2</code> ä¸­çš„ <code>package.xml</code> æ–‡ä»¶ä»£ç <strong>å…¨éƒ¨æ‹·è´</strong>è¿‡æ¥ï¼Œç„¶åä¿®æ”¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¬¬4è¡Œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>your_package_name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20250228105544847.png" alt="image.png"></p><p><strong>ï¼ˆ5ï¼‰å¤åˆ¶ Meshes æ–‡ä»¶</strong></p><p>å°†ä½ çš„ mesh æ–‡ä»¶å…¨éƒ¨å¤åˆ¶åˆ° meshes æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶å°†åŸæ¥çš„ mesh æ–‡ä»¶åˆ é™¤ã€‚</p><p>æ³¨æ„å¦‚æœä½  meshes æ–‡ä»¶å¤¹ç»“æ„ä¸æˆ‘çš„ä¸åŒï¼Œéœ€è¦åœ¨ <code>setup.py</code> ä¸­ä¿®æ”¹ï¼Œä½¿å…¶ä¸ä½ çš„ STL æ–‡ä»¶å¯¹åº”ã€‚</p><p><img src="https://img.mahaofei.com/img/20250228104839758.png" alt="image.png"></p><p><strong>ï¼ˆ6ï¼‰ä¿®æ”¹ urdf æ–‡ä»¶</strong></p><p>å°†ä½ çš„ urdf æ–‡ä»¶å¤åˆ¶åˆ° <code>your_package_name</code> çš„ <code>urdf</code> ç›®å½•ä¸­ã€‚</p><p>ç„¶åè¿›è¡Œä¿®æ”¹ï¼šä¸»è¦æ˜¯ä¿®æ”¹åŒ…åï¼Œä»¥åŠæ£€æŸ¥ meshes è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œä¾‹å¦‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mesh</span> <span class="attr">filename</span>=<span class="string">&quot;package://urdf_ros2_rviz2/meshes/ur5e/visual/base.dae&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- â¬†ï¸ä¿®æ”¹ä¸ºâ¬‡ï¸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mesh</span> <span class="attr">filename</span>=<span class="string">&quot;package://your_package_name/meshes/your_path/base.dae&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ7ï¼‰ä¿®æ”¹ launch æ–‡ä»¶</strong></p><p>éœ€è¦ä¿®æ”¹ package name ä»¥åŠ urdf æ–‡ä»¶åï¼š</p><p><img src="https://img.mahaofei.com/img/20250228105957446.png" alt="image.png"></p><p><strong>ï¼ˆ8ï¼‰ä¿®æ”¹ rviz</strong></p><p>æ‰“å¼€ <code>rviz/view.rviz</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°ç¬¬ 85 è¡Œï¼Œä¿®æ”¹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½ çš„æ¨¡å‹çš„åŸºåæ ‡ç³»</span></span><br><span class="line"><span class="attr">Fixed Frame:</span> <span class="string">base_link</span></span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ8ï¼‰æµ‹è¯•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">colcon build</span><br><span class="line">source install/setup.bash</span><br><span class="line">ros2 launch test_urdf view_robot_launch.py</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20250228110805363.png" alt="image.png"></p><p><img src="https://img.mahaofei.com/img/20250228110918616.png" alt="image.png"></p><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://zhuanlan.zhihu.com/p/465398486">https://zhuanlan.zhihu.com/p/465398486</a></li><li><a href="https://github.com/olmerg/lesson_urdf">https://github.com/olmerg/lesson_urdf</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">ä½¿ç”¨ROS2+Rviz2å¯è§†åŒ–URDFæ–‡ä»¶ï¼Œä¸€ä¸ªç¤ºä¾‹åŠŸèƒ½åŒ…ä»¥åŠå®Œæ•´ä¿®æ”¹æ•™ç¨‹ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="ROS" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/ROS/"/>
    
    
    <category term="ROS2" scheme="https://www.mahaofei.com/tags/ROS2/"/>
    
  </entry>
  
  <entry>
    <title>ROS2åŸºæœ¬å‘½ä»¤æ€»ç»“</title>
    <link href="https://www.mahaofei.com/post/ros2-command.html"/>
    <id>https://www.mahaofei.com/post/ros2-command.html</id>
    <published>2024-12-24T08:47:07.000Z</published>
    <updated>2024-12-24T08:47:07.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-åŸºæœ¬å‘½ä»¤">1 åŸºæœ¬å‘½ä»¤</h2><p>ROS2 ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½é›†æˆåœ¨ <code>ros2</code> å‘½ä»¤ä¸­ï¼Œåé¢å‚æ•°è¡¨ç¤ºä¸åŒçš„æ“ä½œç›®çš„å¦‚ <code>node</code> è¡¨ç¤ºèŠ‚ç‚¹æ“ä½œï¼Œ<code>topic</code> è¡¨ç¤ºè¯é¢˜æ“ä½œç­‰ç­‰ï¼Œåœ¨åé¢å¯ä»¥å†è·Ÿå‚æ•°è¡¨ç¤ºå…·ä½“å¹²ä»€ä¹ˆã€‚</p><p><strong>(1) å¸®åŠ©å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 --help</span><br></pre></td></tr></table></figure><p><strong>(2) è¿è¡ŒèŠ‚ç‚¹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ros2 run &lt;package_name&gt; &lt;node_name&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ros2 run turtlesim turtlesim_node</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ros2 run turtlesim turtle_teleop_key</span> </span><br></pre></td></tr></table></figure><p><strong>(3) æŸ¥çœ‹èŠ‚ç‚¹</strong></p><p>æ‰“å°èŠ‚ç‚¹åˆ—è¡¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 node list</span><br></pre></td></tr></table></figure><p>æ‰“å°èŠ‚ç‚¹ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 node info /&lt;node_name&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ros2 node info /turtlesim</span></span><br></pre></td></tr></table></figure><p><strong>(4) æŸ¥çœ‹è¯é¢˜</strong></p><p>æ‰“å°è¯é¢˜åˆ—è¡¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic list</span><br></pre></td></tr></table></figure><p>è®¢é˜…è¯é¢˜å’Œæ‰“å°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic echo &lt;topic_name&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ros2 topic <span class="built_in">echo</span> /turtle1/cmd_vel</span></span><br></pre></td></tr></table></figure><p>æ‰‹åŠ¨å‘å¸ƒè¯é¢˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic pub --rate &lt;rate&gt; &lt;publish_topic&gt; &lt;data_type&gt; &lt;data&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ros2 topic pub --rate 1 /turtle1/cmd_vel geometry_msgs/msg/Twist <span class="string">&quot;&#123;linear: &#123;x: 2.0, y: 0.0, z: 0.0&#125;, angular: &#123;x: 0.0, y: 0.0, z: 1.8&#125;&#125;&quot;</span></span></span><br></pre></td></tr></table></figure><p><strong>(5) æœåŠ¡</strong></p><p>è°ƒç”¨æœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ros2 service call &lt;service_name&gt; &lt;service_params&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ros2 service call_Â /_spawn turtlesim_/srv/_Spawn_Â <span class="string">&quot;&#123;x: 2, y: 2, theta: 0.2, name: &#x27;turtle2&#x27;&#125;&quot;</span></span></span><br></pre></td></tr></table></figure><p><strong>(6) æ•°æ®å½•åˆ¶</strong></p><p>ROS bag æ•°æ®å½•åˆ¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 bag record &lt;topic_name&gt; -o &lt;save_path&gt;</span><br></pre></td></tr></table></figure><p>ROS bag æ•°æ®æ’­æ”¾</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 bag play &lt;rosbag_filename&gt;</span><br></pre></td></tr></table></figure><p><strong>(7) Launch</strong></p><p>ROS2 ä¸­çš„ launch æ–‡ä»¶æ˜¯åŸºäº Python æè¿°çš„ï¼Œå¯åŠ¨ launch æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch &lt;node_name&gt; simple.launch.py</span><br></pre></td></tr></table></figure><p><strong>(8) Rviz</strong></p><p>å¯åŠ¨ Rviz å¯è§†åŒ–ä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rviz2 rviz2</span><br></pre></td></tr></table></figure><h2 id="2-å·¥ä½œç©ºé—´">2 å·¥ä½œç©ºé—´</h2><p><strong>(1) åˆ›å»ºå·¥ä½œç©ºé—´</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/ros2_ws/src</span><br><span class="line">cd ~/ros2_ws/src</span><br><span class="line">git clone https://github.com/ros/ros_tutorials.git -b humble</span><br></pre></td></tr></table></figure><p><strong>(2) è‡ªåŠ¨å®‰è£…ä¾èµ–</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/ros2_ws/</span><br><span class="line">rosdep install -i --from-path src --rosdistro humble -y</span><br></pre></td></tr></table></figure><p><strong>(3) ç¼–è¯‘å·¥ä½œç©ºé—´</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/ros2_ws/</span><br><span class="line">colcon build</span><br></pre></td></tr></table></figure><p><strong>(4) è®¾ç½®ç¯å¢ƒå˜é‡</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source install/local_setup.sh</span><br></pre></td></tr></table></figure><h2 id="3-åŠŸèƒ½åŒ…">3 åŠŸèƒ½åŒ…</h2><p><strong>(1) åˆ›å»ºåŠŸèƒ½åŒ…</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/ros2_ws/src</span><br><span class="line">ros2 pkg create --build-type ament_cmake c_pkg_name</span><br><span class="line">ros2 pkg create --build-type ament_python python_pkg_name</span><br></pre></td></tr></table></figure><p><strong>(2) ç¼–è¯‘åŠŸèƒ½åŒ…</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/ros2_ws/src</span><br><span class="line">colcon build</span><br><span class="line">source install/local_setup.bash</span><br></pre></td></tr></table></figure><h2 id="4-åŸºç¡€ä»£ç ç¤ºä¾‹">4 åŸºç¡€ä»£ç ç¤ºä¾‹</h2><h3 id="4-1-åˆ›å»ºèŠ‚ç‚¹">4.1 åˆ›å»ºèŠ‚ç‚¹</h3><p>ç¼–å†™èŠ‚ç‚¹çš„ python ç¨‹åº <code>scripts/node_helloworld.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3 </span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> rclpy                                     <span class="comment"># ROS2 Pythonæ¥å£åº“</span></span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node                      <span class="comment"># ROS2 èŠ‚ç‚¹ç±»</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">åˆ›å»ºä¸€ä¸ªHelloWorldèŠ‚ç‚¹, åˆå§‹åŒ–æ—¶è¾“å‡ºâ€œhello worldâ€æ—¥å¿—</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorldNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)                     <span class="comment"># ROS2èŠ‚ç‚¹çˆ¶ç±»åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">while</span> rclpy.ok():                          <span class="comment"># ROS2ç³»ç»Ÿæ˜¯å¦æ­£å¸¸è¿è¡Œ</span></span><br><span class="line">            self.get_logger().info(<span class="string">&quot;Hello World&quot;</span>)  <span class="comment"># ROS2æ—¥å¿—è¾“å‡º</span></span><br><span class="line">            time.sleep(<span class="number">0.5</span>)                        <span class="comment"># ä¼‘çœ æ§åˆ¶å¾ªç¯æ—¶é—´</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):                               <span class="comment"># ROS2èŠ‚ç‚¹ä¸»å…¥å£mainå‡½æ•°</span></span><br><span class="line">    rclpy.init(args=args)                          <span class="comment"># ROS2 Pythonæ¥å£åˆå§‹åŒ–</span></span><br><span class="line">    node = HelloWorldNode(<span class="string">&quot;node_helloworld_class&quot;</span>) <span class="comment"># åˆ›å»ºROS2èŠ‚ç‚¹å¯¹è±¡å¹¶è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    rclpy.spin(node)                               <span class="comment"># å¾ªç¯ç­‰å¾…ROS2é€€å‡º</span></span><br><span class="line">    node.destroy_node()                            <span class="comment"># é”€æ¯èŠ‚ç‚¹å¯¹è±¡</span></span><br><span class="line">    rclpy.shutdown()                               <span class="comment"># å…³é—­ROS2 Pythonæ¥å£</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åŠŸèƒ½åŒ…çš„ <code>setup.py</code> æ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">entry_points=&#123;</span><br><span class="line">    <span class="string">&#x27;console_scripts&#x27;</span>: [</span><br><span class="line">     <span class="string">&#x27;node_helloworld       = scripts.node_helloworld:main&#x27;</span>,</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure><h3 id="4-2-è¯é¢˜">4.2 è¯é¢˜</h3><p><strong>(1) å‘å¸ƒè€…</strong></p><p>ç¼–å†™å‘å¸ƒè€…çš„ python ç¨‹åºï¼š<code>scripts/publisher_node.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3 </span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> rclpy                                     <span class="comment"># ROS2 Pythonæ¥å£åº“</span></span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node                      <span class="comment"># ROS2 èŠ‚ç‚¹ç±»</span></span><br><span class="line"><span class="keyword">from</span> std_msgs.msg <span class="keyword">import</span> String                  <span class="comment"># å­—ç¬¦ä¸²æ¶ˆæ¯ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">åˆ›å»ºä¸€ä¸ªå‘å¸ƒè€…èŠ‚ç‚¹</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PublisherNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)                                    <span class="comment"># ROS2èŠ‚ç‚¹çˆ¶ç±»åˆå§‹åŒ–</span></span><br><span class="line">        self.pub = self.create_publisher(String, <span class="string">&quot;chatter&quot;</span>, <span class="number">10</span>)   <span class="comment"># åˆ›å»ºå‘å¸ƒè€…å¯¹è±¡ï¼ˆæ¶ˆæ¯ç±»å‹ã€è¯é¢˜åã€é˜Ÿåˆ—é•¿åº¦ï¼‰</span></span><br><span class="line">        self.timer = self.create_timer(<span class="number">0.5</span>, self.timer_callback)  <span class="comment"># åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼ˆå•ä½ä¸ºç§’çš„å‘¨æœŸï¼Œå®šæ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">timer_callback</span>(<span class="params">self</span>):                                     <span class="comment"># åˆ›å»ºå®šæ—¶å™¨å‘¨æœŸæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">        msg = String()                                            <span class="comment"># åˆ›å»ºä¸€ä¸ªStringç±»å‹çš„æ¶ˆæ¯å¯¹è±¡</span></span><br><span class="line">        msg.data = <span class="string">&#x27;Hello World&#x27;</span>                                  <span class="comment"># å¡«å……æ¶ˆæ¯å¯¹è±¡ä¸­çš„æ¶ˆæ¯æ•°æ®</span></span><br><span class="line">        self.pub.publish(msg)                                     <span class="comment"># å‘å¸ƒè¯é¢˜æ¶ˆæ¯</span></span><br><span class="line">        self.get_logger().info(<span class="string">&#x27;Publishing: &quot;%s&quot;&#x27;</span> % msg.data)     <span class="comment"># è¾“å‡ºæ—¥å¿—ä¿¡æ¯ï¼Œæç¤ºå·²ç»å®Œæˆè¯é¢˜å‘å¸ƒ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):                                 <span class="comment"># ROS2èŠ‚ç‚¹ä¸»å…¥å£mainå‡½æ•°</span></span><br><span class="line">    rclpy.init(args=args)                            <span class="comment"># ROS2 Pythonæ¥å£åˆå§‹åŒ–</span></span><br><span class="line">    node = PublisherNode(<span class="string">&quot;topic_helloworld_pub&quot;</span>)     <span class="comment"># åˆ›å»ºROS2èŠ‚ç‚¹å¯¹è±¡å¹¶è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    rclpy.spin(node)                                 <span class="comment"># å¾ªç¯ç­‰å¾…ROS2é€€å‡º</span></span><br><span class="line">    node.destroy_node()                              <span class="comment"># é”€æ¯èŠ‚ç‚¹å¯¹è±¡</span></span><br><span class="line">    rclpy.shutdown()                                 <span class="comment"># å…³é—­ROS2 Pythonæ¥å£</span></span><br></pre></td></tr></table></figure><p><strong>(2) è®¢é˜…è€…</strong></p><p>ç¼–å†™å‘å¸ƒè€…çš„ python ç¨‹åºï¼š<code>scripts/subscriber_node.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> rclpy                      <span class="comment"># ROS2 Pythonæ¥å£åº“</span></span><br><span class="line"><span class="keyword">from</span> rclpy.node   <span class="keyword">import</span> Node     <span class="comment"># ROS2 èŠ‚ç‚¹ç±»</span></span><br><span class="line"><span class="keyword">from</span> std_msgs.msg <span class="keyword">import</span> String   <span class="comment"># ROS2æ ‡å‡†å®šä¹‰çš„Stringæ¶ˆæ¯</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">åˆ›å»ºä¸€ä¸ªè®¢é˜…è€…èŠ‚ç‚¹</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubscriberNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)                             <span class="comment"># ROS2èŠ‚ç‚¹çˆ¶ç±»åˆå§‹åŒ–</span></span><br><span class="line">        self.sub = self.create_subscription(\</span><br><span class="line">            String, <span class="string">&quot;chatter&quot;</span>, self.listener_callback, <span class="number">10</span>) <span class="comment"># åˆ›å»ºè®¢é˜…è€…å¯¹è±¡ï¼ˆæ¶ˆæ¯ç±»å‹ã€è¯é¢˜åã€è®¢é˜…è€…å›è°ƒå‡½æ•°ã€é˜Ÿåˆ—é•¿åº¦ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">listener_callback</span>(<span class="params">self, msg</span>):                      <span class="comment"># åˆ›å»ºå›è°ƒå‡½æ•°ï¼Œæ‰§è¡Œæ”¶åˆ°è¯é¢˜æ¶ˆæ¯åå¯¹æ•°æ®çš„å¤„ç†</span></span><br><span class="line">        self.get_logger().info(<span class="string">&#x27;I heard: &quot;%s&quot;&#x27;</span> % msg.data) <span class="comment"># è¾“å‡ºæ—¥å¿—ä¿¡æ¯ï¼Œæç¤ºè®¢é˜…æ”¶åˆ°çš„è¯é¢˜æ¶ˆæ¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):                               <span class="comment"># ROS2èŠ‚ç‚¹ä¸»å…¥å£mainå‡½æ•°</span></span><br><span class="line">    rclpy.init(args=args)                          <span class="comment"># ROS2 Pythonæ¥å£åˆå§‹åŒ–</span></span><br><span class="line">    node = SubscriberNode(<span class="string">&quot;topic_helloworld_sub&quot;</span>)  <span class="comment"># åˆ›å»ºROS2èŠ‚ç‚¹å¯¹è±¡å¹¶è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    rclpy.spin(node)                               <span class="comment"># å¾ªç¯ç­‰å¾…ROS2é€€å‡º</span></span><br><span class="line">    node.destroy_node()                            <span class="comment"># é”€æ¯èŠ‚ç‚¹å¯¹è±¡</span></span><br><span class="line">    rclpy.shutdown()                               <span class="comment"># å…³é—­ROS2 Pythonæ¥å£</span></span><br></pre></td></tr></table></figure><p><strong>(3) ä¿®æ”¹ <a href="http://setup.py">setup.py</a></strong></p><p>æ‰“å¼€åŠŸèƒ½åŒ…çš„setup.pyæ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹å…¥å£ç‚¹çš„é…ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">entry_points=&#123;</span><br><span class="line">    <span class="string">&#x27;console_scripts&#x27;</span>: [</span><br><span class="line">     <span class="string">&#x27;publisher_node  = scripts.publisher_node:main&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;subscriber_node  = scripts.subscriber_node:main&#x27;</span>,</span><br><span class="line">    ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="4-3-æœåŠ¡">4.3 æœåŠ¡</h3><p><strong>(1) å®¢æˆ·ç«¯</strong></p><p>å®¢æˆ·ç«¯å‘é€æ•°æ®ä»£ç å¦‚ä¸‹ï¼š<code>scripts/client.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> rclpy                                  <span class="comment"># ROS2 Pythonæ¥å£åº“</span></span><br><span class="line"><span class="keyword">from</span> rclpy.node   <span class="keyword">import</span> Node                 <span class="comment"># ROS2 èŠ‚ç‚¹ç±»</span></span><br><span class="line"><span class="keyword">from</span> learning_interface.srv <span class="keyword">import</span> AddTwoInts <span class="comment"># è‡ªå®šä¹‰çš„æœåŠ¡æ¥å£</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">adderClient</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)                                       <span class="comment"># ROS2èŠ‚ç‚¹çˆ¶ç±»åˆå§‹åŒ–</span></span><br><span class="line">        self.client = self.create_client(AddTwoInts, <span class="string">&#x27;add_two_ints&#x27;</span>) <span class="comment"># åˆ›å»ºæœåŠ¡å®¢æˆ·ç«¯å¯¹è±¡ï¼ˆæœåŠ¡æ¥å£ç±»å‹ï¼ŒæœåŠ¡åï¼‰</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> self.client.wait_for_service(timeout_sec=<span class="number">1.0</span>):     <span class="comment"># å¾ªç¯ç­‰å¾…æœåŠ¡å™¨ç«¯æˆåŠŸå¯åŠ¨</span></span><br><span class="line">            self.get_logger().info(<span class="string">&#x27;service not available, waiting again...&#x27;</span>) </span><br><span class="line">        self.request = AddTwoInts.Request()                          <span class="comment"># åˆ›å»ºæœåŠ¡è¯·æ±‚çš„æ•°æ®å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">send_request</span>(<span class="params">self</span>):                                          <span class="comment"># åˆ›å»ºä¸€ä¸ªå‘é€æœåŠ¡è¯·æ±‚çš„å‡½æ•°</span></span><br><span class="line">        self.request.a = <span class="built_in">int</span>(sys.argv[<span class="number">1</span>])</span><br><span class="line">        self.request.b = <span class="built_in">int</span>(sys.argv[<span class="number">2</span>])</span><br><span class="line">        self.future = self.client.call_async(self.request)           <span class="comment"># å¼‚æ­¥æ–¹å¼å‘é€æœåŠ¡è¯·æ±‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):</span><br><span class="line">    rclpy.init(args=args)                        <span class="comment"># ROS2 Pythonæ¥å£åˆå§‹åŒ–</span></span><br><span class="line">    node = adderClient(<span class="string">&quot;service_adder_client&quot;</span>)   <span class="comment"># åˆ›å»ºROS2èŠ‚ç‚¹å¯¹è±¡å¹¶è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    node.send_request()                          <span class="comment"># å‘é€æœåŠ¡è¯·æ±‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> rclpy.ok():                            <span class="comment"># ROS2ç³»ç»Ÿæ­£å¸¸è¿è¡Œ</span></span><br><span class="line">        rclpy.spin_once(node)                    <span class="comment"># å¾ªç¯æ‰§è¡Œä¸€æ¬¡èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> node.future.done():                   <span class="comment"># æ•°æ®æ˜¯å¦å¤„ç†å®Œæˆ</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                response = node.future.result()  <span class="comment"># æ¥æ”¶æœåŠ¡å™¨ç«¯çš„åé¦ˆæ•°æ®</span></span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                node.get_logger().info(</span><br><span class="line">                    <span class="string">&#x27;Service call failed %r&#x27;</span> % (e,))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                node.get_logger().info(          <span class="comment"># å°†æ”¶åˆ°çš„åé¦ˆä¿¡æ¯æ‰“å°è¾“å‡º</span></span><br><span class="line">                    <span class="string">&#x27;Result of add_two_ints: for %d + %d = %d&#x27;</span> % </span><br><span class="line">                    (node.request.a, node.request.b, response.<span class="built_in">sum</span>))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    node.destroy_node()                          <span class="comment"># é”€æ¯èŠ‚ç‚¹å¯¹è±¡</span></span><br><span class="line">    rclpy.shutdown()                             <span class="comment"># å…³é—­ROS2 Pythonæ¥å£</span></span><br></pre></td></tr></table></figure><p><strong>(2) æœåŠ¡ç«¯</strong></p><p>æœåŠ¡ç«¯è¯·æ±‚æ•°æ®ä»£ç å¦‚ä¸‹ï¼š<code>scripts/server.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> rclpy                                     <span class="comment"># ROS2 Pythonæ¥å£åº“</span></span><br><span class="line"><span class="keyword">from</span> rclpy.node   <span class="keyword">import</span> Node                    <span class="comment"># ROS2 èŠ‚ç‚¹ç±»</span></span><br><span class="line"><span class="keyword">from</span> learning_interface.srv <span class="keyword">import</span> AddTwoInts    <span class="comment"># è‡ªå®šä¹‰çš„æœåŠ¡æ¥å£</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">adderServer</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)                                                           <span class="comment"># ROS2èŠ‚ç‚¹çˆ¶ç±»åˆå§‹åŒ–</span></span><br><span class="line">        self.srv = self.create_service(AddTwoInts, <span class="string">&#x27;add_two_ints&#x27;</span>, self.adder_callback)  <span class="comment"># åˆ›å»ºæœåŠ¡å™¨å¯¹è±¡ï¼ˆæ¥å£ç±»å‹ã€æœåŠ¡åã€æœåŠ¡å™¨å›è°ƒå‡½æ•°ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">adder_callback</span>(<span class="params">self, request, response</span>):   <span class="comment"># åˆ›å»ºå›è°ƒå‡½æ•°ï¼Œæ‰§è¡Œæ”¶åˆ°è¯·æ±‚åå¯¹æ•°æ®çš„å¤„ç†</span></span><br><span class="line">        response.<span class="built_in">sum</span> = request.a + request.b       <span class="comment"># å®ŒæˆåŠ æ³•æ±‚å’Œè®¡ç®—ï¼Œå°†ç»“æœæ”¾åˆ°åé¦ˆçš„æ•°æ®ä¸­</span></span><br><span class="line">        self.get_logger().info(<span class="string">&#x27;Incoming request\na: %d b: %d&#x27;</span> % (request.a, request.b))   <span class="comment"># è¾“å‡ºæ—¥å¿—ä¿¡æ¯ï¼Œæç¤ºå·²ç»å®ŒæˆåŠ æ³•æ±‚å’Œè®¡ç®—</span></span><br><span class="line">        <span class="keyword">return</span> response                          <span class="comment"># åé¦ˆåº”ç­”ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):                             <span class="comment"># ROS2èŠ‚ç‚¹ä¸»å…¥å£mainå‡½æ•°</span></span><br><span class="line">    rclpy.init(args=args)                        <span class="comment"># ROS2 Pythonæ¥å£åˆå§‹åŒ–</span></span><br><span class="line">    node = adderServer(<span class="string">&quot;service_adder_server&quot;</span>)   <span class="comment"># åˆ›å»ºROS2èŠ‚ç‚¹å¯¹è±¡å¹¶è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    rclpy.spin(node)                             <span class="comment"># å¾ªç¯ç­‰å¾…ROS2é€€å‡º</span></span><br><span class="line">    node.destroy_node()                          <span class="comment"># é”€æ¯èŠ‚ç‚¹å¯¹è±¡</span></span><br><span class="line">    rclpy.shutdown()                             <span class="comment"># å…³é—­ROS2 Pythonæ¥å£</span></span><br></pre></td></tr></table></figure><p><strong>(3) ç¼–è¾‘ <a href="http://setup.py">setup.py</a></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">entry_points=&#123;</span><br><span class="line">    <span class="string">&#x27;console_scripts&#x27;</span>: [</span><br><span class="line">     <span class="string">&#x27;client  = scripts.client:main&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;server  = scripts.server:main&#x27;</span>,</span><br><span class="line">    ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="5-URDF-ç›¸å…³">5 URDF ç›¸å…³</h2><p><strong>ï¼ˆ1ï¼‰åˆ›å»ºåŠŸèƒ½åŒ…</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/ros2_ws/src</span><br><span class="line">cd ~/ros2_ws/src</span><br><span class="line">ros2 pkg create urdf_view --build-type ament_python --dependencies rclpy --license Apache-2.0</span><br><span class="line">cd urdf_view</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰åˆ›å»º URDF æ–‡ä»¶</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir urdf</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ <a href="https://docs.ros.org/en/foxy/_downloads/872802005223ffdb75b1ab7b25ad445b/r2d2.urdf.xml">URDF æ–‡ä»¶</a>å¹¶ä¿å­˜åœ¨ <code>~/ros2_ws/src/urdf_view/urdf/r2d2.urdf.xml</code></p><p><strong>ï¼ˆ3ï¼‰å‘å¸ƒçŠ¶æ€</strong></p><p>åœ¨ <code>~/ros2_ws/src/urdf_view/urdf_view/</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ <code>state_publisher.py</code>ï¼Œå¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sin, cos, pi</span><br><span class="line"><span class="keyword">import</span> rclpy</span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node</span><br><span class="line"><span class="keyword">from</span> rclpy.qos <span class="keyword">import</span> QoSProfile</span><br><span class="line"><span class="keyword">from</span> geometry_msgs.msg <span class="keyword">import</span> Quaternion</span><br><span class="line"><span class="keyword">from</span> sensor_msgs.msg <span class="keyword">import</span> JointState</span><br><span class="line"><span class="keyword">from</span> tf2_ros <span class="keyword">import</span> TransformBroadcaster, TransformStamped</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StatePublisher</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        rclpy.init()</span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="string">&#x27;state_publisher&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        qos_profile = QoSProfile(depth=<span class="number">10</span>)</span><br><span class="line">        self.joint_pub = self.create_publisher(JointState, <span class="string">&#x27;joint_states&#x27;</span>, qos_profile)</span><br><span class="line">        self.broadcaster = TransformBroadcaster(self, qos=qos_profile)</span><br><span class="line">        self.nodeName = self.get_name()</span><br><span class="line">        self.get_logger().info(<span class="string">&quot;&#123;0&#125; started&quot;</span>.<span class="built_in">format</span>(self.nodeName))</span><br><span class="line"></span><br><span class="line">        degree = pi / <span class="number">180.0</span></span><br><span class="line">        loop_rate = self.create_rate(<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># robot state</span></span><br><span class="line">        tilt = <span class="number">0.</span></span><br><span class="line">        tinc = degree</span><br><span class="line">        swivel = <span class="number">0.</span></span><br><span class="line">        angle = <span class="number">0.</span></span><br><span class="line">        height = <span class="number">0.</span></span><br><span class="line">        hinc = <span class="number">0.005</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># message declarations</span></span><br><span class="line">        odom_trans = TransformStamped()</span><br><span class="line">        odom_trans.header.frame_id = <span class="string">&#x27;odom&#x27;</span></span><br><span class="line">        odom_trans.child_frame_id = <span class="string">&#x27;axis&#x27;</span></span><br><span class="line">        joint_state = JointState()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">while</span> rclpy.ok():</span><br><span class="line">                rclpy.spin_once(self)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># update joint_state</span></span><br><span class="line">                now = self.get_clock().now()</span><br><span class="line">                joint_state.header.stamp = now.to_msg()</span><br><span class="line">                joint_state.name = [<span class="string">&#x27;swivel&#x27;</span>, <span class="string">&#x27;tilt&#x27;</span>, <span class="string">&#x27;periscope&#x27;</span>]</span><br><span class="line">                joint_state.position = [swivel, tilt, height]</span><br><span class="line"></span><br><span class="line">                <span class="comment"># update transform</span></span><br><span class="line">                <span class="comment"># (moving in a circle with radius=2)</span></span><br><span class="line">                odom_trans.header.stamp = now.to_msg()</span><br><span class="line">                odom_trans.transform.translation.x = cos(angle)*<span class="number">2</span></span><br><span class="line">                odom_trans.transform.translation.y = sin(angle)*<span class="number">2</span></span><br><span class="line">                odom_trans.transform.translation.z = <span class="number">0.7</span></span><br><span class="line">                odom_trans.transform.rotation = \</span><br><span class="line">                    euler_to_quaternion(<span class="number">0</span>, <span class="number">0</span>, angle + pi/<span class="number">2</span>) <span class="comment"># roll,pitch,yaw</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># send the joint state and transform</span></span><br><span class="line">                self.joint_pub.publish(joint_state)</span><br><span class="line">                self.broadcaster.sendTransform(odom_trans)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># Create new robot state</span></span><br><span class="line">                tilt += tinc</span><br><span class="line">                <span class="keyword">if</span> tilt &lt; -<span class="number">0.5</span> <span class="keyword">or</span> tilt &gt; <span class="number">0.0</span>:</span><br><span class="line">                    tinc *= -<span class="number">1</span></span><br><span class="line">                height += hinc</span><br><span class="line">                <span class="keyword">if</span> height &gt; <span class="number">0.2</span> <span class="keyword">or</span> height &lt; <span class="number">0.0</span>:</span><br><span class="line">                    hinc *= -<span class="number">1</span></span><br><span class="line">                swivel += degree</span><br><span class="line">                angle += degree/<span class="number">4</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># This will adjust as needed per iteration</span></span><br><span class="line">                loop_rate.sleep()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">euler_to_quaternion</span>(<span class="params">roll, pitch, yaw</span>):</span><br><span class="line">    qx = sin(roll/<span class="number">2</span>) * cos(pitch/<span class="number">2</span>) * cos(yaw/<span class="number">2</span>) - cos(roll/<span class="number">2</span>) * sin(pitch/<span class="number">2</span>) * sin(yaw/<span class="number">2</span>)</span><br><span class="line">    qy = cos(roll/<span class="number">2</span>) * sin(pitch/<span class="number">2</span>) * cos(yaw/<span class="number">2</span>) + sin(roll/<span class="number">2</span>) * cos(pitch/<span class="number">2</span>) * sin(yaw/<span class="number">2</span>)</span><br><span class="line">    qz = cos(roll/<span class="number">2</span>) * cos(pitch/<span class="number">2</span>) * sin(yaw/<span class="number">2</span>) - sin(roll/<span class="number">2</span>) * sin(pitch/<span class="number">2</span>) * cos(yaw/<span class="number">2</span>)</span><br><span class="line">    qw = cos(roll/<span class="number">2</span>) * cos(pitch/<span class="number">2</span>) * cos(yaw/<span class="number">2</span>) + sin(roll/<span class="number">2</span>) * sin(pitch/<span class="number">2</span>) * sin(yaw/<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> Quaternion(x=qx, y=qy, z=qz, w=qw)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    node = StatePublisher()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ4ï¼‰åˆ›å»º launch æ–‡ä»¶</strong></p><p>åˆ›å»ºä¸€ä¸ª <code>~/ros2_ws/src/urdf_view/launch</code> æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ª <code>demo.launch.py</code> æ–‡ä»¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> ament_index_python.packages <span class="keyword">import</span> get_package_share_directory</span><br><span class="line"><span class="keyword">from</span> launch <span class="keyword">import</span> LaunchDescription</span><br><span class="line"><span class="keyword">from</span> launch.actions <span class="keyword">import</span> DeclareLaunchArgument</span><br><span class="line"><span class="keyword">from</span> launch.substitutions <span class="keyword">import</span> LaunchConfiguration</span><br><span class="line"><span class="keyword">from</span> launch_ros.actions <span class="keyword">import</span> Node</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_launch_description</span>():</span><br><span class="line"></span><br><span class="line">    use_sim_time = LaunchConfiguration(<span class="string">&#x27;use_sim_time&#x27;</span>, default=<span class="string">&#x27;false&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    urdf_file_name = <span class="string">&#x27;r2d2.urdf.xml&#x27;</span></span><br><span class="line">    urdf = os.path.join(</span><br><span class="line">        get_package_share_directory(<span class="string">&#x27;urdf_view&#x27;</span>),</span><br><span class="line">        urdf_file_name)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(urdf, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> infp:</span><br><span class="line">        robot_desc = infp.read()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> LaunchDescription([</span><br><span class="line">        DeclareLaunchArgument(</span><br><span class="line">            <span class="string">&#x27;use_sim_time&#x27;</span>,</span><br><span class="line">            default_value=<span class="string">&#x27;false&#x27;</span>,</span><br><span class="line">            description=<span class="string">&#x27;Use simulation (Gazebo) clock if true&#x27;</span>),</span><br><span class="line">        Node(</span><br><span class="line">            package=<span class="string">&#x27;robot_state_publisher&#x27;</span>,</span><br><span class="line">            executable=<span class="string">&#x27;robot_state+_publisher&#x27;</span>,</span><br><span class="line">            name=<span class="string">&#x27;robot_state_publisher&#x27;</span>,</span><br><span class="line">            output=<span class="string">&#x27;screen&#x27;</span>,</span><br><span class="line">            parameters=[&#123;<span class="string">&#x27;use_sim_time&#x27;</span>: use_sim_time, <span class="string">&#x27;robot_description&#x27;</span>: robot_desc&#125;],</span><br><span class="line">            arguments=[urdf]),</span><br><span class="line">        Node(</span><br><span class="line">            package=<span class="string">&#x27;urdf_view&#x27;</span>,</span><br><span class="line">            executable=<span class="string">&#x27;state_publisher&#x27;</span>,</span><br><span class="line">            name=<span class="string">&#x27;state_publisher&#x27;</span>,</span><br><span class="line">            output=<span class="string">&#x27;screen&#x27;</span>),</span><br><span class="line">    ])</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ5ï¼‰æ›´æ–° <a href="http://setup.py">setup.py</a></strong></p><p>ä¸ºäº†èƒ½å¤Ÿæ­£å¸¸å®‰è£… pythonï¼Œå¿…é¡»å‘Šè¯‰ colcon ç¼–è¯‘å·¥å…·å¦‚ä½•å®‰è£…æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„ python åŒ…ï¼Œç¼–è¾‘ <code>~/ros2_ws/src/urdf_view/setup.py</code> å¦‚ä¸‹ï¼š</p><p>å¯¼å…¥å¿…è¦åº“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> glob <span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup</span><br><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> find_packages</span><br></pre></td></tr></table></figure><p>åœ¨ <code>data_files</code> ä¸­æ·»åŠ ä¸¤è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data_files=[</span><br><span class="line">  ...</span><br><span class="line">  (os.path.join(<span class="string">&#x27;share&#x27;</span>, package_name, <span class="string">&#x27;launch&#x27;</span>), glob(os.path.join(<span class="string">&#x27;launch&#x27;</span>, <span class="string">&#x27;*launch.[pxy][yma]*&#x27;</span>))),</span><br><span class="line">  (os.path.join(<span class="string">&#x27;share&#x27;</span>, package_name), glob(<span class="string">&#x27;urdf/*&#x27;</span>)),</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>entry_points</code> åˆ—è¡¨ï¼Œä¿è¯å¯ä»¥ä»å‘½ä»¤è¡Œè¿è¡Œ <code>state_publisher</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;console_scripts&#x27;</span>: [</span><br><span class="line">    <span class="string">&#x27;state_publisher = urdf_view.state_publisher:main&#x27;</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ6ï¼‰å®‰è£…åŒ…</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/ros2_ws</span><br><span class="line">colcon build --symlink-install --packages-select urdf_view</span><br><span class="line">source install/setup.bash</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ7ï¼‰å¯è§†åŒ–ç»“æœ</strong></p><p>å¯åŠ¨package</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch urdf_view demo.launch.py</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯ï¼Œè¿è¡Œ Rviz</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rviz2</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">æœ€è¿‘åœ¨æ–°çš„ç”µè„‘ä¸Šå®‰è£…äº†Ubuntu22.04ä¸ROS2 Humbleï¼Œä¸æ—¶ä¿±è¿›ï¼Œå­¦ä¹ ä¸€ä¸‹æ–°çš„ROS2å‘½ä»¤å¹¶æ€»ç»“ä¸‹æ¥ï¼Œä»¥ä¾¿éšæ—¶æŸ¥çœ‹ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="ROS" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/ROS/"/>
    
    
    <category term="ROS2" scheme="https://www.mahaofei.com/tags/ROS2/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨zshåˆ›å»ºæ›´é«˜æ•ˆçš„shellç¯å¢ƒ</title>
    <link href="https://www.mahaofei.com/post/zsh.html"/>
    <id>https://www.mahaofei.com/post/zsh.html</id>
    <published>2024-11-30T08:03:14.000Z</published>
    <updated>2024-11-30T08:03:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºå„ä¸ªå‘è¡Œç‰ˆçš„ç³»ç»Ÿé»˜è®¤ shell éƒ½æ˜¯ bashï¼Œæ‰€ä»¥å¯¹ bash çš„ç†Ÿæ‚‰åº¦æ˜¯æœ€é«˜çš„ã€‚</p><p>ä¾‹å¦‚ bash/python è„šæœ¬å¼€å¤´çš„ <code>!#/bin/bash</code>ï¼Œç»å¸¸ç”¨åˆ°çš„å‘½ä»¤ <code>source ~/.bashrc</code> ç­‰ç­‰ã€‚</p><p>zsh æ˜¯ä¸€ä¸ªä¸ºäº¤äº’å¼ä½¿ç”¨è€Œè®¾è®¡çš„ å…¼å®¹ bash çš„ shellï¼Œå°½ç®¡å®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¼ºå¤§çš„è„šæœ¬è¯­è¨€ã€‚Bashã€ ksh å’Œ tcsh çš„è®¸å¤šæœ‰ç”¨ç‰¹æ€§éƒ½è¢«åˆå¹¶åˆ° zsh ä¸­; è¿˜æ·»åŠ äº†è®¸å¤šåŸå§‹ç‰¹æ€§ã€‚</p><p>ç›¸è¾ƒ bash å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>Tab è¡¥å…¨åŠŸèƒ½å¼ºå¤§ã€‚å‘½ä»¤ã€å‘½ä»¤å‚æ•°ã€æ–‡ä»¶è·¯å¾„å‡å¯ä»¥è¡¥å…¨ã€‚</li><li>æ’ä»¶ä¸°å¯Œã€‚å¿«é€Ÿè¾“å…¥ä»¥å‰ä½¿ç”¨è¿‡çš„å‘½ä»¤ã€å¿«é€Ÿè·³è½¬æ–‡ä»¶å¤¹ã€æ˜¾ç¤ºç³»ç»Ÿè´Ÿè½½è¿™äº›éƒ½å¯ä»¥é€šè¿‡æ’ä»¶å®ç°ã€‚</li><li>ä¸»é¢˜ä¸°å¯Œã€‚</li><li>å¯å®šåˆ¶æ€§é«˜ã€‚</li></ul><p>å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œzsh å®Œå…¨å…¼å®¹ bashï¼Œå¦‚æœä½ çš„ bash è„šæœ¬å¼€å¤´æ˜¯ä»¥ <code>!#/bin/bash</code> çš„è¯ï¼Œåœ¨ zsh ä¸‹è¿˜æ˜¯å®Œå…¨å…¼å®¹ bash çš„ã€‚</p><h2 id="å®‰è£…-zsh">å®‰è£… zsh</h2><p>æŸ¥çœ‹ç³»ç»Ÿå¯ä»¥ä½¿ç”¨çš„ shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure><p><strong>å®‰è£… zsh</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install zsh</span><br></pre></td></tr></table></figure><p>é‡æ–°æ£€æŸ¥ç³»ç»Ÿå¯ä»¥ä½¿ç”¨çš„ shellï¼Œå‘ç°å¤šå‡ºäº† zshï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/shells</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/etc/shells: valid login shells</span></span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/usr/bin/bash</span><br><span class="line">/bin/rbash</span><br><span class="line">/usr/bin/rbash</span><br><span class="line">/bin/dash</span><br><span class="line">/usr/bin/dash</span><br><span class="line">/usr/bin/tmux</span><br><span class="line">/bin/zsh</span><br><span class="line">/usr/bin/zsh</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å½“å‰çš„é»˜è®¤ shellï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $SHELL</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20241230165317967.png" alt="image.png"></p><p><strong>ä¿®æ”¹é»˜è®¤ shell</strong>ï¼šåˆ†åˆ«ä¿®æ”¹ç”¨æˆ·å’Œ root ç”¨æˆ·çš„ç»ˆç«¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chsh -s /bin/zsh</span><br><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure><p>é‡å¯ç³»ç»Ÿï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œåˆæ¬¡å¯åŠ¨ zsh ä¼šè¿›å…¥é…ç½®ç•Œé¢ï¼Œè¾“å…¥ 0 å¯ä»¥è·³è¿‡</p><p><img src="https://img.mahaofei.com/img/20241230170306614.png" alt="image.png"></p><h2 id="å®‰è£…-Oh-My-ZSH">å®‰è£… Oh My ZSH!</h2><p>zsh ç”±äºé…ç½®è¿‡äºå¤æ‚é—¨æ§›è¾ƒé«˜ï¼Œå¤§ç¥å¼€å‘äº† <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https%3A%2F%2Fohmyz.sh%2F&amp;objectId=2412910&amp;objectType=1&amp;isNewArticle=undefined">oh my zsh</a> æå¤§é™ä½äº†ä½¿ç”¨é—¨æ§›ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20241230170334218.png" alt="image.png"></p><h2 id="é…ç½®ä¸»é¢˜ï¼špowerlevel10k">é…ç½®ä¸»é¢˜ï¼špowerlevel10k</h2><blockquote><p>å‚è€ƒï¼š<a href="https://github.com/romkatv/powerlevel10k">https://github.com/romkatv/powerlevel10k</a></p></blockquote><p><strong>(0) å®‰è£…å­—ä½“</strong></p><p>ä¸‹è½½ä»¥ä¸‹æ–‡ä»¶ï¼š</p><ul><li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Regular.ttf">MesloLGS NF Regular.ttf</a></li><li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold.ttf">MesloLGS NF Bold.ttf</a></li><li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Italic.ttf">MesloLGS NF Italic.ttfÂ Â MesloLGS NF æ–œä½“.ttf</a></li><li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold%20Italic.ttf">MesloLGS NF Bold Italic.ttf</a></li></ul><p>æ‰“å¼€ã€Terminal-&gt;Preferencesã€‘ï¼Œé€‰æ‹©é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®è‡ªå®šä¹‰å­—ä½“ä¸º <code>MesloLGS NF Regular</code>ã€‚</p><p><strong>(1) å®‰è£…ä¸»é¢˜</strong></p><p>ä¸‹è½½ä»£ç åº“ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth=1 https://github.com/romkatv/powerlevel10k.git $&#123;ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom&#125;/themes/powerlevel10k</span><br></pre></td></tr></table></figure><p><strong>(2) è®¾ç½®ä¸»é¢˜</strong></p><p>æ‰“å¼€ <code>~/.zshrc</code>Â ï¼Œæ‰¾åˆ° <code>ZSH_THEME</code> æ‰€åœ¨çš„è¡Œï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸º <code>&quot;powerlevel10k/powerlevel10k&quot;</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME=&quot;powerlevel10k/powerlevel10k&quot;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæ‰§è¡Œ <code>source ~/.zshrc</code> é…ç½®ç”Ÿæ•ˆï¼Œè¿™æ—¶ä¼šæç¤ºå¯¹ä¸»é¢˜è¿›è¡Œé…ç½®ï¼ŒæŒ‰ç…§æç¤ºè¿›è¡Œå³å¯ã€‚</p><h2 id="å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶</h2><p><strong>(0) oh-my-zsh å†…ç½®å‘½ä»¤è¡¥å…¨</strong></p><p>é»˜è®¤ oh-my-zsh å‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½å¦‚ä¸‹ï¼š</p><ul><li><strong>è‡ªåŠ¨åˆ—å‡ºç›®å½•</strong>ï¼šè¾“å…¥ cd æŒ‰ tab é”®ï¼Œç›®å½•å°†è‡ªåŠ¨åˆ—å‡ºï¼Œåœ¨æŒ‰ tab å¯ä»¥åˆ‡æ¢</li><li><strong>è‡ªåŠ¨ç›®å½•åç®€å†™è¡¥å…¨</strong>ï¼šè¦è®¿é—® <code>/usr/local/bin</code> è¿™ä¸ªé•¿è·¯å¾„ï¼Œåªéœ€è¦ <code>cd /u/l/b</code> æŒ‰ tab é”®è‡ªåŠ¨è¡¥å…¨</li><li><strong>è‡ªåŠ¨å¤§å°å†™æ›´æ­£</strong>ï¼šè¦è®¿é—® Desktop æ–‡ä»¶å¤¹ï¼Œåªéœ€è¦ <code>cd de</code> æŒ‰ tab é”®è‡ªåŠ¨è¡¥å…¨ï¼Œæˆ–è€…æŸ¥çœ‹ <code>README.md</code>ï¼Œåªéœ€è¦ <code>cat rea</code> è‡ªåŠ¨æ›´æ­£è¡¥å…¨</li><li><strong>è‡ªåŠ¨å‘½ä»¤è¡¥å…¨</strong>ï¼šè¾“å…¥ <code>kubectl</code> æŒ‰ tab é”®å³å¯çœ‹åˆ°å¯ç”¨å‘½ä»¤</li><li><strong>è‡ªåŠ¨è¡¥å…¨å‘½ä»¤å‚æ•°</strong>ï¼šè¾“å…¥ <code>kill</code> æŒ‰ tab é”®ä¼šè‡ªåŠ¨æ˜¾ç¤ºå‡ºè¿›ç¨‹çš„ process id</li></ul><p><strong>(1) <a href="https://github.com/zsh-users/zsh-completions">zsh-completions</a>: é¢å¤–å‘½ä»¤è¡¥å…¨</strong></p><p>é¢å¤–çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œè¡¥å…… zsh ä¸­å°šä¸æ”¯æŒçš„å‘½ä»¤è¡¥å…¨</p><p>å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth=1 https://github.com/zsh-users/zsh-completions $&#123;ZSH_CUSTOM:-$&#123;ZSH:-~/.oh-my-zsh&#125;/custom&#125;/plugins/zsh-completions</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹å†…å®¹åˆ° <code>~/.zshrc</code> ä¸­ <code>source &quot;$ZSH/oh-my-zsh.sh&quot;</code> ä¹‹å‰ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fpath+=$&#123;ZSH_CUSTOM:-$&#123;ZSH:-~/.oh-my-zsh&#125;/custom&#125;/plugins/zsh-completions/src</span><br></pre></td></tr></table></figure><p>å¼€å¯æ–°çš„ Shell æˆ–æ‰§è¡Œ <code>source ~/.zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><p><strong>(2) <a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a>: æ ¹æ®å†å²å‘½ä»¤è¡¥å…¨</strong></p><p>ä½œç”¨æ˜¯æ ¹æ®å†å²è¾“å…¥å‘½ä»¤çš„è®°å½•å³æ—¶çš„æç¤ºï¼ˆå»ºè®®è¡¥å…¨ï¼‰ï¼Œç„¶åæŒ‰å³ <code>â†’</code> é”®å³å¯è¡¥å…¨ã€‚</p><p>å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth=1 https://github.com/zsh-users/zsh-autosuggestions.git $&#123;ZSH_CUSTOM:-$&#123;ZSH:-~/.oh-my-zsh&#125;/custom&#125;/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>~/.zshrc</code>ï¼Œæ‰¾åˆ° plugins=(git) è¿™ä¸€è¡Œï¼Œä¿®æ”¹ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=( git zsh-autosuggestions )</span><br></pre></td></tr></table></figure><p>å¼€å¯æ–°çš„ Shell æˆ–æ‰§è¡Œ <code>source ~/.zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><p><strong>(3) <a href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highlighting</a>: è¯­æ³•é«˜äº®</strong></p><p>ä½œç”¨ï¼šå‘½ä»¤é”™è¯¯ä¼šæ˜¾ç¤ºçº¢è‰²ï¼Œç›´åˆ°ä½ è¾“å…¥æ­£ç¡®æ‰ä¼šå˜ç»¿è‰²ï¼Œå¦å¤–è·¯å¾„æ­£ç¡®ä¼šæ˜¾ç¤ºä¸‹åˆ’çº¿ã€‚</p><p>å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth=1 https://github.com/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>~/.zshrc</code>ï¼Œä»¥ä¸‹éƒ¨åˆ†æ·»åŠ æ’ä»¶çš„åå­—</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=( git zsh-autosuggestions zsh-syntax-highlighting)</span><br></pre></td></tr></table></figure><p>å¼€å¯æ–°çš„ Shell æˆ–æ‰§è¡Œ <code>source ~/.zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><p><strong>(4) z: æ–‡ä»¶å¤¹è·³è½¬</strong></p><p>z æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹å¿«æ·è·³è½¬æ’ä»¶ï¼Œå¯¹äºæ›¾ç»è·³è½¬è¿‡çš„ç›®å½•ï¼Œåªéœ€è¦è¾“å…¥æœ€ç»ˆç›®æ ‡æ–‡ä»¶å¤¹åç§°ï¼Œå°±å¯ä»¥å¿«é€Ÿè·³è½¬ï¼Œé¿å…å†è¾“å…¥é•¿ä¸²è·¯å¾„ï¼Œæé«˜åˆ‡æ¢æ–‡ä»¶å¤¹çš„æ•ˆç‡ã€‚</p><p>ç”±äº oh-my-zsh å†…ç½®äº† z æ’ä»¶ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨ <code>.zshrc</code> ä¸­ï¼ŒæŠŠ z åŠ å…¥æ’ä»¶åˆ—è¡¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=( git zsh-autosuggestions zsh-syntax-highlighting z)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»»æ„ä½ç½®ä¸‹ä½¿ç”¨å‘½ä»¤</span></span><br><span class="line">z grasp_ros_ws</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç›´æ¥è·³è½¬è‡³ä»¥å‰æ›¾è¿›å…¥è¿‡çš„æ–‡ä»¶å¤¹~/Programs/Grasp/6D_Grasp/grasp_ros_ws</span></span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20241230220348646.png" alt="image.png"></p><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://github.com/ohmyzsh/ohmyzsh">ohmyzsh</a></li><li><a href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a></li><li><a href="https://github.com/zsh-users/zsh-completions">zsh-completions</a></li><li><a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a></li><li><a href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highlighting</a></li><li><a href="https://cloud.tencent.com/developer/article/2412910">ä¸ºä¸ºä¸ºä»€ä¹ˆ. Linux ZSH æ›´ä¾¿æ·çš„ shell ç¯å¢ƒ</a></li><li><a href="https://sysin.org/blog/linux-zsh/">sysin. Linux Zsh ä½¿ç”¨ oh-my-zsh æ‰“é€ é«˜æ•ˆä¾¿æ·çš„ shell ç¯å¢ƒ</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">Zsh å®Œå…¨å…¼å®¹ bashï¼Œæ”¯æŒå„ç§æ™ºèƒ½å‘½ä»¤è¡¥å…¨åŠŸèƒ½ï¼Œæ”¯æŒå¤§é‡çš„ç•Œé¢ä¸»é¢˜å’Œæ’ä»¶ï¼Œæ•ˆç‡å’Œç¾è§‚éƒ½æå¤§çš„å¢å¼ºã€‚</summary>
    
    
    
    <category term="å®ç”¨å·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Ubuntuå·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/Ubuntu%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="Ubuntu" scheme="https://www.mahaofei.com/tags/Ubuntu/"/>
    
    <category term="Shell" scheme="https://www.mahaofei.com/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>Isaac Sim ä»¿çœŸç¯å¢ƒä½¿ç”¨ç®€ä»‹</title>
    <link href="https://www.mahaofei.com/post/isaacsim-intro.html"/>
    <id>https://www.mahaofei.com/post/isaacsim-intro.html</id>
    <published>2024-11-28T03:37:34.000Z</published>
    <updated>2024-11-28T03:37:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-ä»‹ç»">0. ä»‹ç»</h2><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://docs.isaacsim.omniverse.nvidia.com/latest/index.html">Isaac Sim Documents</a></li></ol></blockquote><p>IsaacÂ Sim æ˜¯ NVIDIA å¼€å‘çš„ï¼ŒåŸºäºÂ NVIDIAÂ Omniverse å¹³å°æ„å»ºçš„ï¼Œä¸€ä¸ªç‰©ç†ç²¾ç¡®çš„è™šæ‹Ÿç¯å¢ƒï¼Œç”¨äºå¼€å‘ã€æµ‹è¯•å’Œç®¡ç†åŸºäºÂ AIÂ çš„æœºå™¨äººï¼Œå®ƒä¸ºæ„å»ºè™šæ‹Ÿæœºå™¨äººå®éªŒæä¾›äº†åŸºæœ¬åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¯¼å…¥æœºå™¨äººæ¨¡å‹ä»¥åŠä»¿çœŸÂ RGB-Dã€æ¿€å…‰é›·è¾¾ã€æ¥è§¦ã€è¶…å£°æ³¢å’ŒÂ IMUÂ ç­‰ä¼ æ„Ÿå™¨ã€‚</p><p>IsaacÂ SimÂ ä½¿ç”¨Â USDÂ äº¤æ¢æ–‡ä»¶æ ¼å¼æ¥è¡¨ç¤ºåœºæ™¯ã€‚é€šç”¨åœºæ™¯æè¿°ï¼ˆUSDï¼‰æ˜¯ä¸€ç§æ˜“äºæ‰©å±•çš„å¼€æºä¸‰ç»´åœºæ™¯æè¿°å’Œæ–‡ä»¶æ ¼å¼ã€‚å½“ç„¶ä¹Ÿæ”¯æŒä» URDFã€Mujoco XML æ–‡ä»¶å¯¼å…¥ã€‚</p><blockquote><p><code>*.usd/*.usdc</code>: ä¸€èˆ¬çš„USDæ–‡ä»¶ï¼Œä»¥äºŒè¿›åˆ¶å­˜å‚¨ä¸å‹ç¼©ï¼Œå› æ­¤è¯»å–é€Ÿç‡ä¼šå¿«ä¸€äº›Â <code>*.usda</code>: çº¯æ–‡æœ¬å½¢å¼çš„USDæ–‡ä»¶ï¼Œæ›´æ–¹ä¾¿é˜…è¯»Â <code>*.usdz</code>: ä»¥zipå‹ç¼©æ–‡ä»¶å½¢å¼å­˜å‚¨çš„USDæ–‡ä»¶ï¼Œå¯ä»¥å°†å¤šä¸ªUSDæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªÂ <code>*.drc</code>: å…¶å®ƒè‡ªå®šä¹‰çš„æ–‡ä»¶æ ¼å¼</p></blockquote><p>Isaac æ˜¯ä¸€ä¸ªâ€œä¸“ä¸ºæœºå™¨äººå’ŒAIæ‰“é€ çš„åŠ é€Ÿå¹³å°â€ã€‚</p><p>åœ¨ç¡¬ä»¶å±‚é¢å®ƒæ”¯æŒå„ç§ç±»å‹çš„ç¡¬ä»¶ï¼Œæ¯”å¦‚RTXçš„GPUç­‰ç­‰ã€‚åœ¨ç³»ç»Ÿè½¯ä»¶å±‚é¢ï¼Œä¾èµ–äºRTXã€CUDAã€PhysXç­‰æ¡†æ¶ã€‚åœ¨å¹³å°å±‚é¢ï¼Œä¾èµ–äºNVIDIA AIå’ŒNVIDIA Omniverseï¼Œæœ€ç»ˆå°±å¯ä»¥å®ç°å„ç±»åº”ç”¨ï¼Œæ¯”å¦‚æœºå™¨äººæ•°æ®é‡‡é›†ã€ç¯å¢ƒä»¿çœŸç­‰ç­‰ã€‚ç”šè‡³è¿˜æœ‰ä¸“é—¨é’ˆå¯¹ROSæä¾›çš„ä¸€äº›ç¡¬ä»¶åŠ é€Ÿçš„å‡½æ•°åŒ…ï¼Œå«Isaac ROSã€‚</p><p><img src="https://img.mahaofei.com/img/202503292307819.png" alt="image.png"></p><h2 id="1-Isaac-Sim-çš„å®‰è£…-WorkStation-ç‰ˆ">1. Isaac Sim çš„å®‰è£… - WorkStation ç‰ˆ</h2><p>WorkStation ç‰ˆç›¸å½“äºå®‰è£…äº†ä¸€ä¸ªç‹¬ç«‹çš„åº”ç”¨ç¨‹åºï¼Œé€‚åˆä¾¿æ·æ‰“å¼€ GUI ç•Œé¢è°ƒè¯•ï¼Œé€‚åˆé€šè¿‡ GUI å’Œæ‰©å±•çš„æ–¹å¼è¿›è¡Œç¨‹åºå¼€å‘ã€‚å¦‚æœæƒ³é€šè¿‡è¿™ç§æ–¹å¼è¿è¡Œä»£ç ï¼Œéœ€è¦ä½¿ç”¨å®‰è£…ç›®å½•çš„ <code>isaac-sim.sh</code>ï¼Œé™åˆ¶äº† python ç¯å¢ƒçš„å¯èƒ½æ€§ï¼Œä¾‹å¦‚è¿è¡Œ <code>test.py</code> æ–‡ä»¶éœ€è¦ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/isaacsim/isaac-sim.sh ~/path/test.py</span><br></pre></td></tr></table></figure><blockquote><p><strong>æœ¬æ–‡ä½¿ç”¨æœ‰æ˜¾ç¤ºå™¨çš„æœåŠ¡å™¨å®‰è£… Isaac Sim Workstation æ¼”ç¤ºï¼Œæµç¨‹å‚è€ƒï¼š</strong><a href="https://docs.isaacsim.omniverse.nvidia.com/latest/installation/install_workstation.html">https://docs.isaacsim.omniverse.nvidia.com/latest/installation/install_workstation.html</a><br>å¦‚æœä½ ä½¿ç”¨æ— æ˜¾ç¤ºå™¨çš„æœåŠ¡å™¨ï¼Œå¯ä»¥é€šè¿‡ Docker å®‰è£…ï¼Œå‚è€ƒï¼š<a href="https://docs.isaacsim.omniverse.nvidia.com/latest/installation/install_container.html">https://docs.isaacsim.omniverse.nvidia.com/latest/installation/install_container.html</a></p></blockquote><p>å‚è€ƒ <a href="https://docs.omniverse.nvidia.com/isaacsim/latest/installation/requirements.html">Isaac Sim Requirements</a> æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ»¡è¶³è¦æ±‚ã€‚</p><ul><li>ç³»ç»Ÿï¼šUbuntu 20.04/22.04ã€Windows 10/11</li><li>GPUï¼šå¿…é¡»æœ‰ RT Coresï¼Œå¦‚ RTX 30 ç³»ã€RTX 40 ç³»</li><li>NVIDIA é©±åŠ¨ï¼š535.129.03 ä»¥ä¸Šï¼ˆ2024 å¹´ 10 æœˆè¦æ±‚ï¼Œå‚è€ƒå®˜ç½‘æ›´æ–°å†…å®¹ï¼‰</li></ul><p><strong>ï¼ˆ1ï¼‰ä¸‹è½½ IsaacSim</strong></p><p>æ‰“å¼€ Isaac Sim Latest Release ç½‘é¡µï¼š<a href="https://docs.isaacsim.omniverse.nvidia.com/latest/installation/download.html#isaac-sim-latest-release">https://docs.isaacsim.omniverse.nvidia.com/latest/installation/download.html#isaac-sim-latest-release</a></p><p>ä¸‹è½½ç¬¬ä¸€è¡Œæœ€æ–°ç‰ˆçš„ Isaac Sim 4.5.0 å‹ç¼©åŒ…ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/isaacsim</span><br><span class="line">cd ~/Downloads</span><br><span class="line">unzip &quot;isaac-sim-standalone@4.5.0-rc.36+release.19112.f59b3005.gl.linux-x86_64.release.zip&quot; -d ~/isaacsim</span><br><span class="line">cd ~/isaacsim</span><br><span class="line">./post_install.sh</span><br><span class="line">./isaac-sim.selector.sh</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20250228210607107.png" alt="image.png"></p><p>ç‚¹å‡» Start å³å¯è¿è¡Œ Isaac Sim ä¸»ç¨‹åºã€‚</p><blockquote><p>ç¬¬ä¸€æ¬¡è¿è¡Œä¼š warm up shader cache å¯èƒ½ä¼šæ¯”è¾ƒæ…¢æ¯”è¾ƒå¡ã€‚<br>åç»­å¯ä»¥è¿è¡Œ <code>~/isaacsim/isaac-sim.sh</code> å¯åŠ¨</p></blockquote><h2 id="1-Isaac-Sim-çš„å®‰è£…-Python-ç‰ˆ">1. Isaac Sim çš„å®‰è£… -Python ç‰ˆ</h2><p>Python ç‰ˆåœ¨åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒä¸­ç›´æ¥å®‰è£… Isaac Simï¼Œæ›´å®¹æ˜“å’Œå…¶ä»–ä»£ç ç¨‹åºçš„ä¾èµ–ç»„åˆï¼Œä¸ªäººè®¤ä¸ºæ›´ä¾¿äºæœºå™¨äººå¼€å‘ã€‚</p><p>æœ¬èŠ‚å‚è€ƒï¼š<a href="https://docs.isaacsim.omniverse.nvidia.com/latest/installation/install_python.html">Isaac Sim Documents - Python Environment Installation</a></p><p><strong>ï¼ˆ1ï¼‰åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n env_isaacsim python=3.10</span><br><span class="line">conda activate env_isaacsim</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰å®‰è£… Isaac Sim åŒ…</strong></p><p>é¦–å…ˆæ›´æ–° pip</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipÂ installÂ --upgradeÂ pip</span><br></pre></td></tr></table></figure><p>å®‰è£… Isaac Sim å®Œæ•´ç‰ˆåŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install isaacsim[all]==4.5.0 --extra-index-url https://pypi.nvidia.com</span><br></pre></td></tr></table></figure><p>å®‰è£… Isaac Sim ç¼“å­˜æ‰©å±•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install isaacsim[extscache]==4.5.0 --extra-index-url https://pypi.nvidia.com</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰ç¤ºä¾‹</strong></p><p>åˆ›å»º python ç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> isaacsim</span><br><span class="line"><span class="keyword">from</span> isaacsim.simulation_app <span class="keyword">import</span> SimulationApp</span><br><span class="line"></span><br><span class="line">simulation_app = SimulationApp(&#123;<span class="string">&quot;headless&quot;</span>: <span class="literal">True</span>&#125;)</span><br><span class="line"><span class="comment">## perform any Isaac Sim / Omniverse imports after instantiating the class</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œåæ•ˆæœä¸ºæ‰“å¼€ Isaac Sim çª—å£ã€‚</p><blockquote><p>ç¬¬ä¸€æ¬¡è¿è¡Œä¼š warm up shader cache å¯èƒ½ä¼šæ¯”è¾ƒæ…¢æ¯”è¾ƒå¡ã€‚</p></blockquote><h2 id="2-Isaac-Sim-GUI-åŸºæœ¬ä½¿ç”¨">2. Isaac Sim GUI åŸºæœ¬ä½¿ç”¨</h2><blockquote><p>æœ¬èŠ‚å‚è€ƒï¼š<a href="https://docs.omniverse.nvidia.com/isaacsim/latest/introductory_tutorials/index.html">Isaac Sim UI and Workflow Tutorials</a></p></blockquote><h3 id="2-1-UI-ç•Œé¢">2.1 UI ç•Œé¢</h3><p><strong>ï¼ˆ1ï¼‰æ·»åŠ å¹¶æ“ä½œä¸€ä¸ªç«‹æ–¹ä½“</strong></p><p>ç‚¹å‡» <code>Create-&gt;Shape-&gt;Cube</code> æ·»åŠ ä¸€ä¸ªç«‹æ–¹ä½“ï¼š</p><ul><li>é€‰ä¸­ç«‹æ–¹ä½“ï¼Œæ‹–åŠ¨åæ ‡è½´ç§»åŠ¨ç«‹æ–¹ä½“</li><li>æŒ‰ <code>E</code> åˆ‡æ¢åˆ°æ—‹è½¬æ§åˆ¶ï¼Œè°ƒæ•´ç«‹æ–¹ä½“å§¿æ€ï¼Œå†æŒ‰ <code>E</code> åˆ‡æ¢åˆ°å±€éƒ¨åæ ‡ç³»æ—‹è½¬æ§åˆ¶</li><li>æŒ‰ <code>R</code> åˆ‡æ¢åˆ°æ¯”ä¾‹æ§åˆ¶ï¼Œè°ƒæ•´ç«‹æ–¹ä½“å½¢çŠ¶</li><li>æŒ‰ <code>W</code> åˆ‡æ¢å›ä½ç½®æ§åˆ¶ï¼Œè°ƒæ•´ç«‹æ–¹ä½“ä½ç½®ï¼Œå†æŒ‰ <code>W</code> åˆ‡æ¢åˆ°å±€éƒ¨åæ ‡ç³»ä½ç½®æ§åˆ¶</li><li></li><li>æŒ‰ <code>Esc</code> å–æ¶ˆé€‰ä¸­ç«‹æ–¹ä½“</li></ul><p>æ‰€æœ‰çš„æ“ä½œéƒ½ä¼šåœ¨å³ä¸‹è§’çš„å±æ€§é¢æ¿æ˜¾ç¤ºå±æ€§å˜åŒ–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨å³ä¸‹è§’è¾“å…¥æ•°å€¼è®¾ç½®ç«‹æ–¹ä½“å‚æ•°ã€‚</p><p><img src="https://img.mahaofei.com/img/20241029202642.png" alt="image.png"></p><p><strong>ï¼ˆ2ï¼‰è§†è§’æ§åˆ¶</strong></p><ul><li><code>F</code>ï¼šç›¸æœºå±…ä¸­å¹¶ç¼©æ”¾åˆ°åˆé€‚ä½ç½®</li><li><code>Alt+é¼ æ ‡å·¦é”®æ‹–åŠ¨</code>ï¼šç»•å½“å‰è§†è§’çš„ä¸­å¿ƒæ—‹è½¬</li><li><code>æ»šè½®</code> æˆ– <code>Alt+é¼ æ ‡å³é”®æ‹–åŠ¨</code>ï¼šç¼©æ”¾</li><li><code>é¼ æ ‡ä¸­é—´æ‹–åŠ¨</code>ï¼šå¹³ç§»è§†è§’</li><li><code>é¼ æ ‡å³é”®æ‹–åŠ¨</code>ï¼šæ—‹è½¬è§†è§’</li></ul><p><strong>ï¼ˆ3ï¼‰Stage</strong></p><p>åœ¨çª—å£å³ä¾§æœ‰ä¸€ä¸ª Stage é¢æ¿ã€‚</p><p>æ­¤æ—¶å¦‚æœç‚¹å‡» <code>Create-&gt;Xform</code> å¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºåæ ‡ç³»ã€‚</p><p>å¯ä»¥å°†æ–¹å—ç§»åŠ¨åˆ°åæ ‡ç³»å†…ï¼Œæ­¤æ—¶ç§»åŠ¨åæ ‡ç³»ï¼Œæ–¹å—ä¹Ÿä¼šè·Ÿç€ç§»åŠ¨ï¼Œå› ä¸ºæ­¤æ—¶æ–¹å—æ˜¯ Xform çš„å­çº§ï¼Œä¸¤è€…ä¹‹é—´çš„å˜æ¢å…³ç³»ä¸ä¼šå› ä¸ºç§»åŠ¨ Xform è€Œå˜åŒ–ã€‚</p><p><strong>ï¼ˆ4ï¼‰Property</strong></p><p>çª—å£å³ä¸‹è§’æ˜¯å±æ€§é¢æ¿ï¼ˆPropertyï¼‰ï¼Œä¸åŒçš„å•å…ƒï¼ˆXform, Shape, Lightï¼‰éƒ½æœ‰ç€ä¸åŒçš„å±æ€§æ•°æ®æ ¼å¼ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬åœ¨ Issac Sim ä¸­éƒ½æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹ã€‚</p><h3 id="2-2-ç¯å¢ƒè®¾ç½®">2.2 ç¯å¢ƒè®¾ç½®</h3><p><strong>ï¼ˆ1ï¼‰é‡åŠ›</strong></p><p>ç‚¹å‡» <code>Create-&gt;Physics-&gt;Physics Scene</code> æ·»åŠ  <code>Physics Scene</code> åˆ°å³ä¾§çš„ Stage Tree ä¸­ã€‚å¯ä»¥é€šè¿‡å®ƒçš„å±æ€§è®¾ç½®é‡åŠ›æ–¹å‘ä¸º <code>-Z</code> æ–¹å‘ï¼Œå¤§å°ä¸º <code>9.8</code>ï¼ˆé»˜è®¤ä¸ºå›½é™…æ ‡å‡†å•ä½ï¼‰</p><p><strong>ï¼ˆ2ï¼‰åœ°é¢</strong></p><p>ç‚¹å‡» <code>Create-&gt;Physics-&gt;Ground Plane</code> æ·»åŠ åœ°é¢ã€‚</p><p><strong>ï¼ˆ3ï¼‰ç…§æ˜</strong></p><p>æ¯ä¸ªåˆ›å»ºçš„ Stage éƒ½ä¼šæœ‰é»˜è®¤çš„å…‰æºã€‚å¯ä»¥é€šè¿‡ç‚¹å‡» <code>Create-&gt;Light-&gt;Sphere Light</code> æ·»åŠ ä¸€ä¸ªé¢å¤–çš„å…‰æºã€‚</p><ul><li>åœ¨å±æ€§é¢æ¿ä¸­ï¼Œå°†å…¶ Z è½´è®¾ä¸º 7ï¼Œå›å¤ X,Y çš„é»˜è®¤æ—‹è½¬ä¸º 0</li><li>åœ¨ <code>Main</code> ä¸­ç‚¹å‡»å³ä¾§çš„ç™½è‰²æ–¹å—è°ƒæ•´é¢œè‰²</li><li>åœ¨ <code>Main</code> ä¸­ç‚¹å‡» <code>Intensity</code> ä¿®æ”¹å…‰ç…§å¼ºåº¦ä¸º 1e6</li><li>åœ¨ <code>Shaping</code> ä¸­ç‚¹å‡» <code>cone:angle</code> å°†å…‰ç…§èŒƒå›´é™åˆ¶ä¸º 45 åº¦ï¼Œç‚¹å‡» <code>cone:angle</code> è®¾ç½®è¾¹ç¼˜æŸ”æ»‘ä¸º 0.05ã€‚</li><li>ä¸ºäº†ä½¿æ–°çš„èšå…‰ç¯æ›´å®¹æ˜“çœ‹åˆ°ï¼Œæ‰“å¼€é»˜è®¤å…‰æºçš„å±æ€§ï¼Œè®¾ç½®å…¶å¼ºåº¦ <code>Main-&gt;Intensity</code> ä¸º 300ã€‚</li></ul><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://img.mahaofei.com/img/20241030202954.png" alt="image.png"></p><h3 id="2-3-æ·»åŠ ç‰©ä½“">2.3 æ·»åŠ ç‰©ä½“</h3><p><strong>ï¼ˆ1ï¼‰å‘åœºæ™¯ä¸­æ·»åŠ å½¢çŠ¶</strong></p><ul><li>ç‚¹å‡» <code>Create-&gt;Shapes-&gt;Cube</code> åˆ›å»ºç«‹æ–¹ä½“</li><li>é€‰ä¸­ç«‹æ–¹ä½“å¹¶å°†å…¶æåˆ°åœ°é¢ä»¥ä¸Š</li><li>ç‚¹å‡»å·¦ä¾§çš„ <code>Scale</code> æŒ‰é’®ï¼Œæˆ–æŒ‰ <code>R</code> é”®ï¼Œæ¿€æ´»ç¼©æ”¾å°éƒ¨ä»¶ï¼Œè°ƒæ•´ç«‹æ–¹ä½“å½¢çŠ¶</li><li>åœ¨å³ä¸‹è§’å±æ€§ä¸­çš„ <code>Transform-&gt;translate</code> ä¸­è®¾ç½®ç‰©ä½“çš„ä½ç½®</li></ul><p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸­åŠ å…¥å…¶å®ƒå½¢çŠ¶ã€‚</p><p><strong>ï¼ˆ2ï¼‰æ·»åŠ ç‰©ç†å±æ€§</strong></p><ul><li>é€‰ä¸­æ‰€æœ‰çš„ç‰©ä½“ï¼Œåœ¨å±æ€§é€‰é¡¹å¡ä¸­ï¼Œç‚¹å‡» <code>+ Add</code>ï¼Œé€‰æ‹© <code>Physics-&gt;Rigid Body with Colliders Preset</code>ï¼Œè®¾ç½®ä¸‰ä¸ªå½¢çŠ¶çš„ç‰©ç†å±æ€§éƒ½æ˜¯å¸¦æœ‰ç¢°æ’çš„åˆšä½“</li><li>ç‚¹å‡» <code>Play</code> ä¸‰ä¸ªç‰©ä½“éƒ½ä¼šæ‰è½åˆ°åœ°é¢ä¸Š</li><li>æŸ¥çœ‹å³ä¸‹è§’å±æ€§ï¼Œå¾€ä¸‹æ»šèƒ½çœ‹åˆ° <code>Rigid Body</code> å’Œ <code>Collider</code>ï¼Œå¯ä»¥ç‚¹å‡»è¿™ä¸¤ä¸ª APIs çš„å³ä¸Šè§’ <code>x</code> åˆ é™¤å±æ€§</li></ul><p><img src="https://img.mahaofei.com/img/20241030205227.png" alt="image.png"></p><p><strong>ï¼ˆ3ï¼‰æ·»åŠ æ¥è§¦å’Œæ‘©æ“¦</strong></p><ul><li>ç‚¹å‡» <code>Create-&gt;Physics-&gt;Physics Material</code> ï¼Œé€‰æ‹© <code>Rigid Body Materials</code> åˆ›å»ºæ–°çš„ç‰©ç†æè´¨ï¼Œå¯ä»¥åœ¨å³ä¾§çš„ Stage æ ä¸­çœ‹åˆ°</li><li>é€‰ä¸­è¯¥æè´¨ï¼Œåœ¨ä¸‹æ–¹çš„å±æ€§é€‰é¡¹å¡ä¸­å¯ä»¥è°ƒæ•´æ‘©æ“¦ç³»æ•°ã€å¯†åº¦ç­‰ç­‰ã€‚</li><li>é€‰ä¸­ä»»æ„ç‰©ä½“ï¼Œåœ¨å±æ€§é€‰é¡¹å¡ä¸­æ‰¾åˆ° <code>Physics materials on selected models</code>ï¼Œè®¾ç½®é›¶ä»¶çš„æè´¨ã€‚</li></ul><p><strong>ï¼ˆ4ï¼‰æ·»åŠ å¤–è§‚</strong></p><p>åˆšæ‰æ·»åŠ çš„æ˜¯ç‰©ç†æè´¨ï¼Œä½†æ˜¯å®é™…ä¸Šç‰©ä½“æ²¡æœ‰é¢œè‰²åå…‰å±æ€§ï¼ˆå¯ä»¥é€šè¿‡å…³é—­å…‰æºæŸ¥çœ‹ï¼‰ï¼Œéœ€è¦ä¸ºç‰©ä½“åˆ›å»ºå¤–è§‚</p><ul><li>ç‚¹å‡» <code>Create-&gt;Materials-&gt;OmniPBR</code></li><li>é€‰ä¸­ä»»æ„ç‰©ä½“ï¼Œåœ¨å±æ€§é€‰é¡¹å¡ä¸­æ‰¾åˆ° <code>Materials on selected models</code>ï¼Œè®¾ç½®é›¶ä»¶çš„å¤–è§‚ã€‚</li><li>å¯ä»¥ä¿®æ”¹å¤–è§‚çš„å±æ€§ä¸­çš„ <code>Material and Shader-&gt;Shader-&gt;Albedo</code> ä¿®æ”¹åŸºç¡€é¢œè‰²ï¼Œæˆ–ä¿®æ”¹åå°„ç‡ã€ç²—ç³™åº¦ç­‰æŸ¥çœ‹å˜åŒ–</li></ul><p><img src="https://img.mahaofei.com/img/20241030210844.png" alt="image.png"></p><h3 id="2-4-ä¿å­˜å’ŒåŠ è½½åœºæ™¯ï¼Œå¼•ç”¨æœºå™¨äºº">2.4 ä¿å­˜å’ŒåŠ è½½åœºæ™¯ï¼Œå¼•ç”¨æœºå™¨äºº</h3><p>Isaac ä½¿ç”¨ USD æ ¼å¼ä½œä¸ºæ‰€æœ‰çš„åœºæ™¯æ ¼å¼ã€‚</p><p><strong>ï¼ˆ1ï¼‰ä¿å­˜åœºæ™¯</strong></p><p>ç‚¹å‡» <code>File-&gt;Save As...</code> å°†å½“å‰åœºæ™¯ä¿å­˜ä¸ºæ–° USD æ–‡ä»¶ã€‚ï¼ˆå¦‚æœç‚¹å‡» <code>Save Flattened As</code> åˆ™æ˜¯å°†æ‰€æœ‰ç»„ä»¶ä¿å­˜åˆ°åŒä¸€ä¸ª mesh ä¸­ï¼‰</p><p>å¯ä»¥é€‰æ‹© <code>.usd</code> æ ¼å¼ï¼ˆäºŒè¿›åˆ¶ï¼‰ï¼Œ<code>.usda</code>ï¼ˆäººç±»å¯é˜…è¯»æ ¼å¼ï¼‰ã€‚</p><p><img src="https://img.mahaofei.com/img/20241101153457.png" alt="image.png"></p><p><strong>ï¼ˆ2ï¼‰åŠ è½½åœºæ™¯</strong></p><ul><li>ç‚¹å‡» <code>Files-&gt;Open</code> æ‰“å¼€ USD æ–‡ä»¶ç›´æ¥ç¼–è¾‘ã€‚</li><li>ç‚¹å‡» <code>Files-&gt;Add Reference</code> å°† USD æ–‡ä»¶ä½œä¸ºå¼•ç”¨æ·»åŠ ï¼Œæ— æ³•ç›´æ¥ç¼–è¾‘ã€‚ï¼ˆç›´æ¥å°†æ–‡ä»¶æ‹–å…¥åˆ°æ–‡ä»¶çª—å£ä¹Ÿæ˜¯ä»¥å¼•ç”¨æ–¹å¼æ·»åŠ ï¼‰</li></ul><p><strong>ï¼ˆ3ï¼‰å¼•ç”¨æ–‡ä»¶æ·»åŠ çš„æ³¨æ„äº‹é¡¹</strong></p><p>å¼•ç”¨çš„æ–‡ä»¶æœ€å¥½å°†æ‰€æœ‰åˆšä½“æ’åˆ—æˆæœ‰æ„ä¹‰çš„åˆ†å±‚ç»“æ„ï¼Œä»¥å‰é¢åœºæ™¯ä¸­çš„ç‰©ä½“ä¸ºä¾‹ï¼Œå°†å…¶è§†ä¸ºä¸¤è½®å°è½¦ï¼š</p><ol><li><code>File-&gt;Open</code> æ‰“å¼€åˆšæ‰ä¿å­˜çš„ USD æ–‡ä»¶</li><li>åœ¨ Stage ä¸­å³é”®åˆ›å»ºä¸€ä¸ª <code>Xform</code>ï¼ŒåŒå‡»å°†å…¶é‡å‘½åä¸º <code>mock_robot</code>ï¼Œå¹¶å°†å…¶æ‹–åŠ¨åˆ°ç©ºç™½ä½ç½®ï¼Œä½¿å…¶å’Œ <code>World</code> ä»¥åŠ <code>Environment</code> åŒçº§ï¼Œå³é”®è®¾ç½®ä¸ºé»˜è®¤åæ ‡ç³» <code>Set as Default Prim</code></li><li>é‡å‘½å <code>Cube</code> ä¸º <code>body</code>ï¼Œä¸¤ä¸ª <code>Cylinder</code> åˆ†åˆ«ä¸º <code>wheel_left, wheel_right</code>ï¼Œå°†åˆšåˆšåˆ›å»ºçš„åˆšä½“ï¼ˆcube, Cylinderï¼‰ï¼Œä»¥åŠ Physics Material å’Œ Looks éƒ½æ‹–åˆ° <code>mock_robot</code> åæ ‡ç³»ä¸‹</li><li>ä¿å­˜æ–‡ä»¶</li></ol><p><img src="https://img.mahaofei.com/img/20241101160109.png" alt="image.png"></p><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œç‚¹å‡» <code>File-&gt;Add Reference</code>ï¼Œå¯ä»¥çœ‹åˆ°åªæœ‰æœºå™¨äººè¢«æ·»åŠ è¿›æ¥</p><p><img src="https://img.mahaofei.com/img/20241101160144.png" alt="image.png"></p><h3 id="2-5-å…³èŠ‚é…ç½®">2.5 å…³èŠ‚é…ç½®</h3><p>ä½¿ç”¨ <code>File-&gt;Open</code> æ‰“å¼€åˆšæ‰çš„æ–‡ä»¶ï¼ˆæœ€å¥½å’Œå›¾ä¸­çš„ä¸€æ ·ï¼Œåé¢è¦æ·»åŠ å…³èŠ‚ï¼‰</p><p><strong>ï¼ˆ1ï¼‰æ·»åŠ å…³èŠ‚</strong></p><ol><li>ç‚¹å‡» <code>Create-&gt;Scope</code> åˆ›å»ºä¸€ä¸ª <code>Scope</code> æ¥å­˜å‚¨å…³èŠ‚ï¼Œé‡å‘½åä¸º <code>joints</code>ã€‚</li><li>åˆ›å»ºå…³èŠ‚æ—¶ï¼š<strong>å…ˆç‚¹å‡»çˆ¶å®ä½“ï¼Œå†ç‚¹å‡»å­å®ä½“</strong>ï¼Œç„¶åç‚¹å‡» <code>Create-&gt;Physics-&gt;Joint-&gt;Revolute Joint</code> åˆ›å»ºä¸€ä¸ªæ—‹è½¬å…³èŠ‚ã€‚</li><li>æ£€æŸ¥å…³èŠ‚çš„å±æ€§é¢æ¿ä¸­ï¼Œ<code>body0</code> æ˜¯çˆ¶å®ä½“(å¦‚ body)ï¼Œ<code>body1</code> æ˜¯å­å®ä½“(å¦‚ wheel_right)ã€‚</li><li>åœ¨å±æ€§é¢æ¿çš„ <code>Revolute Joint</code> ä¸­å°†æ—‹è½¬è½´æ›´æ”¹ä¸º <code>Y/Z</code>ï¼Œæ ¹æ®æ¨¡å‹çš„æƒ…å†µã€‚</li><li>å°†åˆ›å»ºçš„ joint é‡å‘½åä¸º <code>joint_wheel_right</code> å¹¶æ‹–åŠ¨åˆ° <code>joints</code> çš„ scope ä¸­</li><li>é‡å¤ 2-5 æ­¥æ·»åŠ å¦ä¸€ä¸ªå…³èŠ‚</li></ol><p><img src="https://img.mahaofei.com/img/isaac_tutorial_rigging_robot_1.webp" alt=""></p><p>ç‚¹å‡»è¿è¡Œï¼Œå¯ä»¥è§‚å¯Ÿåˆ°æœºå™¨äººè½åˆ°äº†åœ°é¢ï¼ŒæŒ‰ä½ <code>shift</code> æ‹–åŠ¨æ–¹å—ï¼Œå¯ä»¥å‘ç°ä¸¤ä¸ªåœ†æŸ±æ—‹è½¬å¸¦åŠ¨æœºå™¨äººåœ¨åœ°é¢ä¸Šæ»šåŠ¨ã€‚</p><p><img src="https://img.mahaofei.com/img/20241101163333.png" alt="image.png"></p><p><strong>ï¼ˆ2ï¼‰æ·»åŠ å…³èŠ‚é©±åŠ¨å™¨</strong></p><p>ä¸ºäº†èƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶å…³èŠ‚ï¼Œå¿…é¡»æ·»åŠ å…³èŠ‚é©±åŠ¨å™¨ï¼ˆä½ç½®æ§åˆ¶æˆ–é€Ÿåº¦æ§åˆ¶ï¼‰å®ç°é©±åŠ¨ã€‚</p><p><strong>æ·»åŠ æ–¹æ³•</strong>ï¼šé€‰ä¸­å…³èŠ‚ï¼Œç‚¹å‡»å±æ€§é€‰é¡¹å¡çš„ <code>+Add</code> æŒ‰é’®ï¼Œé€‰æ‹© <code>Physics-&gt;Angular Drive</code> å‘å…³èŠ‚æ·»åŠ é©±åŠ¨ï¼Œå¯ä»¥åœ¨å±æ€§é¢æ¿ä¸‹æ»‘æ‰¾åˆ° <code>Drive</code> ä»¥è®¾ç½®å±æ€§ã€‚</p><ul><li>ä½ç½®æ§åˆ¶ï¼šè®¾ç½®é«˜åˆšåº¦å’Œé›¶é˜»å°¼</li><li>é€Ÿåº¦æ§åˆ¶ï¼šè®¾ç½®é«˜é˜»å°¼å’Œé›¶åˆšåº¦</li></ul><p>å¯¹äºè¯¥è½®å­æ¥è¯´ï¼Œå¯ä»¥è®¾ç½®é«˜é˜»å°¼å¦‚ <code>Damping=1e4</code>,ç›®æ ‡é€Ÿåº¦å¯ä»¥è®¾ä¸º <code>Target Velocity=200</code>ï¼Œç‚¹å‡»æ’­æ”¾å¯ä»¥çœ‹åˆ°æœºå™¨äººè¿åŠ¨ã€‚</p><p><strong>ï¼ˆ3ï¼‰æ·»åŠ  Articulation å…³èŠ‚</strong></p><p>Articulation æ˜¯ Issac ä¸­çš„å¦ä¸€ç§å…³èŠ‚ï¼Œä¸ joint ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒæ˜¯ç”±ä¸€ç³»åˆ— joint ç»„æˆçš„å…³èŠ‚ç»„ã€‚</p><p><strong>æ·»åŠ æ–¹æ³•</strong>ï¼šé€‰æ‹©æœºå™¨äººçš„åŸºåæ ‡ç³» <code>mock_robot</code>ï¼Œåœ¨å±æ€§é€‰é¡¹å¡ä¸­ç‚¹å‡» <code>+Add</code>ï¼Œæ·»åŠ  <code>Physics-&gt;Articulation Root</code></p><p>è¿™æ ·å°±æ·»åŠ å®Œæˆäº†ã€‚</p><p><strong>ï¼ˆ4ï¼‰æ·»åŠ æ§åˆ¶å™¨</strong></p><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯ç”¨æ¥æµ‹è¯•ã€‚</p><p>ç‚¹å‡» <code>Issac Utils-&gt;Common Omnigraphs-&gt;Articulation Velocity Control</code> æ·»åŠ ä¸€ä¸ªé€Ÿåº¦æ§åˆ¶å›¾è¡¨ã€‚</p><p><code>Robot Prim</code> é€‰æ‹©æœºå™¨äººåŸºåæ ‡ç³» <code>mock_robot</code></p><p><img src="https://img.mahaofei.com/img/20241101165859.png" alt="image.png"></p><p>ç‚¹å‡» Stage ä¸­çš„ <code>Graphs-&gt;Velocity_Controller-&gt;JointCommandArray</code>ï¼Œä¿®æ”¹ Input0 å’Œ Input1ï¼Œä¾‹å¦‚è®¾ç½®æˆç›¸åæ•°è®©æœºå™¨äººå·®é€ŸåŸåœ°è½¬ï¼Œç‚¹å‡»æ’­æ”¾çœ‹æ•ˆæœã€‚</p><h3 id="2-5-æ·»åŠ ç›¸æœºå’Œä¼ æ„Ÿå™¨">2.5 æ·»åŠ ç›¸æœºå’Œä¼ æ„Ÿå™¨</h3><p><strong>ï¼ˆ1ï¼‰åˆ›å»ºç›¸æœº</strong></p><p>ç‚¹å‡» <code>Create-&gt;Camera</code>ï¼Œä¼šåœ¨ Stage æ ä¸­åˆ›å»ºä¸€ä¸ª cameraï¼ŒåŒæ—¶ç•Œé¢ä¸­ä¼šå‡ºç°ä¸€ä¸ªç°è‰²æ¡†ï¼Œä»£è¡¨ç›¸æœºè§†å›¾ã€‚</p><p><img src="https://img.mahaofei.com/img/20241101182154.png" alt="image.png"></p><p>å¯ä»¥åƒæ­£å¸¸çš„åˆšä½“ä¸€æ ·è°ƒæ•´ç›¸æœºçš„ä½ç½®ã€‚</p><p><strong>ï¼ˆ2ï¼‰ç›¸æœºæ‰©å±•</strong></p><p>ç›¸æœºæ‰©å±•å¯ä»¥å®ç°æ ¹æ®ç›¸æœºåˆ›å»ºä¸åŒå¯è§†åŒ–è§†è§’ï¼ŒæŸ¥çœ‹æ‘„åƒå¤´è¦†ç›–èŒƒå›´ï¼Œè·å–å’Œè®¾è®¡ç›¸æœºå§¿æ€ã€‚</p><p>å¯ä»¥ç‚¹å‡» <code>Issac Utils-&gt;Workflows-&gt;Camera Inspector</code> æ‰“å¼€ç›¸æœºæ‰©å±•</p><p><img src="https://img.mahaofei.com/img/20241101195616.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°é¢æ¿ä¸­æœ‰ <code>Camera State</code> ä¸€æ ï¼Œæ˜¾ç¤ºäº†ç›¸æœºçš„ä½ç½®å§¿æ€ï¼Œä¾¿äºç¼–å†™ä»£ç æ—¶æŸ¥çœ‹ã€‚</p><p><strong>ï¼ˆ3ï¼‰åˆ›å»ºç›¸æœºè§†è§’</strong></p><p>ç‚¹å‡»é¢æ¿ä¸­çš„ <code>Create Viewport</code>ï¼Œå¯ä»¥åˆ›å»ºç›¸æœºè§†è§’çš„çª—å£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://img.mahaofei.com/img/20241101200510.png" alt="image.png"></p><p>åœ¨è¯¥çª—å£ä¸­ï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„èœå•ä¸­çš„ <code>Viewport</code> é€‰é¡¹å¯ä»¥è°ƒæ•´ç›¸æœºåˆ†è¾¨ç‡ã€‚</p><p>å¦‚æœåœ¨ä»¿çœŸç¯å¢ƒä¸­ç§»åŠ¨ç›¸æœºä½ç½®ï¼Œç›¸æœºçš„çŠ¶æ€å±æ€§ç­‰éƒ½ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p><p><strong>ï¼ˆ4ï¼‰å°†ç›¸æœºè¿æ¥åˆ°æœºå™¨äºº</strong></p><p>ä¾‹å¦‚ç°åœ¨éœ€è¦æ·»åŠ ä¸€ä¸ªè½¦è½½æ‘„åƒå¤´ï¼Œå°†å…¶å›ºå®šåœ¨ body ä¸Šï¼Œä½¿å…¶èƒ½å¤Ÿè·Ÿéš body è¿åŠ¨ï¼š</p><ol><li>å°†æ–°æ·»åŠ çš„æ‘„åƒå¤´é‡å‘½åä¸º <code>car_camera</code></li><li>ä¸ºäº†ä¾¿äºæˆ‘ä»¬è§‚å¯Ÿç›¸æœºï¼Œå¯ä»¥ç‚¹å‡» <code>Window-&gt;Viewport</code> å¯åŠ¨ <code>Viewport2</code> è§†çª—ï¼Œå¹¶ç‚¹å‡»ä¸Šæ–¹çš„ç”µå½±æœºæŒ‰é’®å°†å…¶åˆ‡æ¢ä¸º <code>car_camera</code> çš„è§†è§’ï¼ˆæ³¨æ„é€‰ä¸­ mock_robotï¼Œåœ¨è§†çª—å†…æŒ‰ f å¯ä»¥å¸®åŠ©åˆ‡æ¢åˆ°ä¸­å¿ƒç”»é¢ï¼‰</li><li>åœ¨å³ä¾§ stage ä¸­å°† <code>car_camera</code> æ‹–åŠ¨åˆ° <code>body</code> ä¸‹æ–¹ï¼Œå°†ç›¸æœºä¸æœºå™¨äººè¿æ¥åœ¨ä¸€èµ·</li><li>è°ƒæ•´ç›¸æœºå±æ€§ä¸­çš„ä½ç½®å’Œæ–¹å‘ï¼Œä½¿å…¶çœ‹å‘æœºå™¨äººå‰æ–¹åœ°é¢ï¼Œç‚¹å‡» Play è§‚å¯Ÿç›¸æœºæ˜¯å¦è·Ÿéšæœºå™¨äººè¿åŠ¨</li></ol><p><img src="https://img.mahaofei.com/img/20241101202027.png" alt="image.png"></p><h2 id="3-Python-ç¨‹åº">3. Python ç¨‹åº</h2><h3 id="3-1-ç‹¬ç«‹-Python-ç¨‹åºçš„åŸºæœ¬æ¡†æ¶">3.1 ç‹¬ç«‹ Python ç¨‹åºçš„åŸºæœ¬æ¡†æ¶</h3><p>Isaac Sim ä»¿çœŸç¨‹åºå¤§æ¦‚å¯ä»¥åˆ†æˆ <code>Initialization</code> å’Œ <code>Simulation</code> ä¸¤æ­¥éª¤ï¼Œå³é¦–å…ˆåˆå§‹åŒ–ç¯å¢ƒï¼Œåˆ›å»ºä¸–ç•Œå’Œæ·»åŠ å„ç§ç‰©ä½“ï¼Œç„¶åæ˜¯ä»¿çœŸçš„ <code>Step</code> æ‰§è¡Œï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##################################################</span></span><br><span class="line"><span class="comment"># Initialization</span></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"><span class="comment"># å¯¼åŒ…</span></span><br><span class="line"><span class="keyword">from</span> isaacsim <span class="keyword">import</span> SimulationApp  <span class="comment"># ç¬¬ä¸€è¡Œä¸€å®šæ˜¯å¯¼å…¥SimulationAppï¼Œå°±åƒ Omniverse æ‰“å¼€ Isaac Sim ä¸€æ ·</span></span><br><span class="line">simulation_app = SimulationApp(&#123;<span class="string">&quot;headless&quot;</span>: <span class="literal">False</span>&#125;)  <span class="comment"># åˆ›å»ºä¸€ä¸ª SimulationApp å¯¹è±¡ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œheadless: False è¡¨ç¤ºæ˜¾ç¤ºå›¾å½¢ç•Œé¢</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> omni.isaac.core <span class="keyword">import</span> World</span><br><span class="line"><span class="keyword">from</span> omni.isaac.core.objects <span class="keyword">import</span> DynamicCuboid</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸–ç•Œï¼Œä¸‹é¢ç›¸å½“äº setup_scene</span></span><br><span class="line">world = World()  <span class="comment"># å®ä¾‹åŒ–ä¸€ä¸ª World å¯¹è±¡</span></span><br><span class="line">world.scene.add_default_ground_plane()  <span class="comment"># æ·»åŠ ä¸€ä¸ªé»˜è®¤çš„åœ°é¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç‰©ä½“</span></span><br><span class="line">first_cube = world.scene.add(</span><br><span class="line">    DynamicCuboid(</span><br><span class="line">        prim_path = <span class="string">&quot;/World/first_cube&quot;</span>,    <span class="comment"># è¯¥ç‰©ä½“çš„è·¯å¾„</span></span><br><span class="line">        name = <span class="string">&quot;first_cube&quot;</span>,                <span class="comment"># è¯¥ç‰©ä½“çš„åå­—</span></span><br><span class="line">        position = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1.0</span>]),   <span class="comment"># è¯¥ç‰©ä½“çš„ä½ç½®</span></span><br><span class="line">        scale = np.array([<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>]),  <span class="comment"># è¯¥ç‰©ä½“çš„ç¼©æ”¾</span></span><br><span class="line">        color = np.array([<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>])   <span class="comment"># è¯¥ç‰©ä½“çš„é¢œè‰²</span></span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡ç½®ä¸–ç•Œ</span></span><br><span class="line">world.reset()  <span class="comment"># é‡ç½®ä¸–ç•Œï¼Œåˆ›å»ºå®Œæˆä¹‹åï¼Œä¸€å®šä¸è¦å¿˜äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"><span class="comment"># Simulation</span></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹ä»¿çœŸ</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):<span class="comment"># æˆ–è€…while True:</span></span><br><span class="line">    position, orientation = first_cube.get_world_pose()  <span class="comment"># è·å–ç‰©ä½“çš„ä½ç½®å’Œå§¿æ€</span></span><br><span class="line">    linear_velocity = first_cube.get_linear_velocity()  <span class="comment"># è·å–ç‰©ä½“çš„çº¿é€Ÿåº¦</span></span><br><span class="line">    angular_velocity = first_cube.get_angular_velocity()  <span class="comment"># è·å–ç‰©ä½“çš„è§’é€Ÿåº¦</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cube position: &quot;</span>, position)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cube orientation: &quot;</span>, orientation)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cube linear velocity: &quot;</span>, linear_velocity)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cube angular velocity: &quot;</span>, angular_velocity)</span><br><span class="line"></span><br><span class="line">    world.step(render=<span class="literal">True</span>)  <span class="comment"># ä»¿çœŸä¸€æ­¥ï¼Œrender=True è¡¨ç¤ºæ˜¾ç¤ºå›¾å½¢ç•Œé¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­ä»¿çœŸ</span></span><br><span class="line">simulation_app.close()  <span class="comment"># å…³é—­ä»¿çœŸ</span></span><br></pre></td></tr></table></figure><h3 id="3-2-ç‹¬ç«‹-Python-ç¨‹åºæ§åˆ¶ç§»åŠ¨æœºå™¨äºº">3.2 ç‹¬ç«‹ Python ç¨‹åºæ§åˆ¶ç§»åŠ¨æœºå™¨äºº</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> isaacsim <span class="keyword">import</span> SimulationApp</span><br><span class="line"></span><br><span class="line">simulation_app = SimulationApp(&#123;<span class="string">&quot;headless&quot;</span>: <span class="literal">False</span>&#125;)  <span class="comment"># start the simulation app, with GUI open</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> carb</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.api <span class="keyword">import</span> World</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.prims <span class="keyword">import</span> Articulation</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.utils.stage <span class="keyword">import</span> add_reference_to_stage, get_stage_units</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.utils.viewports <span class="keyword">import</span> set_camera_view</span><br><span class="line"><span class="keyword">from</span> isaacsim.storage.native <span class="keyword">import</span> get_assets_root_path</span><br><span class="line"></span><br><span class="line"><span class="comment"># preparing the scene</span></span><br><span class="line">assets_root_path = get_assets_root_path()</span><br><span class="line"><span class="keyword">if</span> assets_root_path <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    carb.log_error(<span class="string">&quot;Could not find Isaac Sim assets folder&quot;</span>)</span><br><span class="line">    simulation_app.close()</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">my_world = World(stage_units_in_meters=<span class="number">1.0</span>)</span><br><span class="line">my_world.scene.add_default_ground_plane()  <span class="comment"># add ground plane</span></span><br><span class="line">set_camera_view(</span><br><span class="line">    eye=[<span class="number">5.0</span>, <span class="number">0.0</span>, <span class="number">1.5</span>], target=[<span class="number">0.00</span>, <span class="number">0.00</span>, <span class="number">1.00</span>], camera_prim_path=<span class="string">&quot;/OmniverseKit_Persp&quot;</span></span><br><span class="line">)  <span class="comment"># set camera view</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Add Franka</span></span><br><span class="line"><span class="comment"># asset_path = assets_root_path + &quot;/Isaac/Robots/Franka/franka.usd&quot;</span></span><br><span class="line">asset_path = <span class="string">&#x27;/home/mahaofei/Programs/01_MR+VLM+RL/Simulation/asset/isaac_sim/ur5e_hand/ur5e_hand.usd&#x27;</span></span><br><span class="line">add_reference_to_stage(usd_path=asset_path, prim_path=<span class="string">&quot;/World/Arm&quot;</span>)  <span class="comment"># add robot to stage</span></span><br><span class="line">arm = Articulation(prim_paths_expr=<span class="string">&quot;/World/Arm&quot;</span>, name=<span class="string">&quot;my_arm&quot;</span>)  <span class="comment"># create an articulation object</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set the initial poses of the arm so they don&#x27;t collide BEFORE the simulation starts</span></span><br><span class="line">arm.set_world_poses(positions=np.array([[<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>]]) / get_stage_units())</span><br><span class="line"><span class="comment"># initialize the world</span></span><br><span class="line">my_world.reset()</span><br><span class="line"></span><br><span class="line">init_joint_positions = np.array([<span class="number">0.0</span>, -np.pi/<span class="number">2</span>, np.pi/<span class="number">2</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>])</span><br><span class="line">arm.set_joint_positions([init_joint_positions])</span><br><span class="line">arm_joint_positions = init_joint_positions</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># æœºå™¨äººçš„å…³èŠ‚ä½ç½®æ¯æ¬¡å˜åŠ¨ä¸€ç‚¹ï¼Œè¿ç»­å˜åŠ¨</span></span><br><span class="line">    arm_joint_positions[:<span class="number">6</span>] += <span class="number">0.001</span></span><br><span class="line">    arm.set_joint_positions([arm_joint_positions])</span><br><span class="line">    <span class="keyword">if</span> arm_joint_positions[<span class="number">0</span>] &gt;= np.pi/<span class="number">2</span>:</span><br><span class="line">        arm_joint_positions = init_joint_positions</span><br><span class="line"></span><br><span class="line">    <span class="comment"># step the simulation, both rendering and physics</span></span><br><span class="line">    my_world.step(render=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">simulation_app.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/20250228224852322.png" alt="image.png"></p><h3 id="3-x-å¸¸ç”¨-Python-ç¨‹åºåŠè§£é‡Š">3.x å¸¸ç”¨ Python ç¨‹åºåŠè§£é‡Š</h3><p><strong>ï¼ˆ1ï¼‰å¸¸è§„ä»£ç é€»è¾‘</strong></p><p><code>simulation_app</code> çš„åˆ›å»ºå¿…é¡»åœ¨æ‰€æœ‰ isaac sim å¼•ç”¨ä¹‹å‰å®Œæˆï¼Œå¯åŠ¨ isaacsim çš„ä»¿çœŸçª—å£ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ Simulation APP</span></span><br><span class="line"><span class="keyword">from</span> isaacsim <span class="keyword">import</span> SimulationApp  <span class="comment"># ç¬¬ä¸€è¡Œä¸€å®šæ˜¯å¯¼å…¥SimulationApp</span></span><br><span class="line"></span><br><span class="line">simulation_app = SimulationApp(&#123;<span class="string">&quot;headless&quot;</span>: <span class="literal">False</span>&#125;)  <span class="comment"># åˆ›å»ºä¸€ä¸ª SimulationApp å¯¹è±¡ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œheadless: False è¡¨ç¤ºæ˜¾ç¤ºå›¾å½¢ç•Œé¢</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> carb</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> isaacsim.core.api <span class="keyword">import</span> World</span><br><span class="line"><span class="keyword">from</span> isaacsim.storage.native <span class="keyword">import</span> get_assets_root_path</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†å¤‡åœºæ™¯ï¼Œè·å–NVIDIAå®˜æ–¹assetè·¯å¾„</span></span><br><span class="line">assets_root_path = get_assets_root_path()</span><br><span class="line"><span class="keyword">if</span> assets_root_path <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    carb.log_error(<span class="string">&quot;Could not find Isaac Sim assets folder&quot;</span>)</span><br><span class="line">    simulation_app.close()</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸–ç•Œï¼Œæ·»åŠ åœ°é¢ï¼Œæ·»åŠ ç›¸æœºè§†è§’</span></span><br><span class="line">my_world = World(stage_units_in_meters=<span class="number">1.0</span>)</span><br><span class="line">my_world.scene.add_default_ground_plane()  <span class="comment"># add ground plane</span></span><br><span class="line">set_camera_view(</span><br><span class="line">    eye=[<span class="number">5.0</span>, <span class="number">0.0</span>, <span class="number">1.5</span>], target=[<span class="number">0.00</span>, <span class="number">0.00</span>, <span class="number">1.00</span>], camera_prim_path=<span class="string">&quot;/OmniverseKit_Persp&quot;</span></span><br><span class="line">)  <span class="comment"># set camera view</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–world</span></span><br><span class="line">arm.set_world_poses(positions=np.array([[<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>]]) / get_stage_units())</span><br><span class="line">my_world.reset()</span><br><span class="line"></span><br><span class="line"><span class="comment"># some code</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="comment"># some code</span></span><br><span class="line"></span><br><span class="line">my_world.step(render=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">simulation_app.close() <span class="comment"># å…³é—­ä»¿çœŸ</span></span><br></pre></td></tr></table></figure><h2 id="4-Isaac-Sim-å¯¼å…¥URDFæ¨¡å‹">4. Isaac Sim å¯¼å…¥URDFæ¨¡å‹</h2><p><strong>ï¼ˆ1ï¼‰æ‰“å¼€ urdf å¯¼å…¥æ‰©å±•</strong></p><p>ç‚¹å‡»ã€Windows -&gt; Entensionsã€‘ï¼Œæœç´¢ã€import wizardã€‘ï¼Œç»“æœå¦‚ä¸‹ï¼Œæ‰“å¼€æ­¤æ‰©å±•ï¼Œå¹¶ä¸”å¦‚æœéœ€è¦ç»å¸¸å¯¼å…¥æ¨¡å‹çš„è¯ï¼Œå¯ä»¥å‹¾é€‰ä¸ŠAutoloadï¼Œè¿™æ ·æ¯æ¬¡å¯åŠ¨ IsaacSim éƒ½å¯ä»¥è‡ªåŠ¨å¯åŠ¨è¯¥æ‰©å±•ã€‚</p><p><img src="https://img.mahaofei.com/img/20250320142552590.png" alt="image.png"></p><p>ç„¶åç‚¹å‡»ã€Windowsã€‘ï¼Œæ­¤æ—¶å¯ä»¥å‘ç°å·²ç»å¤šå‡ºäº†ã€Isaac Sim Wizard [alpha]ã€‘è¿™ä¸ªé€‰é¡¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„åŠŸèƒ½ï¼Œæ‰“å¼€å®ƒã€‚</p><p><img src="https://img.mahaofei.com/img/20250320142711132.png" alt="image.png"></p><p><strong>ï¼ˆ2ï¼‰å¯¼å…¥ URDF æ¨¡å‹</strong></p><p>ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œåœ¨ä¸‹æ–¹å‹¾é€‰ ã€Import URDF from Fileã€‘ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ä»å…¶å®ƒæ¨¡å‹æ–‡ä»¶å¯¼å…¥ï¼Œä¾‹å¦‚Mujocoä½¿ç”¨çš„MJCFæ–‡ä»¶ç­‰ã€‚ç„¶åç‚¹å‡»ã€Nextã€‘</p><p><img src="https://img.mahaofei.com/img/20250320142911978.png" alt="image.png"></p><p>ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œæ²¡æœ‰éœ€è¦æ“ä½œçš„ï¼Œç›´æ¥Nextå³å¯ã€‚</p><p>ç„¶åä¼šå‡ºæ¥ä¸€ä¸ª URDF Importer çš„çª—å£ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦å¡«å†™æˆ–å‹¾é€‰ä¸‹é¢å›¾ä¸­æ ‡å‡ºçš„åœ°æ–¹ï¼Œå…¶ä¸­åŒ…æ‹¬</p><ul><li>URDF æ–‡ä»¶ä½ç½®</li><li>æ–‡ä»¶åˆ›å»ºåœ¨Stageä¸­ï¼Œè®¾ç½®ä¸ºDefault Primï¼Œå¹¶ä¸”å¯¼å…¥æ—¶æ¸…ç©ºå½“å‰Stage</li><li>å…³èŠ‚é©±åŠ¨ç±»å‹é€‰æ‹©ä¸ºåŠ é€Ÿåº¦é©±åŠ¨</li></ul><p><img src="https://img.mahaofei.com/img/20250320143313491.png" alt="image.png"></p><p><strong>ï¼ˆ3ï¼‰ä¿å­˜USDæ–‡ä»¶</strong></p><p>ç„¶åæ¨¡å‹å°±å·²ç»è¢«å¯¼å…¥äº†ï¼Œä¸è¿‡å¯èƒ½å› ä¸ºæ²¡æœ‰ç¯å…‰ï¼Œçœ‹ä¸å¤ªå‡ºæ¥æ¨¡å‹ï¼Œä¸è¿‡è¿™ä¸ªæ­£å¸¸ã€‚</p><p>ç›´æ¥æŒ‰ ã€Ctrl+Sã€‘ï¼Œå°†æ¨¡å‹ä¿å­˜åˆ°æœ¬åœ°ã€‚</p><p>å¦‚æœæƒ³æŸ¥çœ‹æ¨¡å‹ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªStageï¼Œå°†USDæ¨¡å‹æ‹–å…¥è¿›æ¥ï¼Œå°±å¯ä»¥çœ‹åˆ°æœ‰é¢œè‰²çš„æ¨¡å‹ã€‚</p>]]></content>
    
    
    <summary type="html">NVIDIA Isaac Simä»¿çœŸç¯å¢ƒçš„ç®€ä»‹ã€å®‰è£…ã€GUIå’ŒPythonç¨‹åºçš„åŸºæœ¬ä½¿ç”¨ä»‹ç»ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="ä»¿çœŸ" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E4%BB%BF%E7%9C%9F/"/>
    
    
    <category term="å®éªŒ" scheme="https://www.mahaofei.com/tags/%E5%AE%9E%E9%AA%8C/"/>
    
    <category term="IsaacSim" scheme="https://www.mahaofei.com/tags/IsaacSim/"/>
    
    <category term="NVIDIA" scheme="https://www.mahaofei.com/tags/NVIDIA/"/>
    
    <category term="ä»¿çœŸ" scheme="https://www.mahaofei.com/tags/%E4%BB%BF%E7%9C%9F/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuè®¾ç½®å®šæ—¶ä»»åŠ¡</title>
    <link href="https://www.mahaofei.com/post/cron.html"/>
    <id>https://www.mahaofei.com/post/cron.html</id>
    <published>2024-11-09T08:46:15.000Z</published>
    <updated>2024-11-09T08:46:15.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ç”±äºæŸäº›éœ€æ±‚ï¼ˆä¾‹å¦‚å®šæ—¶é‡å¯æŸä¸ªä»»åŠ¡ï¼Œå®šæ—¶æ¨é€æ›´æ–°åšå®¢ï¼Œå®šæ—¶å¤‡ä»½æ–‡ä»¶ç­‰ï¼‰ï¼Œéœ€è¦å®šæ—¶æ‰§è¡ŒæŸäº›ä»»åŠ¡ã€‚</p></blockquote><h2 id="cron">cron</h2><p><code>cron</code> æ˜¯ Linux ç³»ç»Ÿä¸­ç”¨äºç®¡ç†å’Œæ‰§è¡Œå‘¨æœŸæ€§ä»»åŠ¡çš„å·¥å…·ã€‚</p><h2 id="ä»»åŠ¡ç¼–è¾‘è§„åˆ™">ä»»åŠ¡ç¼–è¾‘è§„åˆ™</h2><p><strong>ï¼ˆ1ï¼‰æ‰“å¼€ cron ä»»åŠ¡ç¼–è¾‘å™¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ crontabï¼Œç³»ç»Ÿå¯èƒ½ä¼šè®©ä½ é€‰æ‹©ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé€šå¸¸å¯ä»¥é€‰æ‹© nano ç®€å•ä¸€äº›ã€‚</p><p><strong>ï¼ˆ2ï¼‰é…ç½® cron æœåŠ¡</strong></p><p>è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*  *  * *  *   command</span><br><span class="line">åˆ† æ—¶ å¤© æœˆ å‘¨   å‘½ä»¤</span><br></pre></td></tr></table></figure><ul><li>åˆ†ï¼š0-59</li><li>æ—¶ï¼š0-23</li><li>å¤©ï¼š1-31</li><li>æœˆï¼š1-12</li><li>å‘¨ï¼š1-6 å‘¨ä¸€è‡³å‘¨å…­ï¼Œ0 å‘¨æ—¥</li></ul><p>æ­¤å¤–ï¼š</p><ul><li><code>*</code>ï¼šè¡¨ç¤ºä»»æ„å€¼ï¼Œæ¯”å¦‚åœ¨å°æ—¶éƒ¨åˆ†å¡«å†™ <code>*</code> ä»£è¡¨ä»»æ„å°æ—¶ï¼ˆæ¯å°æ—¶ï¼‰</li><li><code>,</code>ï¼šå…è®¸åœ¨ä¸€ä¸ªéƒ¨åˆ†ä¸­å¡«å†™å¤šä¸ªå€¼ï¼Œæ¯”å¦‚åœ¨åˆ†é’Ÿéƒ¨åˆ†å¡«å†™ <code>1,3</code> è¡¨ç¤ºä¸€åˆ†é’Ÿæˆ–ä¸‰åˆ†é’Ÿ</li><li><code>\</code>ï¼šä¸€èˆ¬é…åˆ * ä½¿ç”¨ï¼Œä»£è¡¨æ¯éš”å¤šé•¿æ—¶é—´ï¼Œæ¯”å¦‚åœ¨å°æ—¶éƒ¨åˆ†å¡«å†™ <code>*/2</code> ä»£è¡¨æ¯éš”ä¸¤åˆ†é’Ÿã€‚æ‰€ä»¥ <code>*/1</code> å’Œ <code>*</code> æ²¡æœ‰åŒºåˆ«</li></ul><p>ä¾‹å¦‚ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. \* * * * *      # æ¯éš”ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</span><br><span class="line">2. 0 * * * *       # æ¯å°æ—¶çš„0ç‚¹æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼Œæ¯”å¦‚6:00ï¼Œ10:00  </span><br><span class="line">3. 6,10 * 2 * *    # æ¯ä¸ªæœˆ2å·ï¼Œæ¯å°æ—¶çš„6åˆ†å’Œ10åˆ†æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡  </span><br><span class="line">4. \*/3,\*/5 * * * *   # æ¯éš”3åˆ†é’Ÿæˆ–5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼Œæ¯”å¦‚10:03ï¼Œ10:05ï¼Œ10:06</span><br></pre></td></tr></table></figure><h2 id="é…ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡">é…ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡</h2><p><strong>ï¼ˆ1ï¼‰åˆ›å»ºè„šæœ¬</strong></p><p>ä¾‹å¦‚æˆ‘ä»¬éœ€è¦æ¯å¤©åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ <code>hexo g</code>, <code>hexo d</code> çš„å‘½ä»¤ã€‚</p><p>é¦–å…ˆåˆ›å»ºè„šæœ¬ï¼š<code>gedit hexo.sh</code>ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">HEXO_DIR=&quot;/path/hexo_blog_dir&quot;</span><br><span class="line"></span><br><span class="line">if [ -d &quot;$HEXO_DIR&quot; ]; then</span><br><span class="line">    cd &quot;$HEXO_DIR&quot; || exit</span><br><span class="line">    hexo g &amp;&amp; hexo d</span><br><span class="line">    echo &quot;å·²åœ¨ $HEXO_DIR æ‰§è¡Œ hexo g å’Œ hexo d&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;æœªæ‰¾åˆ° $HEXO_DIR ç›®å½•&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰èµ‹äºˆæƒé™</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x hexo.sh</span><br></pre></td></tr></table></figure><p>å¯ä»¥éªŒè¯ä¸€ä¸‹ <code>hexo.sh</code> æ˜¯å¦èƒ½å¤ŸæˆåŠŸæ‰§è¡Œã€‚</p><p><strong>ï¼ˆ3ï¼‰æ·»åŠ å®šæ—¶ä»»åŠ¡</strong></p><p>æ‰“å¼€ <code>crontab -e</code>ï¼Œæ·»åŠ ä¸€è¡Œå†… Wå®¹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 0 * * * /home/mahaofei/Software/everyweek.sh</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ4ï¼‰é‡å¯ cron æœåŠ¡</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service cron restart</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¼šæ¯å¤© 0 ç‚¹å®šæ—¶æ‰§è¡Œ <a href="http://hexo.sh">hexo.sh</a>ã€‚</p>]]></content>
    
    
    <summary type="html">ç”±äºæŸäº›éœ€æ±‚ï¼ˆä¾‹å¦‚å®šæ—¶é‡å¯æŸä¸ªä»»åŠ¡ï¼Œå®šæ—¶æ¨é€æ›´æ–°åšå®¢ï¼Œå®šæ—¶å¤‡ä»½æ–‡ä»¶ç­‰ï¼‰ï¼Œéœ€è¦å®šæ—¶æ‰§è¡ŒæŸäº›ä»»åŠ¡ã€‚</summary>
    
    
    
    <category term="å®ç”¨å·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Ubuntuå·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/Ubuntu%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="å®ç”¨å·¥å…·" scheme="https://www.mahaofei.com/tags/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Ubuntu" scheme="https://www.mahaofei.com/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>å®¡ç¨¿æ„è§æ’°å†™æµç¨‹</title>
    <link href="https://www.mahaofei.com/post/paper-review.html"/>
    <id>https://www.mahaofei.com/post/paper-review.html</id>
    <published>2024-10-03T13:52:06.000Z</published>
    <updated>2024-10-03T13:52:06.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸºæœ¬æµç¨‹">åŸºæœ¬æµç¨‹</h2><ul><li>ç¬¬ä¸€éï¼šç•¥è¯»ï¼Œäº†è§£æ–‡ç« çš„ç›®çš„ï¼Œç¡®ä¿è®ºæ–‡å±äºæœŸåˆŠèŒƒå›´ï¼Œè¯¦ç»†è®°å½•ï¼ŒæŸ¥æ‰¾æ˜¯å¦æœ‰è‡´å‘½ç¼ºé™·ï¼ˆç¼ºå¤±ã€æ— æ³•é˜…è¯»ï¼‰</li><li>ç¬¬äºŒéï¼šç ”ç©¶ç»†èŠ‚ï¼Œæ–¹æ³•è®ºï¼Œç»“è®º</li><li>ç¬¬ä¸‰éï¼šå…·ä½“çš„å»ºè®®</li></ul><blockquote><p>æ„è§åº”å…·æœ‰å»ºè®¾æ€§ï¼Œè€Œä¸æ˜¯æ”»å‡»æ€§ï¼Œ<strong>ç”¨ä½ å¸Œæœ›åˆ«äººå®¡ä½ ç¨¿çš„æ–¹å¼ä¸ºä»–äººå®¡ç¨¿</strong></p></blockquote><h2 id="é˜…è¯»è¿‡ç¨‹ä¸­çš„è®°å½•">é˜…è¯»è¿‡ç¨‹ä¸­çš„è®°å½•</h2><p><strong>ï¼ˆ1ï¼‰å¼•è¨€/æ–‡çŒ®ç»¼è¿°éƒ¨åˆ†</strong></p><ul><li>æ˜¯å¦å¼•ç”¨è¶³å¤Ÿå¤šçš„å·¥ä½œ</li><li>å¯¹å½“å‰å­˜åœ¨çš„é—®é¢˜æ˜¯å¦æœ‰æ¦‚æ‹¬æ€§çš„ä»‹ç»</li><li>æ˜¯å¦è¯´æ˜äº†æœ¬æ–‡çš„ç ”ç©¶ç›®çš„å’Œå¤§è‡´æ¡†æ¶</li></ul><blockquote><p>Introduction should provide background/researchÂ gap/research objectives, but the author took a lot of part to explain background.ï¼ˆæ²¡æœ‰å†™å‡ºèƒŒæ™¯/é—®é¢˜/ç›®æ ‡ï¼‰</p></blockquote><blockquote><p>Literature review is not the inventory of the studies you reviewed. This part needs more extensive works to synthesize current research and find any research gap to contribute.ï¼ˆå¼•ç”¨å·¥ä½œä¸å¤Ÿå¤šï¼‰</p></blockquote><p><strong>ï¼ˆ2ï¼‰æ–¹æ³•éƒ¨åˆ†</strong></p><ul><li>æ–¹æ³•/ç®—æ³•/å…¬å¼æ˜¯å¦å¯ä»¥çœ‹æ‡‚</li><li>æŠ€æœ¯æ€§é—®é¢˜æ˜¯å¦æœ‰æ˜æ˜¾é”™è¯¯</li></ul><blockquote><p>è´¡çŒ®ä¸è¶³ï¼šThe significance of this paper is not expound sufficiently. The author need to highlight this paperâ€™s innovative contributions.</p></blockquote><p><strong>ï¼ˆ3ï¼‰å®éªŒéƒ¨åˆ†</strong></p><ul><li>å®éªŒçš„æ¡ä»¶è®¾ç½®æ˜¯å¦å†™æ¸…æ¥š</li><li>å®éªŒå¯¹ç…§æ˜¯å¦åˆç†</li><li>å®éªŒçš„ç»“æœå›¾è¡¨æ˜¯å¦æ¸…æ™°ã€è§„èŒƒ</li><li>å®éªŒçš„ç»“æœåˆ†ææ˜¯å¦å……åˆ†ã€åˆç†</li></ul><p><strong>ï¼ˆ4ï¼‰æ€»ç»“éƒ¨åˆ†</strong></p><ul><li>æ–‡ç« åšäº†ä»€ä¹ˆï¼Ÿ</li><li>æ•ˆæœå¦‚ä½•ï¼Ÿ</li><li>éªŒè¯äº†ä»€ä¹ˆï¼Ÿ</li><li>æœªæ¥å¯ä»¥æ·±å…¥åšå“ªæ–¹é¢çš„å·¥ä½œï¼Ÿ</li></ul><blockquote><p>CONCLUSIONS needs more in it, as itâ€™s more of an afterthought. The authors are suggested to highlight important findings and include afterthought of this work.</p></blockquote><p><strong>ï¼ˆ5ï¼‰å…¶å®ƒ</strong></p><ul><li>è¯­è¨€æ€§é”™è¯¯ï¼ˆå•è¯é”™ç”¨ã€è¯­æ³•é”™è¯¯ï¼Œè¯­æ°”è¦å§”å©‰ï¼ï¼‰</li></ul><blockquote><p>è¯­å¥é”™è¯¯ï¼šSome sentences contain grammatical mistakes or are not complete sentences, such as, in page 1, ABSTRACT, â€œé”™è¯¯çš„åœ°æ–¹â€ would be â€œæ­£ç¡®çš„å†™æ³•â€.<br>æ‹¼å†™é”™è¯¯ï¼šThere is at least one Spelling error in the manuscript, such as, in page 7, TABLE I, â€œStabalizationâ€ would be â€œStabilizationâ€. Please check the manuscript carefully.<br>Your manuscript needs careful editing and particular attention to English grammar, spelling, and sentence structure.</p></blockquote><h2 id="å®¡ç¨¿æ„è§">å®¡ç¨¿æ„è§</h2><p>Decision: Accept / Minor Revision / Major Revision / Reject &amp; Resubmit / Reject<br>Overall Manuscript Rating (1-100):</p><p><strong>ç¬¬ä¸€æ®µä¼˜ç‚¹</strong>ï¼šæ–‡ç« é’ˆå¯¹å“ªä¸ªæ–¹é¢çš„é—®é¢˜ï¼Ÿåšäº†å‡ é¡¹é‡è¦å·¥ä½œï¼Ÿå–å¾—äº†ä»€ä¹ˆæ•ˆæœï¼Ÿ</p><blockquote><p>The paper is very well written, and contributes â€¦ï¼ˆæŸç§æŠ€æœ¯æ–¹æ¡ˆï¼‰ scheme for â€¦ï¼ˆåº”ç”¨çš„å¯¹è±¡ï¼‰, which enables â€¦ï¼ˆè¿™ä¸ªæ–¹æ¡ˆå¸¦æ¥çš„å¥½å¤„ï¼‰ . And the proposed scheme outperforms the state of the arts ï¼ˆæ–°æ–¹æ³•çš„æŒ‡æ ‡æ¯”ä»¥å‰çš„å¥½ï¼‰and can â€¦ï¼ˆæœªæ¥å¯ä»¥åº”ç”¨äºä»€ä¹ˆï¼Œå‰æ™¯å¹¿é˜”ï¼‰</p></blockquote><p><strong>ç¬¬äºŒæ®µè¿‡æ¸¡å®¢å¥—</strong>ï¼šThere are some problems, which must be solved before it is considered for publication. If the following problems are well-addressed, this reviewer believes that the essential contribution of this paper are important for ï¼ˆæŸæŸç†è®º/é¢†åŸŸ).</p><p><strong>ç¼ºç‚¹éƒ¨åˆ†</strong>ï¼šå‚è€ƒé˜…è¯»ä¸­çš„è®°å½•</p><blockquote><p>å¦‚æœä¸€å®šè¦æ‹’ç¨¿ï¼Œå¿…é¡»æœ‰ç†æœ‰æ®ï¼Œæ¯”å¦‚ç ”ç©¶çš„æ•°æ®å­˜åœ¨é—®é¢˜ï¼Œåˆ†æçš„æ–¹æ³•å­˜åœ¨å·¨å¤§ç¼ºé™·ï¼Œè®ºæ–‡åˆ›æ–°ç‚¹ä¸è¶³ç­‰ç­‰ã€‚</p></blockquote><p>Reviewer Confidential Comments to Editor</p>]]></content>
    
    
    <summary type="html">å®¡ç¨¿æµç¨‹å’Œæ’°å†™æ„è§æ¨¡æ¿</summary>
    
    
    
    <category term="ç»éªŒåˆ†äº«" scheme="https://www.mahaofei.com/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"/>
    
    <category term="ç§‘ç ”åŸºç¡€" scheme="https://www.mahaofei.com/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E7%A7%91%E7%A0%94%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="è®ºæ–‡ç¬”è®°" scheme="https://www.mahaofei.com/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ã€è®¾å¤‡ä½¿ç”¨ã€‘æ³•å¥¥æ„å¨ FR5 æœºæ¢°è‡‚ Python æ§åˆ¶</title>
    <link href="https://www.mahaofei.com/post/fr5-ag95.html"/>
    <id>https://www.mahaofei.com/post/fr5-ag95.html</id>
    <published>2024-04-10T02:40:07.000Z</published>
    <updated>2024-04-10T02:40:07.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>[!abstract]<br>FR5 æ˜¯ä¸ UR5 æ„å‹ç›¸ä¼¼çš„ 6 è‡ªç”±åº¦æœºæ¢°è‡‚ï¼Œæœ¬æ–‡ä»‹ç»å…¶ Python SDK çš„åŸºæœ¬è¿åŠ¨æ§åˆ¶æ–¹æ³•ã€‚æœ¬æ–‡å†…å®¹å‚è€ƒè‡ª<a href="https://fr-documentation.readthedocs.io/zh-cn/latest/index.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p></blockquote><h1>ä¸€ã€FR5 æœºå™¨äººä½¿ç”¨æ–¹æ³•</h1><h2 id="1-1-æœºå™¨äººå®‰è£…ä¸è¿æ¥">1.1 æœºå™¨äººå®‰è£…ä¸è¿æ¥</h2><p><strong>ï¼ˆ1ï¼‰æœºå™¨äººå®‰è£…</strong></p><p>å®‰è£…å¥½æœºå™¨äººï¼Œå¹¶å°†å¤¹çˆªå®‰è£…è¿æ¥åœ¨æœºæ¢°è‡‚æœ«ç«¯ã€‚</p><p><strong>ï¼ˆ2ï¼‰ç½‘ç»œé…ç½®</strong></p><p>æœºå™¨äººé»˜è®¤ IP åœ°å€ä¸º <code>192.168.58.2</code>ï¼Œéœ€è¦ä¿®æ”¹ç”µè„‘ IP åŒä¸€é¢‘æ®µä¾‹å¦‚ <code>192.168.58.10</code>ï¼Œç„¶åæ‰å¯è¿æ¥ã€‚</p><p>é…ç½®å¥½ç½‘ç»œåï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ <code>192.168.58.2</code>ï¼Œè¿›å…¥æœºæ¢°è‡‚ç½‘é¡µæ§åˆ¶é¡µé¢è¯´æ˜è¿æ¥æˆåŠŸï¼Œé»˜è®¤ç”¨æˆ·å adminï¼Œé»˜è®¤å¯†ç  123ã€‚ï¼ˆå¿…é¡»ä½¿ç”¨ Chrome æµè§ˆå™¨ï¼‰</p><p><strong>ï¼ˆ3ï¼‰Python ç¯å¢ƒ</strong></p><p>è¯¥ SDK ç¨‹åºåŸºäº Python 3.10 å®ç°ï¼Œå› æ­¤éœ€è¦åˆ›å»º 3.10 çš„ Python ç¯å¢ƒæ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p><p><strong>ï¼ˆ4ï¼‰è®¾ç½®å·¥å…·åæ ‡ç³»</strong></p><p>é¦–å…ˆè¿›å…¥æµè§ˆå™¨æœºå™¨äººåå°ï¼Œæ‰“å¼€ã€åˆå§‹è®¾ç½®-æœºå™¨äººè®¾ç½®-å·¥å…·åæ ‡ã€‘ï¼Œé€‰æ‹©åæ ‡ç³»åç§°ä¸º toolcoord1ï¼ˆåˆå§‹é»˜è®¤æ˜¯ toolcoord0ï¼Œå°½é‡ä¸ä¿®æ”¹å®ƒï¼‰ï¼Œæ­¤æ—¶æˆåŠŸè®¾ç½®æœºå™¨äººå·¥å…·åæ ‡ç³»ä¸º toolcoord1ã€‚</p><p>å¦‚æœå·²çŸ¥å‚æ•°ï¼Œä¾‹å¦‚å¤¹çˆªåæ ‡ç³»å’Œæ³•å…°ç›˜åæ ‡ç³»ï¼Œæ–¹å‘ç›¸åŒï¼Œä»… Z è½´ç§»åŠ¨äº†ä¸€å®šè·ç¦»ã€‚å¯ä»¥ç›´æ¥è®¾ç½®ä¸ºï¼š<code>[0, 0, 185, 0, 0, 0]</code></p><p>æˆ–è€…é€šè¿‡å…­ç‚¹æ³•æ ‡å®šï¼Œä¾æ¬¡é€‰æ‹©å…­ä¸ªç‚¹</p><ul><li>ç¬¬ 1 ç‚¹ï¼šåœ¨ä¸–ç•Œä¸­æŒ‡å®šä¸€ä¸ªç‚¹ï¼Œä¿æŒå·¥å…·å°–ç«¯åœ¨è¯¥ä½ç½®å¤„</li><li>ç¬¬ 2 ç‚¹ï¼šä¿æŒå·¥å…·å°–ç«¯åœ¨è¯¥ä½ç½®å¤„ï¼ˆä¸ä¸Šä¸€ç‚¹å§¿æ€å·®è·å°½é‡å¤§ï¼‰</li><li>ç¬¬ 3 ç‚¹ï¼šä¿æŒå·¥å…·å°–ç«¯åœ¨è¯¥ä½ç½®å¤„ï¼ˆä¸å‰ä¸¤ç‚¹å§¿æ€å·®è·å°½é‡å¤§ï¼‰</li><li>ç¬¬ 4 ç‚¹ï¼šä¿æŒå·¥å…·å°–ç«¯åœ¨è¯¥ä½ç½®å¤„ï¼Œæœ«ç«¯ Z è½´ä¸å·¥å…·åæ ‡ Z è½´å¹³è¡Œ</li><li>ç¬¬ 5 ç‚¹ï¼šç§»åŠ¨å·¥å…·æœ«ç«¯è‡³å·¥å…· X è½´æ­£æ–¹å‘ä¸Šçš„ä»»ä¸€ç‚¹</li><li>ç¬¬ 6 ç‚¹ï¼šç§»åŠ¨å·¥å…·æœ«ç«¯è‡³å·¥å…· Y è½´æ­£æ–¹å‘ä¸Šçš„ä»»ä¸€ç‚¹</li></ul><h2 id="1-2-ç¤ºä¾‹ç¨‹åº">1.2 ç¤ºä¾‹ç¨‹åº</h2><p><strong>ï¼ˆ1ï¼‰æœºå™¨äººè¿æ¥ä¸åŸºæœ¬è¿åŠ¨</strong></p><p>è¯¥ç¨‹åºçš„åŠŸèƒ½ä¸ºï¼Œè¿æ¥æœºå™¨äººï¼Œç§»åŠ¨æœºå™¨äººè‡³åˆå§‹ä½ç½®ï¼ˆæœ¬æ–‡ä¸­æœºå™¨äººå®‰è£…ä½ç½®ç»• Z è½´æœ‰å¤¹è§’ï¼Œè®¾ç½®åˆå§‹ä½ç½®ä¸ºå¤¹çˆªå‘ä¸‹ï¼‰ï¼Œæ¿€æ´»å¤¹çˆªå¹¶å…³é—­å¤¹çˆªã€‚</p><figure class="highlight python"><figcaption><span>fold</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># from libfairino.utils.sdk_error import *</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy.spatial.transform <span class="keyword">import</span> Rotation <span class="keyword">as</span> R</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment">###################### æœºå™¨äººæ§åˆ¶å™¨è¿æ¥æµ‹è¯• ######################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">error = robot.SetRobotInstallAngle(<span class="number">0.0</span>,-<span class="number">20.0</span>) <span class="comment">#ï¼ï¼ï¼å®‰è£…è§’åº¦è®¾ç½®åº”ä¸å®é™…ä¸€è‡´ (é”™è¯¯å®‰è£…è§’åº¦è®¾ç½®ä¼šå¯¼è‡´æ‹–åŠ¨æ¨¡å¼ä¸‹æœºå™¨äººå¤±æ§ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®æœºå™¨äººå®‰è£…è§’åº¦é”™è¯¯ç &quot;</span>,error)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢æœºå™¨äººçš„SDKç‰ˆæœ¬å·</span></span><br><span class="line">ret,version  = robot.GetSDKVersion()    <span class="comment">#æŸ¥è¯¢SDKç‰ˆæœ¬å·</span></span><br><span class="line"><span class="keyword">if</span> ret ==<span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;SDKç‰ˆæœ¬å·ä¸º&quot;</span>, version )</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æŸ¥è¯¢å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;</span>,ret)</span><br><span class="line"></span><br><span class="line"><span class="comment">###################### æœºå™¨æœ¬ä½“è¿åŠ¨æµ‹è¯• ######################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æœºå™¨äººçš„å…³èŠ‚ä½ç½®</span></span><br><span class="line">error, joint_deg = robot.GetActualJointPosDegree()</span><br><span class="line"><span class="keyword">if</span> error == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å…³èŠ‚ä½ç½® (è§’åº¦)&quot;</span>, joint_deg)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å…³èŠ‚ä½ç½®(è§’åº¦)å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;</span>, error)</span><br><span class="line">error, joint_rad = robot.GetActualJointPosRadian()</span><br><span class="line"><span class="keyword">if</span> error == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å…³èŠ‚ä½ç½® (å¼§åº¦)&quot;</span>, joint_rad)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å…³èŠ‚ä½ç½®(å¼§åº¦)å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;</span>, error)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # æœºå™¨äººå…³èŠ‚ç©ºé—´è¿åŠ¨</span></span><br><span class="line"><span class="comment"># joint_pos1 = [20., -90., 90., -90., -90., 0.]</span></span><br><span class="line"><span class="comment"># tool = 0 #å·¥å…·åæ ‡ç³»ç¼–å·</span></span><br><span class="line"><span class="comment"># user = 0 #å·¥ä»¶åæ ‡ç³»ç¼–å·</span></span><br><span class="line"><span class="comment"># error = robot.MoveJ(joint_pos1, tool, user, vel=10)   #å…³èŠ‚ç©ºé—´è¿åŠ¨</span></span><br><span class="line"><span class="comment"># if error != 0:</span></span><br><span class="line"><span class="comment">#     print(&quot;å…³èŠ‚ç©ºé—´è¿åŠ¨å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;, error)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æœºå™¨äººçš„å·¥å…·åæ ‡ [-432, -265, 477, 180, 0, 110]</span></span><br><span class="line">error, tcp_pose = robot.GetActualTCPPose()</span><br><span class="line"><span class="keyword">if</span> error == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å·¥å…·åæ ‡&quot;</span>, tcp_pose)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å·¥å…·åæ ‡å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;</span>, error)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # æœºå™¨äººç›´çº¿è¿åŠ¨</span></span><br><span class="line"><span class="comment"># pose1 = [-432, -265, 477, 180, 0, 110]</span></span><br><span class="line"><span class="comment"># tool = 0 #å·¥å…·åæ ‡ç³»ç¼–å·</span></span><br><span class="line"><span class="comment"># user = 0 #å·¥ä»¶åæ ‡ç³»ç¼–å·</span></span><br><span class="line"><span class="comment"># error = robot.MoveL(pose1, tool, user, vel=10)   #ç›´çº¿è¿åŠ¨</span></span><br><span class="line"><span class="comment"># if error != 0:</span></span><br><span class="line"><span class="comment">#     print(&quot;ç›´çº¿è¿åŠ¨å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;, error)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœºå™¨äººç‚¹åˆ°ç‚¹è¿åŠ¨</span></span><br><span class="line">pose2 = [-<span class="number">432</span>, -<span class="number">265</span>, <span class="number">477</span>, <span class="number">180</span>, <span class="number">0</span>, <span class="number">110</span>]</span><br><span class="line">tool = <span class="number">0</span> <span class="comment">#å·¥å…·åæ ‡ç³»ç¼–å·</span></span><br><span class="line">user = <span class="number">0</span> <span class="comment">#å·¥ä»¶åæ ‡ç³»ç¼–å·</span></span><br><span class="line">error = robot.MoveCart(pose2, tool, user, vel=<span class="number">10</span>)   <span class="comment">#ç‚¹åˆ°ç‚¹è¿åŠ¨</span></span><br><span class="line"><span class="keyword">if</span> error != <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç‚¹åˆ°ç‚¹è¿åŠ¨å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;</span>, error)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢æœºå™¨äººè¿åŠ¨çŠ¶æ€</span></span><br><span class="line">error, status = robot.GetRobotMotionDone()</span><br><span class="line"><span class="keyword">if</span> error == <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">if</span> status == <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººè¿åŠ¨å·²å®Œæˆ&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººæ­£åœ¨è¿åŠ¨&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æŸ¥è¯¢æœºå™¨äººè¿åŠ¨çŠ¶æ€å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;</span>, error)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###################### æœºå™¨äººå¤¹çˆªæµ‹è¯• ######################</span></span><br><span class="line">ret = robot.SetGripperConfig(<span class="number">4</span>,<span class="number">0</span>)  <span class="comment"># é…ç½®å¤¹çˆªï¼Œå¤§å¯°å¤¹çˆª</span></span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">error, config = robot.GetGripperConfig()     <span class="comment"># è·å–å¤¹çˆªé…ç½®</span></span><br><span class="line"></span><br><span class="line">error = robot.ActGripper(<span class="number">1</span>,<span class="number">0</span>)   <span class="comment"># æ¿€æ´»å¤¹çˆªï¼ˆå¤ä½ï¼‰</span></span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># error = robot.ActGripper(1,1)   # æ¿€æ´»å¤¹çˆªï¼ˆæ¿€æ´»ï¼‰</span></span><br><span class="line"><span class="comment"># time.sleep(2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># error = robot.MoveGripper(1,100,48,46,30000,0)  # æ§åˆ¶å¤¹çˆªï¼ˆå¤¹çˆªç¼–å·ï¼Œä½ç½®ç™¾åˆ†æ¯”ï¼Œé€Ÿåº¦ç™¾åˆ†æ¯”ï¼ŒåŠ›çŸ©ç™¾åˆ†æ¯”ï¼Œæœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé˜»å¡ï¼‰</span></span><br><span class="line"><span class="comment"># time.sleep(3)</span></span><br><span class="line"></span><br><span class="line">error = robot.MoveGripper(<span class="number">1</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">30000</span>,<span class="number">0</span>)     <span class="comment"># æ§åˆ¶å¤¹çˆª</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">error, state = robot.GetGripperMotionDone() <span class="comment">#è·å–å¤¹çˆªè¿åŠ¨çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>äºŒã€FR5 å¸¸ç”¨ Python æ¥å£</h1><h2 id="2-1-æœºå™¨äººåŸºç¡€">2.1 æœºå™¨äººåŸºç¡€</h2><h3 id="2-1-1-å®ä¾‹åŒ–æœºå™¨äºº">2.1.1 å®ä¾‹åŒ–æœºå™¨äºº</h3><p><code>RPC(ip)</code>ï¼šå®ä¾‹åŒ–ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</p><ul><li>å‚æ•°ï¼š<ul><li><code>ip</code>ï¼šæœºå™¨äººçš„IPåœ°å€ï¼Œé»˜è®¤å‡ºå‚IPä¸ºâ€œ192.168.58.2â€</li></ul></li><li>è¿”å›<ul><li>æœºå™¨äººå¯¹è±¡</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="2-1-2-æŸ¥è¯¢-SDK-ç‰ˆæœ¬å·">2.1.2 æŸ¥è¯¢ SDK ç‰ˆæœ¬å·</h3><p><code>GetSDKVersion()</code>ï¼šæŸ¥è¯¢ SDK ç‰ˆæœ¬å·</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>[SDK_version, Controller_version]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret,version  = robot.GetSDKVersion()    <span class="comment">#æŸ¥è¯¢SDKç‰ˆæœ¬å·</span></span><br><span class="line"><span class="keyword">if</span> ret ==<span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;SDKç‰ˆæœ¬å·ä¸º&quot;</span>, version )</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æŸ¥è¯¢å¤±è´¥ï¼Œé”™è¯¯ç ä¸º&quot;</span>,ret)</span><br></pre></td></tr></table></figure><h3 id="2-1-3-æœºå™¨äººæ‰‹åŠ¨-è‡ªåŠ¨æ¨¡å¼åˆ‡æ¢">2.1.3 æœºå™¨äººæ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼åˆ‡æ¢</h3><p><code>Mode(state)</code>ï¼šæ§åˆ¶æœºå™¨äººæ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼åˆ‡æ¢</p><ul><li>å‚æ•°<ul><li><code>state</code>ï¼š0-è‡ªåŠ¨æ¨¡å¼ï¼Œ1-æ‰‹åŠ¨æ¨¡å¼</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line"><span class="comment">#æœºå™¨äººæ‰‹è‡ªåŠ¨æ¨¡å¼åˆ‡æ¢</span></span><br><span class="line">ret = robot.Mode(<span class="number">0</span>)   <span class="comment">#æœºå™¨äººåˆ‡å…¥è‡ªåŠ¨è¿è¡Œæ¨¡å¼</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººåˆ‡å…¥è‡ªåŠ¨è¿è¡Œæ¨¡å¼&quot;</span>, ret)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">ret = robot.Mode(<span class="number">1</span>)   <span class="comment">#æœºå™¨äººåˆ‡å…¥æ‰‹åŠ¨æ¨¡å¼</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººåˆ‡å…¥æ‰‹åŠ¨æ¨¡å¼&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-1-4-æ§åˆ¶æœºå™¨äººä¸Šä½¿èƒ½æˆ–ä¸‹ä½¿èƒ½">2.1.4 æ§åˆ¶æœºå™¨äººä¸Šä½¿èƒ½æˆ–ä¸‹ä½¿èƒ½</h3><p><code>RobotEnable(state)</code>ï¼šæ§åˆ¶æœºå™¨äººä¸Šä½¿èƒ½æˆ–ä¸‹ä½¿èƒ½</p><ul><li>å‚æ•°<ul><li><code>state</code>ï¼š1-ä¸Šä½¿èƒ½ï¼Œ0-ä¸‹ä½¿èƒ½</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line"><span class="comment">#æœºå™¨äººä¸Šä½¿èƒ½æˆ–ä¸‹ä½¿èƒ½</span></span><br><span class="line">ret = robot.RobotEnable(<span class="number">0</span>)   <span class="comment">#æœºå™¨äººä¸‹ä½¿èƒ½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººä¸‹ä½¿èƒ½&quot;</span>, ret)</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">ret = robot.RobotEnable(<span class="number">1</span>)   <span class="comment">#æœºå™¨äººä¸Šä½¿èƒ½ï¼Œæœºå™¨äººä¸Šç”µåé»˜è®¤è‡ªåŠ¨ä¸Šä½¿èƒ½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººä¸Šä½¿èƒ½&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h2 id="2-2-æœºå™¨äººè¿åŠ¨æ§åˆ¶">2.2 æœºå™¨äººè¿åŠ¨æ§åˆ¶</h2><h3 id="2-2-1-æœºå™¨äººç‚¹åŠ¨">2.2.1 æœºå™¨äººç‚¹åŠ¨</h3><p><strong>ï¼ˆ1ï¼‰Jog ç‚¹åŠ¨</strong></p><p><code>StartJOG(ref,nb,dir,max_dis,vel=20.0,acc=100.0)</code>ï¼šjog ç‚¹åŠ¨</p><ul><li>å‚æ•°<ul><li><code>ref</code>ï¼š0-å…³èŠ‚ç‚¹åŠ¨,2-åŸºåæ ‡ç³»ç‚¹åŠ¨,4-å·¥å…·åæ ‡ç³»ç‚¹åŠ¨,8-å·¥ä»¶åæ ‡ç³»ç‚¹åŠ¨ï¼›</li><li><code>nb</code>ï¼š1-1å…³èŠ‚(x è½´),2-2å…³èŠ‚(y è½´),3-3å…³èŠ‚(z è½´),4-4å…³èŠ‚(rx),5-5å…³èŠ‚(ry),6-6å…³èŠ‚(rz);</li><li><code>dir</code>ï¼š0-è´Ÿæ–¹å‘ï¼Œ1-æ­£æ–¹å‘;</li><li><code>max_dis</code>ï¼šå•æ¬¡ç‚¹åŠ¨æœ€å¤§è§’åº¦/è·ç¦»ï¼Œå•ä½ Â° æˆ– mm;</li><li><code>vel</code>ï¼šé€Ÿåº¦ç™¾åˆ†æ¯”ï¼Œ[0~100] é»˜è®¤20;</li><li><code>acc</code>ï¼šåŠ é€Ÿåº¦ç™¾åˆ†æ¯”ï¼Œ[0~100] é»˜è®¤100;</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰Jog ç‚¹åŠ¨å‡é€Ÿåœæ­¢</strong></p><p><code>StopJOG(ref)</code>ï¼šjog ç‚¹åŠ¨å‡é€Ÿåœæ­¢</p><ul><li>å‚æ•°<ul><li><code>ref</code>ï¼š1-å…³èŠ‚ç‚¹åŠ¨åœæ­¢,3-åŸºåæ ‡ç³»ç‚¹åŠ¨åœæ­¢,5-å·¥å…·åæ ‡ç³»ç‚¹åŠ¨åœæ­¢,9-å·¥ä»¶åæ ‡ç³»ç‚¹åŠ¨åœæ­¢</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ3ï¼‰Jog ç‚¹åŠ¨ç«‹å³åœæ­¢</strong></p><p><code>ImmStopJOG()</code>ï¼šjog ç‚¹åŠ¨ç«‹å³åœæ­¢</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><figcaption><span>fold</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line"><span class="comment"># æœºå™¨äººå•è½´ç‚¹åŠ¨</span></span><br><span class="line">robot.StartJOG(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">20.0</span>,<span class="number">20.0</span>,<span class="number">30.0</span>)    <span class="comment"># å•å…³èŠ‚è¿åŠ¨,StartJOGä¸ºéé˜»å¡æŒ‡ä»¤ï¼Œè¿åŠ¨çŠ¶æ€ä¸‹æ¥æ”¶å…¶ä»–è¿åŠ¨æŒ‡ä»¤ï¼ˆåŒ…å«StartJOGï¼‰ä¼šè¢«ä¸¢å¼ƒ</span></span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"><span class="comment">#æœºå™¨äººå•è½´ç‚¹åŠ¨å‡é€Ÿåœæ­¢</span></span><br><span class="line">ret = robot.StopJOG(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(ret)</span><br><span class="line"><span class="comment">#æœºå™¨äººå•è½´ç‚¹åŠ¨ç«‹å³åœæ­¢</span></span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">0</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">20.0</span>,vel=<span class="number">40</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">0</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">20.0</span>,acc=<span class="number">50</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">0</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">20.0</span>,<span class="number">20.0</span>,<span class="number">30.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line"><span class="comment"># åŸºåæ ‡</span></span><br><span class="line">robot.StartJOG(<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">20.0</span>)  <span class="comment">#åŸºåæ ‡ç³»ä¸‹ç‚¹åŠ¨</span></span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># #æœºå™¨äººå•è½´ç‚¹åŠ¨ç«‹å³åœæ­¢</span></span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">2</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">2</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line"><span class="comment"># å·¥å…·åæ ‡</span></span><br><span class="line">robot.StartJOG(<span class="number">4</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">20.0</span>,<span class="number">20.0</span>,<span class="number">100.0</span>)  <span class="comment">#å·¥å…·åæ ‡ç³»ä¸‹ç‚¹åŠ¨</span></span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># #æœºå™¨äººå•è½´ç‚¹åŠ¨ç«‹å³åœæ­¢</span></span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">4</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">4</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">20.0</span>,<span class="number">20.0</span>,<span class="number">100.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">20.0</span>,vel=<span class="number">10.0</span>,acc=<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">4</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">20.0</span>,acc=<span class="number">40.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line"><span class="comment"># å·¥ä»¶åæ ‡</span></span><br><span class="line">robot.StartJOG(<span class="number">8</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">20.0</span>,<span class="number">20.0</span>,<span class="number">100.0</span>)  <span class="comment">#å·¥ä»¶åæ ‡ç³»ä¸‹ç‚¹åŠ¨</span></span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># #æœºå™¨äººå•è½´ç‚¹åŠ¨ç«‹å³åœæ­¢</span></span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">8</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">8</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">8</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">8</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">20.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">8</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">20.0</span>,vel=<span class="number">30.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br><span class="line">robot.StartJOG(<span class="number">8</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">20.0</span>,<span class="number">20.0</span>,acc=<span class="number">90.0</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">robot.ImmStopJOG()</span><br></pre></td></tr></table></figure><h3 id="2-2-2-å…³èŠ‚ç©ºé—´è¿åŠ¨">2.2.2 å…³èŠ‚ç©ºé—´è¿åŠ¨</h3><p><code>MoveJ(joint_pos, tool, user, desc_pos = [0.0,0.0,0.0,0.0,0.0,0.0], vel = 20.0, acc = 0.0, ovl = 100.0, exaxis_pos = [0.0,0.0,0.0,0.0], blendT = -1.0, offset_flag = 0, offset_pos = [0.0,0.0,0.0,0.0,0.0,0.0])</code>ï¼šå…³èŠ‚ç©ºé—´è¿åŠ¨</p><ul><li>å‚æ•°<ul><li><code>joint_pos</code>:ç›®æ ‡å…³èŠ‚ä½ç½®ï¼Œå•ä½[Â°]ï¼›</li><li><code>tool</code>:å·¥å…·å·ï¼Œ[0~14]ï¼›</li><li><code>user</code>:å·¥ä»¶å·ï¼Œ[0~14]ï¼›</li><li><code>desc_pos</code>:ç›®æ ‡ç¬›å¡å°”ä½å§¿ï¼Œå•ä½ [mm][Â°] é»˜è®¤åˆå€¼ä¸º[0.0,0.0,0.0,0.0,0.0,0.0]ï¼Œé»˜è®¤å€¼è°ƒç”¨æ­£è¿åŠ¨å­¦æ±‚è§£è¿”å›å€¼;</li><li><code>vel</code>:é€Ÿåº¦ç™¾åˆ†æ¯”ï¼Œ[0~100] é»˜è®¤20.0;</li><li><code>acc</code>:åŠ é€Ÿåº¦ç™¾åˆ†æ¯”ï¼Œ[0~100]ï¼Œæš‚ä¸å¼€æ”¾ï¼›</li><li><code>ovl</code>:é€Ÿåº¦ç¼©æ”¾å› å­ï¼Œ[0~100] é»˜è®¤100.0;</li><li><code>exaxis_pos</code>:å¤–éƒ¨è½´ 1 ä½ç½® ~ å¤–éƒ¨è½´ 4 ä½ç½® é»˜è®¤[0.0,0.0,0.0,0.0];</li><li><code>blendT</code>:[-1.0]-è¿åŠ¨åˆ°ä½ (é˜»å¡)ï¼Œ[0~500.0]-å¹³æ»‘æ—¶é—´ (éé˜»å¡)ï¼Œå•ä½ [ms] é»˜è®¤-1.0;</li><li><code>offset_flag</code>:[0]-ä¸åç§»ï¼Œ[1]-å·¥ä»¶/åŸºåæ ‡ç³»ä¸‹åç§»ï¼Œ[2]-å·¥å…·åæ ‡ç³»ä¸‹åç§» é»˜è®¤ 0;</li><li><code>offset_pos</code>:ä½å§¿åç§»é‡ï¼Œå•ä½ [mm][Â°] é»˜è®¤[0.0,0.0,0.0,0.0,0.0,0.0];</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">joint_pos4 = [-<span class="number">83.24</span>, -<span class="number">96.476</span>, <span class="number">93.688</span>, -<span class="number">114.079</span>, -<span class="number">62</span>, -<span class="number">100</span>]</span><br><span class="line">joint_pos5 = [-<span class="number">43.24</span>, -<span class="number">70.476</span>, <span class="number">93.688</span>, -<span class="number">114.079</span>, -<span class="number">62</span>, -<span class="number">80</span>]</span><br><span class="line">joint_pos6 = [-<span class="number">83.24</span>, -<span class="number">96.416</span>, <span class="number">43.188</span>, -<span class="number">74.079</span>, -<span class="number">80</span>, -<span class="number">10</span>]</span><br><span class="line">tool = <span class="number">0</span> <span class="comment">#å·¥å…·åæ ‡ç³»ç¼–å·</span></span><br><span class="line">user = <span class="number">0</span> <span class="comment">#å·¥ä»¶åæ ‡ç³»ç¼–å·</span></span><br><span class="line">ret = robot.MoveJ(joint_pos4, tool, user, vel=<span class="number">30</span>)   <span class="comment">#å…³èŠ‚ç©ºé—´è¿åŠ¨</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å…³èŠ‚ç©ºé—´è¿åŠ¨ç‚¹4:é”™è¯¯ç &quot;</span>, ret)</span><br><span class="line">ret = robot.MoveJ(joint_pos5, tool, user)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å…³èŠ‚ç©ºé—´è¿åŠ¨ç‚¹5:é”™è¯¯ç &quot;</span>, ret)</span><br><span class="line">robot.MoveJ(joint_pos6, tool, user, offset_flag=<span class="number">1</span>, offset_pos=[<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å…³èŠ‚ç©ºé—´è¿åŠ¨ç‚¹6:é”™è¯¯ç &quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-2-3-ç¬›å¡å°”ç©ºé—´ç›´çº¿è¿åŠ¨">2.2.3 ç¬›å¡å°”ç©ºé—´ç›´çº¿è¿åŠ¨</h3><p><code>MoveL(desc_pos, tool, user, joint_pos = [0.0,0.0,0.0,0.0,0.0,0.0], vel = 20.0, acc = 0.0 , ovl = 100.0, blendR = -1.0, exaxis_pos = [0.0,0.0,0.0,0.0], search = 0, offset_flag = 0, offset_pos = [0.0,0.0,0.0,0.0,0.0,0.0] )</code>ï¼šç¬›å¡å°”ç©ºé—´ç›´çº¿è¿åŠ¨</p><ul><li>å‚æ•°<ul><li><code>desc_pos</code>:ç›®æ ‡ç¬›å¡å°”ä½å§¿ï¼Œå•ä½[mm][Â°]ï¼›</li><li><code>tool</code>:å·¥å…·å·ï¼Œ[0~14]ï¼›</li><li><code>user</code>:å·¥ä»¶å·ï¼Œ[0~14]ï¼›</li><li><code>joint_pos</code>:ç›®æ ‡å…³èŠ‚ä½ç½®ï¼Œå•ä½ [Â°] é»˜è®¤åˆå€¼ä¸º[0.0,0.0,0.0,0.0,0.0,0.0]ï¼Œé»˜è®¤å€¼è°ƒç”¨é€†è¿åŠ¨å­¦æ±‚è§£è¿”å›å€¼;</li><li><code>vel</code>:é€Ÿåº¦ç™¾åˆ†æ¯”ï¼Œ[0~100] é»˜è®¤20.0ï¼›</li><li><code>acc</code>:åŠ é€Ÿåº¦ç™¾åˆ†æ¯”ï¼Œ[0~100]ï¼Œæš‚ä¸å¼€æ”¾ é»˜è®¤0.0ï¼›</li><li><code>ovl</code>:é€Ÿåº¦ç¼©æ”¾å› å­ï¼Œ[0~100] é»˜è®¤100.0ï¼›</li><li><code>blendR</code>:blendR:[-1.0]-è¿åŠ¨åˆ°ä½ (é˜»å¡)ï¼Œ[0~1000]-å¹³æ»‘åŠå¾„ (éé˜»å¡)ï¼Œå•ä½ [mm] é»˜è®¤-1.0;</li><li><code>exaxis_pos</code>:å¤–éƒ¨è½´ 1 ä½ç½® ~ å¤–éƒ¨è½´ 4 ä½ç½® é»˜è®¤[0.0,0.0,0.0,0.0];</li><li><code>search</code>:[0]-ä¸ç„Šä¸å¯»ä½ï¼Œ[1]-ç„Šä¸å¯»ä½ï¼›</li><li><code>offset_flag</code>:offset_flag:[0]-ä¸åç§»ï¼Œ[1]-å·¥ä»¶/åŸºåæ ‡ç³»ä¸‹åç§»ï¼Œ[2]-å·¥å…·åæ ‡ç³»ä¸‹åç§» é»˜è®¤ 0;</li><li><code>offset_pos</code>:ä½å§¿åç§»é‡ï¼Œå•ä½ [mm][Â°] é»˜è®¤[0.0,0.0,0.0,0.0,0.0,0.0]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">desc_pos1 = [<span class="number">36.794</span>,-<span class="number">475.119</span>, <span class="number">65.379</span>, -<span class="number">176.938</span>, <span class="number">2.535</span>, -<span class="number">179.829</span>]</span><br><span class="line">desc_pos2 = [<span class="number">136.794</span>,-<span class="number">475.119</span>, <span class="number">65.379</span>, -<span class="number">176.938</span>, <span class="number">2.535</span>, -<span class="number">179.829</span>]</span><br><span class="line">desc_pos3 = [<span class="number">236.794</span>,-<span class="number">475.119</span>, <span class="number">65.379</span>, -<span class="number">176.938</span>, <span class="number">2.535</span>, -<span class="number">179.829</span>]</span><br><span class="line">tool = <span class="number">0</span> <span class="comment">#å·¥å…·åæ ‡ç³»ç¼–å·</span></span><br><span class="line">user = <span class="number">0</span> <span class="comment">#å·¥ä»¶åæ ‡ç³»ç¼–å·</span></span><br><span class="line">ret = robot.MoveL(desc_pos1, tool, user)   <span class="comment">#ç¬›å¡å°”ç©ºé—´ç›´çº¿è¿åŠ¨</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬›å¡å°”ç©ºé—´ç›´çº¿è¿åŠ¨ç‚¹1:é”™è¯¯ç &quot;</span>, ret)</span><br><span class="line">robot.MoveL(desc_pos2, tool, user, vel=<span class="number">20</span>, acc=<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬›å¡å°”ç©ºé—´ç›´çº¿è¿åŠ¨ç‚¹2:é”™è¯¯ç &quot;</span>, ret)</span><br><span class="line">robot.MoveL(desc_pos3, tool, user, offset_flag=<span class="number">1</span>, offset_pos=[<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬›å¡å°”ç©ºé—´ç›´çº¿è¿åŠ¨ç‚¹3:é”™è¯¯ç &quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-2-4-ç¬›å¡å°”ç©ºé—´ç‚¹åˆ°ç‚¹è¿åŠ¨">2.2.4 ç¬›å¡å°”ç©ºé—´ç‚¹åˆ°ç‚¹è¿åŠ¨</h3><p><code>MoveCart(desc_pos, tool, user, vel = 20.0, acc = 0.0, ovl = 100.0, blendT = -1.0, config = -1)</code>ï¼šç¬›å¡å°”ç©ºé—´ç‚¹åˆ°ç‚¹è¿åŠ¨</p><ul><li>å‚æ•°<ul><li><code>desc_pos</code>:ç›®æ ‡ç¬›å¡å°”ä½ç½®ï¼›</li><li><code>tool</code>:å·¥å…·å·ï¼Œ[0~14]ï¼›</li><li><code>user</code>:å·¥ä»¶å·ï¼Œ[0~14]ï¼›</li><li><code>vel</code>:é€Ÿåº¦ï¼ŒèŒƒå›´ [0~100]ï¼Œé»˜è®¤ä¸º 20.0;</li><li><code>acc</code>:åŠ é€Ÿåº¦ï¼ŒèŒƒå›´ [0~100]ï¼Œæš‚ä¸å¼€æ”¾,é»˜è®¤ä¸º 0.0;</li><li><code>ovl</code>:é€Ÿåº¦ç¼©æ”¾å› å­ï¼Œ[0~100]ï¼Œé»˜è®¤ä¸º 100.0;</li><li><code>blendT</code>:[-1.0]-è¿åŠ¨åˆ°ä½ (é˜»å¡)ï¼Œ[0~500]-å¹³æ»‘æ—¶é—´ (éé˜»å¡)ï¼Œå•ä½ [ms] é»˜è®¤ä¸º -1.0;</li><li><code>config</code>:å…³èŠ‚é…ç½®ï¼Œ[-1]-å‚è€ƒå½“å‰å…³èŠ‚ä½ç½®æ±‚è§£ï¼Œ[0~7]-ä¾æ®å…³èŠ‚é…ç½®æ±‚è§£ é»˜è®¤ä¸º -1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">desc_pos7 = [<span class="number">236.794</span>,-<span class="number">475.119</span>, <span class="number">65.379</span>, -<span class="number">176.938</span>, <span class="number">2.535</span>, -<span class="number">179.829</span>]</span><br><span class="line">desc_pos8 = [<span class="number">236.794</span>,-<span class="number">575.119</span>, <span class="number">165.379</span>, -<span class="number">176.938</span>, <span class="number">2.535</span>, -<span class="number">179.829</span>]</span><br><span class="line">desc_pos9 = [<span class="number">236.794</span>,-<span class="number">475.119</span>, <span class="number">265.379</span>, -<span class="number">176.938</span>, <span class="number">2.535</span>, -<span class="number">179.829</span>]</span><br><span class="line">tool = <span class="number">0</span> <span class="comment">#å·¥å…·åæ ‡ç³»ç¼–å·</span></span><br><span class="line">user = <span class="number">0</span> <span class="comment">#å·¥ä»¶åæ ‡ç³»ç¼–å·</span></span><br><span class="line">robot.MoveCart(desc_pos7, tool, user)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬›å¡å°”ç©ºé—´ç‚¹åˆ°ç‚¹è¿åŠ¨ç‚¹7:é”™è¯¯ç &quot;</span>, ret)</span><br><span class="line">robot.MoveCart(desc_pos8, tool, user, vel=<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬›å¡å°”ç©ºé—´ç‚¹åˆ°ç‚¹è¿åŠ¨ç‚¹8:é”™è¯¯ç &quot;</span>, ret)</span><br><span class="line">robot.MoveCart(desc_pos9, tool, user,)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬›å¡å°”ç©ºé—´ç‚¹åˆ°ç‚¹è¿åŠ¨ç‚¹9:é”™è¯¯ç &quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-2-5-ä¼ºæœè¿åŠ¨">2.2.5 ä¼ºæœè¿åŠ¨</h3><p><strong>ï¼ˆ1ï¼‰ä¼ºæœè¿åŠ¨å¼€å§‹</strong></p><p><code>ServoMoveStart()</code>ï¼šä¼ºæœè¿åŠ¨å¼€å§‹ï¼Œé…åˆ ServoJã€ServoCart æŒ‡ä»¤ä½¿ç”¨</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰ä¼ºæœè¿åŠ¨ç»“æŸ</strong></p><p><code>ServoMoveEnd()</code>ï¼šä¼ºæœè¿åŠ¨å¼€å§‹ï¼Œé…åˆ ServoJã€ServoCart æŒ‡ä»¤ä½¿ç”¨</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ3ï¼‰å…³èŠ‚ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨</strong></p><p><code>ServoJ(joint_pos, acc = 0.0, vel = 0.0, cmdT = 0.008, filterT = 0.0, gain = 0.0)</code>ï¼šå…³èŠ‚ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨</p><ul><li>å‚æ•°<ul><li><code>joint_pos</code>:ç›®æ ‡å…³èŠ‚ä½ç½®ï¼Œå•ä½[Â°]ï¼›</li><li><code>acc</code>:åŠ é€Ÿåº¦ï¼ŒèŒƒå›´ [0~100]ï¼Œæš‚ä¸å¼€æ”¾ï¼Œé»˜è®¤ä¸º 0.0;</li><li><code>vel</code>:é€Ÿåº¦ï¼ŒèŒƒå›´ [0~100]ï¼Œæš‚ä¸å¼€æ”¾ï¼Œé»˜è®¤ä¸º 0.0;</li><li><code>cmdT</code>:æŒ‡ä»¤ä¸‹å‘å‘¨æœŸï¼Œå•ä½sï¼Œå»ºè®®èŒƒå›´[0.001~0.0016], é»˜è®¤ä¸º0.008;</li><li><code>filterT</code>:æ»¤æ³¢æ—¶é—´ï¼Œå•ä½ [s]ï¼Œæš‚ä¸å¼€æ”¾ï¼Œ é»˜è®¤ä¸º0.0;</li><li><code>gain</code>:ç›®æ ‡ä½ç½®çš„æ¯”ä¾‹æ”¾å¤§å™¨ï¼Œæš‚ä¸å¼€æ”¾ï¼Œ é»˜è®¤ä¸º0.0;</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ4ï¼‰ç¬›å¡å°”ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨</strong></p><p><code>ServoCart(mode, desc_pos, pos_gain = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0] , acc = 0.0, vel = 0.0, cmdT = 0.008, filterT = 0.0, gain = 0.0)</code>ï¼šç¬›å¡å°”ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨</p><ul><li>å‚æ•°<ul><li><code>mode</code>:[0]-ç»å¯¹è¿åŠ¨(åŸºåæ ‡ç³»)ï¼Œ[1]-å¢é‡è¿åŠ¨(åŸºåæ ‡ç³»)ï¼Œ[2]-å¢é‡è¿åŠ¨(å·¥å…·åæ ‡ç³»)ï¼›</li><li><code>desc_pos</code>:ç›®æ ‡ç¬›å¡å°”ä½ç½®/ç›®æ ‡ç¬›å¡å°”ä½ç½®å¢é‡ï¼›</li><li><code>pos_gain</code>:ä½å§¿å¢é‡æ¯”ä¾‹ç³»æ•°ï¼Œä»…åœ¨å¢é‡è¿åŠ¨ä¸‹ç”Ÿæ•ˆï¼ŒèŒƒå›´ [0~1], é»˜è®¤ä¸º [1.0, 1.0, 1.0, 1.0, 1.0, 1.0];</li><li><code>acc</code>:åŠ é€Ÿåº¦ï¼ŒèŒƒå›´ [0~100]ï¼Œæš‚ä¸å¼€æ”¾ï¼Œé»˜è®¤ä¸º 0.0;</li><li><code>vel</code>:é€Ÿåº¦ï¼ŒèŒƒå›´ [0~100]ï¼Œæš‚ä¸å¼€æ”¾ï¼Œé»˜è®¤ä¸º 0.0;</li><li><code>cmdT</code>:æŒ‡ä»¤ä¸‹å‘å‘¨æœŸï¼Œå•ä½sï¼Œå»ºè®®èŒƒå›´[0.001~0.0016], é»˜è®¤ä¸º0.008;</li><li><code>filterT</code>:æ»¤æ³¢æ—¶é—´ï¼Œå•ä½ [s]ï¼Œæš‚ä¸å¼€æ”¾ï¼Œ é»˜è®¤ä¸º0.0;</li><li><code>gain</code>:ç›®æ ‡ä½ç½®çš„æ¯”ä¾‹æ”¾å¤§å™¨ï¼Œæš‚ä¸å¼€æ”¾ï¼Œ é»˜è®¤ä¸º0.0;</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><figcaption><span>fold</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">error,joint_pos = robot.GetActualJointPosDegree()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººå½“å‰å…³èŠ‚ä½ç½®&quot;</span>,joint_pos)</span><br><span class="line">joint_pos = [joint_pos[<span class="number">0</span>],joint_pos[<span class="number">1</span>],joint_pos[<span class="number">2</span>],joint_pos[<span class="number">3</span>],joint_pos[<span class="number">4</span>],joint_pos[<span class="number">5</span>]]</span><br><span class="line">error_joint = <span class="number">0</span></span><br><span class="line">count =<span class="number">100</span></span><br><span class="line">error = robot.ServoMoveStart()  <span class="comment">#ä¼ºæœè¿åŠ¨å¼€å§‹</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¼ºæœè¿åŠ¨å¼€å§‹é”™è¯¯ç &quot;</span>,error)</span><br><span class="line"><span class="keyword">while</span>(count):</span><br><span class="line">    error = robot.ServoJ(joint_pos)   <span class="comment">#å…³èŠ‚ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨</span></span><br><span class="line">    <span class="keyword">if</span> error!=<span class="number">0</span>:</span><br><span class="line">        error_joint =error</span><br><span class="line">    joint_pos[<span class="number">0</span>] = joint_pos[<span class="number">0</span>] + <span class="number">0.1</span>  <span class="comment">#æ¯æ¬¡1è½´è¿åŠ¨0.1åº¦ï¼Œè¿åŠ¨100æ¬¡</span></span><br><span class="line">    count = count - <span class="number">1</span></span><br><span class="line">    time.sleep(<span class="number">0.008</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å…³èŠ‚ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨é”™è¯¯ç &quot;</span>,error_joint)</span><br><span class="line">error = robot.ServoMoveEnd()  <span class="comment">#ä¼ºæœè¿åŠ¨ç»“æŸ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¼ºæœè¿åŠ¨ç»“æŸé”™è¯¯ç &quot;</span>,error)</span><br><span class="line">mode = <span class="number">2</span>  <span class="comment">#[0]-ç»å¯¹è¿åŠ¨(åŸºåæ ‡ç³»)ï¼Œ[1]-å¢é‡è¿åŠ¨(åŸºåæ ‡ç³»)ï¼Œ[2]-å¢é‡è¿åŠ¨(å·¥å…·åæ ‡ç³»)</span></span><br><span class="line">n_pos = [<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">0.5</span>,<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">0.0</span>]   <span class="comment">#ç¬›å¡å°”ç©ºé—´ä½å§¿å¢é‡</span></span><br><span class="line">error,desc_pos = robot.GetActualTCPPose()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æœºå™¨äººå½“å‰ç¬›å¡å°”ä½ç½®&quot;</span>,desc_pos)</span><br><span class="line">count = <span class="number">100</span></span><br><span class="line">error_cart =<span class="number">0</span></span><br><span class="line">error = robot.ServoMoveStart()  <span class="comment">#ä¼ºæœè¿åŠ¨å¼€å§‹</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¼ºæœè¿åŠ¨å¼€å§‹é”™è¯¯ç &quot;</span>,error)</span><br><span class="line"><span class="keyword">while</span>(count):</span><br><span class="line">    error = robot.ServoCart(mode, n_pos, vel=<span class="number">40</span>)   <span class="comment">#ç¬›å¡å°”ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨</span></span><br><span class="line">    <span class="keyword">if</span> error!=<span class="number">0</span>:</span><br><span class="line">        error_cart =error</span><br><span class="line">    count = count - <span class="number">1</span></span><br><span class="line">    time.sleep(<span class="number">0.008</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬›å¡å°”ç©ºé—´ä¼ºæœæ¨¡å¼è¿åŠ¨é”™è¯¯ç &quot;</span>, error_cart)</span><br><span class="line">error = robot.ServoMoveEnd()  <span class="comment">#ä¼ºæœè¿åŠ¨å¼€å§‹</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¼ºæœè¿åŠ¨ç»“æŸé”™è¯¯ç &quot;</span>,error)</span><br></pre></td></tr></table></figure><h2 id="2-3-æœºå™¨äººå‚æ•°è®¾ç½®">2.3 æœºå™¨äººå‚æ•°è®¾ç½®</h2><h3 id="2-3-1-è®¾ç½®å…¨å±€é€Ÿåº¦">2.3.1 è®¾ç½®å…¨å±€é€Ÿåº¦</h3><p><code>SetSpeed(vel)</code>ï¼šè®¾ç½®å…¨å±€é€Ÿåº¦</p><ul><li>å‚æ•°<ul><li><code>vel</code>:é€Ÿåº¦ç™¾åˆ†æ¯”ï¼ŒèŒƒå›´[0~100]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">error = robot.SetSpeed(<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®å…¨å±€é€Ÿåº¦é”™è¯¯ç :&quot;</span>,error)</span><br></pre></td></tr></table></figure><h3 id="2-3-2-è®¾ç½®ç³»ç»Ÿå˜é‡å€¼">2.3.2 è®¾ç½®ç³»ç»Ÿå˜é‡å€¼</h3><p><code>SetSysVarValue(id,value)</code>ï¼šè®¾ç½®ç³»ç»Ÿå˜é‡</p><ul><li>å‚æ•°<ul><li><code>id</code>ï¼šå˜é‡ç¼–å·ï¼ŒèŒƒå›´[1~20];</li><li><code>value</code>ï¼šå˜é‡å€¼</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>):</span><br><span class="line">    error = robot.SetSysVarValue(i,<span class="number">10</span>)</span><br><span class="line">robot.WaitMs(<span class="number">1000</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>):</span><br><span class="line">    sys_var = robot.GetSysVarValue(i)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç³»ç»Ÿå˜é‡ç¼–å·:&quot;</span>,i,<span class="string">&quot;å€¼&quot;</span>,sys_var)</span><br></pre></td></tr></table></figure><h3 id="2-3-3-è®¾ç½®å·¥å…·åæ ‡ç³»">2.3.3 è®¾ç½®å·¥å…·åæ ‡ç³»</h3><p><strong>ï¼ˆ1ï¼‰è®¡ç®—å·¥å…·åæ ‡ç³» - å…­ç‚¹æ³•</strong></p><p><code>SetToolPoint(point_num)</code>ï¼šè®¾ç½®å·¥å…·å‚è€ƒç‚¹-å…­ç‚¹æ³•</p><ul><li>å‚æ•°<ul><li><code>point_num</code>ï¼šç‚¹ç¼–å·,èŒƒå›´[1~6]</li></ul></li><li>è¿”å›é”™è¯¯ç </li></ul><p><code>ComputeTool()</code>ï¼šè®¡ç®—å·¥å…·åæ ‡ç³»-å…­ç‚¹æ³•ï¼ˆè®¾ç½®å®Œå…­ä¸ªå·¥å…·å‚è€ƒç‚¹åå†è¿›è¡Œè®¡ç®—ï¼‰</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>tcp_pose [x,y,z,rx,ry,rz]</code>ï¼šå·¥å…·åæ ‡ç³»</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">t_coord = [<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>,<span class="number">4.0</span>,<span class="number">5.0</span>,<span class="number">6.0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">7</span>):</span><br><span class="line">    robot.DragTeachSwitch(<span class="number">1</span>)<span class="comment">#åˆ‡å…¥æ‹–åŠ¨ç¤ºæ•™æ¨¡å¼</span></span><br><span class="line">    time.sleep(<span class="number">5</span>)</span><br><span class="line">    error = robot.SetToolPoint(i) <span class="comment">#å®é™…åº”å½“æ§åˆ¶æœºå™¨äººæŒ‰ç…§è¦æ±‚ç§»åŠ¨åˆ°åˆé€‚ä½ç½®åå†å‘é€æŒ‡ä»¤</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å…­ç‚¹æ³•è®¾ç½®å·¥å…·åæ ‡ç³»ï¼Œè®°å½•ç‚¹&quot;</span>,i,<span class="string">&quot;é”™è¯¯ç &quot;</span>,error)</span><br><span class="line">    robot.DragTeachSwitch(<span class="number">0</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">error = robot.ComputeTool()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å…­ç‚¹æ³•è®¾ç½®å·¥å…·åæ ‡ç³»é”™è¯¯ç &quot;</span>,error)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰è®¡ç®—å·¥å…·åæ ‡ç³» - å››ç‚¹æ³•</strong></p><p><code>SetTcp4RefPoint(point_num)</code>ï¼šè®¾ç½®å·¥å…·å‚è€ƒç‚¹-å››ç‚¹æ³•</p><ul><li>å‚æ•°<ul><li><code>point_num</code>ï¼šç‚¹ç¼–å·,èŒƒå›´[1~4]</li></ul></li><li>è¿”å›å€¼<ul><li>é”™è¯¯ç </li></ul></li></ul><p><code>ComputeTcp4()</code>ï¼šè®¡ç®—å·¥å…·åæ ‡ç³»-å››ç‚¹æ³•ï¼ˆè®¾ç½®å®Œå››ä¸ªå·¥å…·å‚è€ƒç‚¹åå†è¿›è¡Œè®¡ç®—ï¼‰</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>tcp_pose [x,y,z,rx,ry,rz]</code>ï¼šå·¥å…·åæ ‡ç³»</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">t_coord = [<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>,<span class="number">4.0</span>,<span class="number">5.0</span>,<span class="number">6.0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>):</span><br><span class="line">    robot.DragTeachSwitch(<span class="number">1</span>)<span class="comment">#åˆ‡å…¥æ‹–åŠ¨ç¤ºæ•™æ¨¡å¼</span></span><br><span class="line">    time.sleep(<span class="number">5</span>)</span><br><span class="line">    error = robot.SetTcp4RefPoint(i) <span class="comment">#åº”å½“æ§åˆ¶æœºå™¨äººæŒ‰ç…§è¦æ±‚ç§»åŠ¨åˆ°åˆé€‚ä½ç½®åå†å‘é€æŒ‡ä»¤</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å››ç‚¹æ³•è®¾ç½®å·¥å…·åæ ‡ç³»ï¼Œè®°å½•ç‚¹&quot;</span>,i,<span class="string">&quot;é”™è¯¯ç &quot;</span>,error)</span><br><span class="line">    robot.DragTeachSwitch(<span class="number">0</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">error,t_coord= robot.ComputeTcp4()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å››ç‚¹æ³•è®¾ç½®å·¥å…·åæ ‡ç³»é”™è¯¯ç &quot;</span>,error,<span class="string">&quot;å·¥å…·TCP&quot;</span>,t_coord)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰è®¾ç½®å·¥å…·åæ ‡ç³»</strong></p><p><code>SetToolCoord(id,t_coord,type,install)</code>ï¼šè®¾ç½®å·¥å…·åæ ‡ç³»</p><ul><li>å‚æ•°<ul><li><code>id</code>:åæ ‡ç³»ç¼–å·ï¼ŒèŒƒå›´[0~14]ï¼›</li><li><code>t_coord</code>:[x,y,z,rx,ry,rz] å·¥å…·ä¸­å¿ƒç‚¹ç›¸å¯¹æœ«ç«¯æ³•å…°ä¸­å¿ƒä½å§¿ï¼Œå•ä½[mm][Â°]ï¼›</li><li><code>type</code>:0-å·¥å…·åæ ‡ç³»ï¼Œ1-ä¼ æ„Ÿå™¨åæ ‡ç³»ï¼›</li><li><code>install</code>:å®‰è£…ä½ç½®ï¼Œ0-æœºå™¨äººæœ«ç«¯ï¼Œ1-æœºå™¨äººå¤–éƒ¨</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">t_coord = [<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>,<span class="number">4.0</span>,<span class="number">5.0</span>,<span class="number">6.0</span>]</span><br><span class="line">error = robot.SetToolCoord(<span class="number">10</span>,t_coord,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®å·¥å…·åæ ‡ç³»é”™è¯¯ç &quot;</span>,error)</span><br></pre></td></tr></table></figure><h3 id="2-3-4-è®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»">2.3.4 è®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»</h3><p><strong>ï¼ˆ1ï¼‰è®¾ç½®å¤–éƒ¨å·¥å…·å‚è€ƒç‚¹</strong></p><p><code>SetExTCPPoint(point_num)</code>ï¼šè®¾ç½®å¤–éƒ¨å·¥å…·å‚è€ƒç‚¹-ä¸‰ç‚¹æ³•</p><ul><li>å‚æ•°<ul><li><code>point_num</code>ï¼šç‚¹ç¼–å·,èŒƒå›´[1~3]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰è®¡ç®—å¤–éƒ¨å·¥å…·åæ ‡ç³»</strong></p><p><code>ComputeExTCF(point_num)</code>ï¼šè®¡ç®—å¤–éƒ¨å·¥å…·åæ ‡ç³»-ä¸‰ç‚¹æ³•ï¼ˆè®¾ç½®å®Œä¸‰ä¸ªå‚è€ƒç‚¹åå†è¿›è¡Œè®¡ç®—ï¼‰</p><ul><li>å‚æ•°<ul><li><code>point_num</code>ï¼šç‚¹ç¼–å·,èŒƒå›´[1~3]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>etcp [x,y,z,rx,ry,rz]</code>ï¼šå¤–éƒ¨å·¥å…·åæ ‡ç³»</li></ul></li></ul><p><strong>ï¼ˆ3ï¼‰è®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»</strong></p><p><code>SetExToolCoord(id,etcp ,etool)</code>ï¼šè®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»</p><ul><li>å‚æ•°<ul><li><code>id</code>:åæ ‡ç³»ç¼–å·ï¼ŒèŒƒå›´[0~14]ï¼›</li><li><code>etcp</code>:å¤–éƒ¨å·¥å…·åæ ‡ç³»ï¼Œå•ä½[mm][Â°]ï¼›</li><li><code>etool</code>:æœ«ç«¯å·¥å…·åæ ‡ç³»ï¼Œå•ä½[mm][Â°]ï¼›</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">etcp = [<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>,<span class="number">4.0</span>,<span class="number">5.0</span>,<span class="number">6.0</span>]</span><br><span class="line">etool = [<span class="number">21.0</span>,<span class="number">22.0</span>,<span class="number">23.0</span>,<span class="number">24.0</span>,<span class="number">25.0</span>,<span class="number">26.0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">    error = robot.SetExTCPPoint(i) <span class="comment">#åº”å½“æ§åˆ¶æœºå™¨äººæŒ‰ç…§è¦æ±‚ç§»åŠ¨åˆ°åˆé€‚ä½ç½®åå†å‘é€æŒ‡ä»¤</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä¸‰ç‚¹æ³•è®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»ï¼Œè®°å½•ç‚¹&quot;</span>,i,<span class="string">&quot;é”™è¯¯ç &quot;</span>,error)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">error,etcp = robot.ComputeExTCF()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¸‰ç‚¹æ³•è®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»é”™è¯¯ç &quot;</span>,error,<span class="string">&quot;å¤–éƒ¨å·¥å…·TCP&quot;</span>,etcp)</span><br><span class="line">error = robot.SetExToolCoord(<span class="number">10</span>,etcp,etool)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»é”™è¯¯ç &quot;</span>,error)</span><br><span class="line">error = robot.SetExToolList(<span class="number">10</span>,etcp,etool)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®å¤–éƒ¨å·¥å…·åæ ‡ç³»åˆ—è¡¨é”™è¯¯ç &quot;</span>,error)</span><br></pre></td></tr></table></figure><h3 id="2-3-5-è®¾ç½®å·¥ä»¶åæ ‡ç³»">2.3.5 è®¾ç½®å·¥ä»¶åæ ‡ç³»</h3><p><strong>ï¼ˆ1ï¼‰è®¾ç½®å·¥ä»¶å‚è€ƒç‚¹</strong></p><p><code>SetWObjCoordPoint(point_num)</code>ï¼šè®¾ç½®å·¥ä»¶å‚è€ƒç‚¹-ä¸‰ç‚¹æ³•</p><ul><li>å‚æ•°<ul><li><code>point_num</code>:ç‚¹ç¼–å·,èŒƒå›´[1~3]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰è®¡ç®—å·¥ä»¶åæ ‡ç³»</strong></p><p><code>ComputeWObjCoord()</code>ï¼šè®¡ç®—å·¥ä»¶åæ ‡ç³»-ä¸‰ç‚¹æ³•ï¼ˆä¸‰ä¸ªå‚è€ƒç‚¹è®¾ç½®å®Œåå†è¿›è¡Œè®¡ç®—;</p><ul><li>å‚æ•°<ul><li><code>method</code>ï¼šè®¡ç®—æ–¹å¼ï¼š0ï¼ˆåŸç‚¹-xè½´-zè½´ï¼‰ï¼Œ1ï¼ˆåŸç‚¹-xè½´-xyå¹³é¢ï¼‰</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>wobj_pose [x,y,z,rx,ry,rz]</code>ï¼šå·¥ä»¶åæ ‡ç³»</li></ul></li></ul><p><strong>ï¼ˆ3ï¼‰è®¾ç½®å·¥ä»¶åæ ‡ç³»</strong></p><p><code>SetWObjCoord(id,w_coord)</code>ï¼šè®¾ç½®å·¥ä»¶åæ ‡ç³»</p><ul><li>å‚æ•°<ul><li><code>id</code>:åæ ‡ç³»ç¼–å·ï¼ŒèŒƒå›´[0~14]ï¼›</li><li><code>w_coord</code>:åæ ‡ç³»ç›¸å¯¹ä½å§¿ï¼Œå•ä½[mm][Â°]ï¼›</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">w_coord = [<span class="number">11.0</span>,<span class="number">12.0</span>,<span class="number">13.0</span>,<span class="number">14.0</span>,<span class="number">15.0</span>,<span class="number">16.0</span>]</span><br><span class="line">robot.SetToolList(<span class="number">0</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],<span class="number">0</span>,<span class="number">0</span>)<span class="comment">#è®¾ç½®å‚è€ƒç‚¹å‰åº”å½“å°†å·¥å…·å’Œå·¥ä»¶å·åæ ‡ç³»åˆ‡æ¢è‡³0</span></span><br><span class="line">robot.SetWObjList(<span class="number">0</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">    error = robot.SetWObjCoordPoint(i) <span class="comment">#å®é™…åº”å½“æ§åˆ¶æœºå™¨äººæŒ‰ç…§è¦æ±‚ç§»åŠ¨åˆ°åˆé€‚ä½ç½®åå†å‘é€æŒ‡ä»¤</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä¸‰ç‚¹æ³•è®¾ç½®å·¥ä»¶åæ ‡ç³»ï¼Œè®°å½•ç‚¹&quot;</span>,i,<span class="string">&quot;é”™è¯¯ç &quot;</span>,error)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">error, w_coord = robot.ComputeWObjCoord(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¸‰ç‚¹æ³•è®¡ç®—å·¥ä»¶åæ ‡ç³»é”™è¯¯ç &quot;</span>,error,<span class="string">&quot;å·¥ä»¶åæ ‡ç³»&quot;</span>, w_coord)</span><br></pre></td></tr></table></figure><h2 id="2-4-æœºå™¨äººå®‰å…¨è®¾ç½®">2.4 æœºå™¨äººå®‰å…¨è®¾ç½®</h2><h3 id="2-4-1-ç¢°æ’è®¾ç½®">2.4.1 ç¢°æ’è®¾ç½®</h3><p><strong>ï¼ˆ1ï¼‰è®¾ç½®ç¢°æ’ç­‰çº§</strong></p><p><code>SetAnticollision (mode,level,config)</code>ï¼šè®¾ç½®ç¢°æ’ç­‰çº§</p><ul><li>å‚æ•°<ul><li><code>mode</code>:0-ç­‰çº§ï¼Œ1-ç™¾åˆ†æ¯”ï¼›</li><li><code>level=[j1,j2,j3,j4,j5,j6]</code>:ç¢°æ’é˜ˆå€¼ï¼›</li><li><code>config</code>:0-ä¸æ›´æ–°é…ç½®æ–‡ä»¶ï¼Œ1-æ›´æ–°é…ç½®æ–‡ä»¶</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰è®¾ç½®ç¢°æ’åç­–ç•¥</strong></p><p><code>SetCollisionStrategy (strategy)</code>ï¼šè®¾ç½®ç¢°æ’åç­–ç•¥</p><ul><li>å‚æ•°<ul><li><code>strategy</code>ï¼š0-æŠ¥é”™æš‚åœï¼Œ1-ç»§ç»­è¿è¡Œ</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">level = [<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>,<span class="number">4.0</span>,<span class="number">5.0</span>,<span class="number">6.0</span>]</span><br><span class="line">error = robot.SetAnticollision(<span class="number">0</span>,level,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®ç¢°æ’ç­‰çº§é”™è¯¯ç :&quot;</span>,error)</span><br><span class="line">level = [<span class="number">50.0</span>,<span class="number">20.0</span>,<span class="number">30.0</span>,<span class="number">40.0</span>,<span class="number">50.0</span>,<span class="number">60.0</span>]</span><br><span class="line">error = robot.SetAnticollision(<span class="number">1</span>,level,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®ç¢°æ’ç­‰çº§é”™è¯¯ç :&quot;</span>,error)</span><br><span class="line">error = robot.SetCollisionStrategy(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®ç¢°æ’åç­–ç•¥é”™è¯¯ç :&quot;</span>,error)</span><br></pre></td></tr></table></figure><h3 id="2-4-2-è®¾ç½®å…³èŠ‚é™ä½">2.4.2 è®¾ç½®å…³èŠ‚é™ä½</h3><p><strong>ï¼ˆ1ï¼‰æ­£é™ä½</strong></p><p><code>SetLimitPositive(p_limit)</code>ï¼šè®¾ç½®æ­£é™ä½</p><ul><li>å‚æ•°<ul><li><code>p_limit=[j1,j2,j3,j4,j5,j6]</code>ï¼šå…­ä¸ªå…³èŠ‚ä½ç½®</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰è´Ÿé™ä½</strong></p><p><code>SetLimitNegative(p_limit)</code>ï¼šè®¾ç½®è´Ÿé™ä½</p><ul><li>å‚æ•°<ul><li><code>n_limit=[j1,j2,j3,j4,j5,j6]</code>ï¼šå…­ä¸ªå…³èŠ‚ä½ç½®</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">p_limit = [<span class="number">170.0</span>,<span class="number">80.0</span>,<span class="number">150.0</span>,<span class="number">80.0</span>,<span class="number">170.0</span>,<span class="number">160.0</span>]</span><br><span class="line">error = robot.SetLimitPositive(p_limit)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®æ­£é™ä½é”™è¯¯ç :&quot;</span>,error)</span><br><span class="line">n_limit = [-<span class="number">170.0</span>,-<span class="number">260.0</span>,-<span class="number">150.0</span>,-<span class="number">260.0</span>,-<span class="number">170.0</span>,-<span class="number">160.0</span>]</span><br><span class="line">5error = robot.SetLimitNegative(n_limit)</span><br><span class="line">6<span class="built_in">print</span>(<span class="string">&quot;è®¾ç½®è´Ÿé™ä½é”™è¯¯ç :&quot;</span>,error)</span><br></pre></td></tr></table></figure><h3 id="2-4-3-é”™è¯¯çŠ¶æ€æ¸…é™¤">2.4.3 é”™è¯¯çŠ¶æ€æ¸…é™¤</h3><p><code>ResetAllError()</code>ï¼šé”™è¯¯çŠ¶æ€æ¸…é™¤ï¼Œåªèƒ½æ¸…é™¤å¯å¤ä½çš„é”™è¯¯</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">error = robot.ResetAllError()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;é”™è¯¯çŠ¶æ€æ¸…é™¤é”™è¯¯ç :&quot;</span>,error)</span><br></pre></td></tr></table></figure><h2 id="2-5-æœºå™¨äººçŠ¶æ€æŸ¥è¯¢">2.5 æœºå™¨äººçŠ¶æ€æŸ¥è¯¢</h2><h3 id="2-5-1-è·å–å…³èŠ‚ä½ç½®">2.5.1 è·å–å…³èŠ‚ä½ç½®</h3><p><strong>ï¼ˆ1ï¼‰è·å–å½“å‰å…³èŠ‚ä½ç½®(è§’åº¦)</strong></p><p><code>GetActualJointPosDegree(flag = 1)</code>ï¼šè·å–å…³èŠ‚å½“å‰ä½ç½®(è§’åº¦)</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>joint_pos</code>=[j1,j2,j3,j4,j5,j6]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">error, joint_deg = robot.GetActualJointPosDegree()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å…³èŠ‚ä½ç½® (è§’åº¦)&quot;</span>, joint_deg)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰è·å–å½“å‰å…³èŠ‚ä½ç½®(å¼§åº¦)</strong></p><p><code>GetActualJointPosRadian(flag = 1)</code>ï¼šè·å–å…³èŠ‚å½“å‰ä½ç½®(å¼§åº¦)</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>joint_pos</code> =[j1,j2,j3,j4,j5,j6]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">error, joint_rad = robot.GetActualJointPosRadian()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å…³èŠ‚ä½ç½® (è§’åº¦)&quot;</span>, joint_rad)</span><br></pre></td></tr></table></figure><h3 id="2-5-2-è·å–å…³èŠ‚åé¦ˆé€Ÿåº¦">2.5.2 è·å–å…³èŠ‚åé¦ˆé€Ÿåº¦</h3><p><code>GetActualJointSpeedsDegree(flag = 1 )</code>ï¼šè·å–å…³èŠ‚åé¦ˆé€Ÿåº¦ï¼ˆdeg/sï¼‰ï¼ˆå®é™…é€Ÿåº¦ï¼‰</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>speed</code>=[j1,j2,j3,j4,j5,j6]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetActualJointSpeedsDegree()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å…³èŠ‚åé¦ˆé€Ÿåº¦-deg/s&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-5-3-è·å–å·¥å…·åæ ‡ç³»é€Ÿåº¦">2.5.3 è·å–å·¥å…·åæ ‡ç³»é€Ÿåº¦</h3><p><strong>ï¼ˆ1ï¼‰TCP æŒ‡ä»¤åˆé€Ÿåº¦</strong></p><p><code>GetTargetTCPCompositeSpeed(flag = 1)</code>ï¼šè·å– TCP æŒ‡ä»¤åˆé€Ÿåº¦ï¼ˆæœŸæœ›é€Ÿåº¦ï¼‰</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>[tcp_speed,ori_speed]</code>ï¼štcp_speed çº¿æ€§åˆé€Ÿåº¦ï¼Œori_speed å§¿æ€åˆé€Ÿåº¦</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetTargetTCPCompositeSpeed()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–TCPæŒ‡ä»¤åˆé€Ÿåº¦&quot;</span>, ret)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰TCP åé¦ˆåˆé€Ÿåº¦</strong></p><p><code>GetActualTCPCompositeSpeed(flag = 1)</code>ï¼šè·å–TCPåé¦ˆåˆé€Ÿåº¦ï¼ˆå®é™…é€Ÿåº¦ï¼‰</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>[tcp_speed,ori_speed]</code>ï¼štcp_speed çº¿æ€§åˆé€Ÿåº¦ï¼Œori_speed å§¿æ€åˆé€Ÿåº¦</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetActualTCPCompositeSpeed()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–TCPåé¦ˆåˆé€Ÿåº¦&quot;</span>, ret)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰TCP æŒ‡ä»¤é€Ÿåº¦</strong></p><p><code>GetTargetTCPSpeed(flag = 1)</code>ï¼šè·å– TCP æŒ‡ä»¤é€Ÿåº¦ï¼ˆæœŸæœ›é€Ÿåº¦ï¼‰</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>speed</code>ï¼š[x,y,z,rx,ry,rz]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetTargetTCPSpeed()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–TCPæŒ‡ä»¤é€Ÿåº¦&quot;</span>, ret)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ4ï¼‰TCP åé¦ˆé€Ÿåº¦</strong></p><p><code>GetActualTCPSpeed(flag = 1)</code>ï¼šè·å– TCP åé¦ˆé€Ÿåº¦</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>speed</code>ï¼š[x,y,z,rx,ry,rz]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetActualTCPSpeed()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–TCPåé¦ˆé€Ÿåº¦&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-5-4-è·å–å·¥å…·ä½å§¿">2.5.4 è·å–å·¥å…·ä½å§¿</h3><p><code>GetActualTCPPose(flag = 1)</code>ï¼šè·å–å½“å‰å·¥å…·ä½å§¿</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>tcp_pose</code>=[x,y,z,rx,ry,rz]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetActualTCPPose()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å·¥å…·ä½å§¿&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-5-5-è·å–æœ«ç«¯æ³•å…°ä½å§¿">2.5.5 è·å–æœ«ç«¯æ³•å…°ä½å§¿</h3><p><code>GetActualToolFlangePose(flag = 1)</code>ï¼šè·å–å½“å‰æœ«ç«¯æ³•å…°ä½å§¿</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>flange_pose</code>=[x,y,z,rx,ry,rz]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetActualToolFlangePose()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰æœ«ç«¯æ³•å…°ä½å§¿&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-5-6-è·å–å…³èŠ‚è½¬çŸ©">2.5.6 è·å–å…³èŠ‚è½¬çŸ©</h3><p><code>GetJointTorques(flag = 1)</code>ï¼šè·å–å½“å‰å…³èŠ‚è½¬çŸ©</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤ 1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>torques</code>=[j1,j2,j3,j4,j5,j6]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetJointTorques()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰å…³èŠ‚è½¬çŸ©&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-5-7-è·å–å…³èŠ‚è½¯é™ä½">2.5.7 è·å–å…³èŠ‚è½¯é™ä½</h3><p><code>GetJointSoftLimitDeg(flag = 1)</code>ï¼šè·å–å…³èŠ‚è½¯é™ä½è§’åº¦</p><ul><li>å‚æ•°<ul><li><code>flag</code>ï¼š0-é˜»å¡ï¼Œ1-éé˜»å¡ é»˜è®¤ 1</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>[j1min,j1max,j2min,j2max,j3min,j3max, j4min,j4max,j5min, j5max, j6min,j6max]</code>: è½´ 1~ è½´ 6 å…³èŠ‚è´Ÿé™ä½ä¸æ­£é™ä½ï¼Œå•ä½ [mm]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetJointSoftLimitDeg()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å…³èŠ‚è½¯é™ä½è§’åº¦&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-5-8-æŸ¥è¯¢æœºå™¨äººè¿åŠ¨æ˜¯å¦å®Œæˆ">2.5.8 æŸ¥è¯¢æœºå™¨äººè¿åŠ¨æ˜¯å¦å®Œæˆ</h3><p><code>GetRobotMotionDone()</code>ï¼šæŸ¥è¯¢æœºå™¨äººè¿åŠ¨æ˜¯å¦å®Œæˆ</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>state</code>ï¼š0-æœªå®Œæˆï¼Œ1-å®Œæˆ</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">ret = robot.GetRobotMotionDone()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥è¯¢æœºå™¨äººè¿åŠ¨æ˜¯å¦å®Œæˆ&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-5-9-è·å–-DH-å‚æ•°">2.5.9 è·å– DH å‚æ•°</h3><p><code>GetDHCompensation()</code>ï¼šè·å– DH è¡¥å¿å‚æ•°</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>[cmpstD1,cmpstA2,cmpstA3,cmpstD4,cmpstD5,cmpstD6]</code>ï¼šdhCompensation æœºå™¨äºº DH å‚æ•°è¡¥å¿å€¼(mm)</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">error = robot.GetDHCompensation()</span><br><span class="line"><span class="built_in">print</span>(error)</span><br></pre></td></tr></table></figure><h2 id="2-6-æœºå™¨äººè¿åŠ¨å­¦">2.6 æœºå™¨äººè¿åŠ¨å­¦</h2><h3 id="2-6-1-æ­£è¿åŠ¨å­¦æ±‚è§£">2.6.1 æ­£è¿åŠ¨å­¦æ±‚è§£</h3><p><code>GetForwardKin(joint_pos)</code>ï¼šæ­£è¿åŠ¨å­¦ï¼Œå…³èŠ‚ä½ç½®æ±‚è§£å·¥å…·ä½å§¿</p><ul><li>å‚æ•°<ul><li><code>joint_pos</code>:[j1,j2,j3,j4,j5,j6]:å…³èŠ‚ä½ç½®ï¼Œå•ä½[Â°]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>desc_pos</code>=[x,y,z,rx,ry,rz]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">J1=[<span class="number">95.442</span>,-<span class="number">101.149</span>,-<span class="number">98.699</span>,-<span class="number">68.347</span>,<span class="number">90.580</span>,-<span class="number">47.174</span>]</span><br><span class="line">ret = robot.GetForwardKin(J1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ­£è¿åŠ¨å­¦ï¼Œå…³èŠ‚ä½ç½®æ±‚è§£å·¥å…·ä½å§¿&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h3 id="2-6-2-é€†è¿åŠ¨å­¦">2.6.2 é€†è¿åŠ¨å­¦</h3><p><strong>ï¼ˆ1ï¼‰é€†è¿åŠ¨å­¦æ±‚è§£</strong></p><p><code>GetInverseKin(type,desc_pos,config)</code>ï¼šé€†è¿åŠ¨å­¦ï¼Œç¬›å¡å°”ä½å§¿æ±‚è§£å…³èŠ‚ä½ç½®</p><ul><li>å‚æ•°<ul><li><code>type</code>:0-ç»å¯¹ä½å§¿(åŸºåæ ‡ç³»)ï¼Œ1-ç›¸å¯¹ä½å§¿ï¼ˆåŸºåæ ‡ç³»ï¼‰ï¼Œ2-ç›¸å¯¹ä½å§¿ï¼ˆå·¥å…·åæ ‡ç³»ï¼‰</li><li><code>desc_pose</code>:[x,y,z,rx,ry,rz],å·¥å…·ä½å§¿ï¼Œå•ä½[mm][Â°]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>joint_pos</code>=[j1,j2,j3,j4,j5,j6]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">J1=[<span class="number">95.442</span>,-<span class="number">101.149</span>,-<span class="number">98.699</span>,-<span class="number">68.347</span>,<span class="number">90.580</span>,-<span class="number">47.174</span>]</span><br><span class="line">P1=[<span class="number">75.414</span>,<span class="number">568.526</span>,<span class="number">338.135</span>,-<span class="number">178.348</span>,-<span class="number">0.930</span>,<span class="number">52.611</span>]</span><br><span class="line">ret = robot.GetInverseKin(<span class="number">0</span>,P1,config=-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;é€†è¿åŠ¨å­¦ï¼Œç¬›å¡å°”ä½å§¿æ±‚è§£å…³èŠ‚ä½ç½®&quot;</span>, ret)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰é€†è¿åŠ¨å­¦æ±‚è§£ï¼ˆæŒ‡å®šå‚è€ƒä½ç½®ï¼‰</strong></p><p><code>GetInverseKinRef(type,desc_pos,joint_pos_ref)</code>ï¼šé€†è¿åŠ¨å­¦ï¼Œå·¥å…·ä½å§¿æ±‚è§£å…³èŠ‚ä½ç½®ï¼Œå‚è€ƒæŒ‡å®šå…³èŠ‚ä½ç½®æ±‚è§£</p><ul><li>å‚æ•°<ul><li><code>type</code>:0-ç»å¯¹ä½å§¿(åŸºåæ ‡ç³»)ï¼Œ1-ç›¸å¯¹ä½å§¿ï¼ˆåŸºåæ ‡ç³»ï¼‰ï¼Œ2-ç›¸å¯¹ä½å§¿ï¼ˆå·¥å…·åæ ‡ç³»ï¼‰</li><li><code>desc_pos</code>ï¼š[x,y,z,rx,ry,rz]å·¥å…·ä½å§¿ï¼Œå•ä½[mm][Â°]</li><li><code>joint_pos_ref</code>ï¼š[j1,j2,j3,j4,j5,j6]ï¼Œå…³èŠ‚å‚è€ƒä½ç½®ï¼Œå•ä½[Â°]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>joint_pos</code> =[j1,j2,j3,j4,j5,j6]</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">J1=[<span class="number">95.442</span>,-<span class="number">101.149</span>,-<span class="number">98.699</span>,-<span class="number">68.347</span>,<span class="number">90.580</span>,-<span class="number">47.174</span>]</span><br><span class="line">P1=[<span class="number">75.414</span>,<span class="number">568.526</span>,<span class="number">338.135</span>,-<span class="number">178.348</span>,-<span class="number">0.930</span>,<span class="number">52.611</span>]</span><br><span class="line">ret = robot.GetInverseKinRef(<span class="number">0</span>,P1,J1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;é€†è¿åŠ¨å­¦ï¼Œå·¥å…·ä½å§¿æ±‚è§£å…³èŠ‚ä½ç½®ï¼Œå‚è€ƒæŒ‡å®šå…³èŠ‚ä½ç½®æ±‚è§£&quot;</span>, ret)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰é€†è¿åŠ¨å­¦æ±‚è§£ï¼ˆåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼‰</strong></p><p><code>GetInverseKinHasSolution(type,desc_pos,joint_pos_ref)</code>ï¼šé€†è¿åŠ¨å­¦ï¼Œå·¥å…·ä½å§¿æ±‚è§£å…³èŠ‚ä½ç½® æ˜¯å¦æœ‰è§£</p><ul><li>å‚æ•°<ul><li><code>type</code>:0-ç»å¯¹ä½å§¿(åŸºåæ ‡ç³»)ï¼Œ1-ç›¸å¯¹ä½å§¿ï¼ˆåŸºåæ ‡ç³»ï¼‰ï¼Œ2-ç›¸å¯¹ä½å§¿ï¼ˆå·¥å…·åæ ‡ç³»ï¼‰</li><li><code>desc_pos</code>ï¼š[x,y,z,rx,ry,rz]å·¥å…·ä½å§¿ï¼Œå•ä½[mm][Â°]</li><li><code>joint_pos_ref</code>ï¼š[j1,j2,j3,j4,j5,j6]ï¼Œå…³èŠ‚å‚è€ƒä½ç½®ï¼Œå•ä½[Â°]</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>result</code>ï¼šâ€œTrueâ€-æœ‰è§£ï¼Œâ€œFalseâ€-æ— è§£</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">J1=[<span class="number">95.442</span>,-<span class="number">101.149</span>,-<span class="number">98.699</span>,-<span class="number">68.347</span>,<span class="number">90.580</span>,-<span class="number">47.174</span>]</span><br><span class="line">P1=[<span class="number">75.414</span>,<span class="number">568.526</span>,<span class="number">338.135</span>,-<span class="number">178.348</span>,-<span class="number">0.930</span>,<span class="number">52.611</span>]</span><br><span class="line">ret = robot.GetInverseKinHasSolution(<span class="number">0</span>,P1,J1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;é€†è¿åŠ¨å­¦ï¼Œå·¥å…·ä½å§¿æ±‚è§£å…³èŠ‚ä½ç½®æ˜¯å¦æœ‰è§£&quot;</span>, ret)</span><br></pre></td></tr></table></figure><h2 id="2-7-å¤¹çˆªé…ç½®">2.7 å¤¹çˆªé…ç½®</h2><h3 id="2-7-1-å¤¹çˆªé…ç½®">2.7.1 å¤¹çˆªé…ç½®</h3><p><strong>ï¼ˆ1ï¼‰è·å–å¤¹çˆªé…ç½®</strong></p><p><code>GetGripperConfig()</code>ï¼šè·å–å¤¹çˆªé…ç½®</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>[number,company,device,softversion]</code>ï¼šnumberï¼ˆå¤¹çˆªç¼–å·ï¼ŒèŒƒå›´[1]ï¼‰ï¼›companyï¼ˆå¤¹çˆªå‚å•†ï¼Œ1-Robotiqï¼Œ2-æ…§çµï¼Œ3-å¤©æœºï¼Œ4-å¤§å¯°ï¼Œ5-çŸ¥è¡Œï¼‰ï¼›deviceï¼ˆè®¾å¤‡å·ï¼ŒRobotiq(0-2F-85ç³»åˆ—)ï¼Œæ…§çµ(0-NKç³»åˆ—,1-Z-EFG-100)ï¼Œ å¤©æœº(0-TEG-110)ï¼Œå¤§å¯°(0-PGI-140)ï¼ŒçŸ¥è¡Œ(0-CTPM2F20)ï¼‰; softvesionï¼ˆè½¯ä»¶ç‰ˆæœ¬å·ï¼Œæš‚ä¸ä½¿ç”¨ï¼Œé»˜è®¤ä¸º0ï¼‰;</li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰é…ç½®å¤¹çˆª</strong></p><p><code>SetGripperConfig(company,device,softversion,bus)</code>ï¼šé…ç½®å¤¹çˆª</p><ul><li>å‚æ•°<ul><li><code>company</code>ï¼šå¤¹çˆªå‚å•†ï¼Œ1-Robotiqï¼Œ2-æ…§çµï¼Œ3-å¤©æœºï¼Œ4-å¤§å¯°ï¼Œ5-çŸ¥è¡Œï¼›</li><li><code>device</code>ï¼šè®¾å¤‡å·ï¼ŒRobotiq(0-2F-85ç³»åˆ—)ï¼Œæ…§çµ(0-NKç³»åˆ—,1-Z-EFG-100)ï¼Œå¤©æœº(0-TEG-110)ï¼Œå¤§å¯°(0-PGI-140)ï¼ŒçŸ¥è¡Œ(0-CTPM2F20)</li><li><code>softversion</code>ï¼šè½¯ä»¶ç‰ˆæœ¬å·ï¼Œæš‚ä¸ä½¿ç”¨ï¼Œé»˜è®¤ä¸º0ï¼›</li><li><code>bus</code>ï¼šè®¾å¤‡æŒ‚è½½æœ«ç«¯æ€»çº¿ä½ç½®ï¼Œæš‚ä¸ä½¿ç”¨ï¼Œé»˜è®¤ä¸º0ï¼›</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><h3 id="2-7-2-å¤¹çˆªæ§åˆ¶">2.7.2 å¤¹çˆªæ§åˆ¶</h3><blockquote><p>æµ‹è¯•å‘ç°è‹¥å¤¹çˆªè¿æ¥åœ¨æœºæ¢°è‡‚ä¸Šï¼Œæ§åˆ¶ç›’é›†æˆçš„å¤¹çˆªæ§åˆ¶ä¸æœºæ¢°è‡‚æœ¬ä½“ä¼ºæœæ§åˆ¶ä¼šå­˜åœ¨ç¨‹åºé˜»å¡ï¼Œæ— æ³•åŒæ—¶ä½¿ç”¨<br>è€ƒè™‘å¤¹çˆªç›´æ¥è¿æ¥ç”µè„‘ï¼Œé€šè¿‡ RS485 æ§åˆ¶æœºæ¢°è‡‚ã€‚</p></blockquote><p><strong>ï¼ˆ1ï¼‰æ¿€æ´»å¤¹çˆª</strong></p><p><code>ActGripper(index,action)</code>ï¼šæ¿€æ´»å¤¹çˆª</p><ul><li>å‚æ•°<ul><li><code>index</code>:å¤¹çˆªç¼–å·ï¼›</li><li><code>action</code>:0-å¤ä½ï¼Œ1-æ¿€æ´»</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰æ§åˆ¶å¤¹çˆª</strong></p><p><code>MoveGripper(index,pos,speed,force,maxtime,block)</code>ï¼šæ§åˆ¶å¤¹çˆª</p><ul><li>å‚æ•°<ul><li><code>index</code>:å¤¹çˆªç¼–å·ï¼›</li><li><code>pos</code>:ä½ç½®ç™¾åˆ†æ¯”ï¼ŒèŒƒå›´[0~100]ï¼›</li><li><code>speed</code>:é€Ÿåº¦ç™¾åˆ†æ¯”ï¼ŒèŒƒå›´[0~100];</li><li><code>force</code>:åŠ›çŸ©ç™¾åˆ†æ¯”ï¼ŒèŒƒå›´[0~100]ï¼›</li><li><code>maxtime</code>:æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ŒèŒƒå›´[0~30000]ï¼Œå•ä½[ms]ï¼›</li><li><code>block</code>:0-é˜»å¡ï¼Œ1-éé˜»å¡ã€‚</li></ul></li><li>è¿”å›<ul><li>é”™è¯¯ç </li></ul></li></ul><p><strong>ï¼ˆ3ï¼‰è·å–å¤¹çˆªè¿åŠ¨çŠ¶æ€</strong></p><p><code>GetGripperMotionDone()</code>ï¼šè·å–å¤¹çˆªè¿åŠ¨çŠ¶æ€</p><ul><li>å‚æ•°</li><li>è¿”å›<ul><li>é”™è¯¯ç </li><li><code>[fault,status]</code>ï¼šfaultï¼ˆ0-æ— é”™è¯¯ï¼Œ1-æœ‰é”™è¯¯ï¼‰ï¼Œstatusï¼ˆ0-è¿åŠ¨æœªå®Œæˆï¼Œ1-è¿åŠ¨å®Œæˆï¼‰</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fairino <span class="keyword">import</span> Robot</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ä¸æœºå™¨äººæ§åˆ¶å™¨å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸè¿”å›ä¸€ä¸ªæœºå™¨äººå¯¹è±¡</span></span><br><span class="line">robot = Robot.RPC(<span class="string">&#x27;192.168.58.2&#x27;</span>)</span><br><span class="line">desc_pos1=[-<span class="number">333.683</span>,-<span class="number">228.968</span>,<span class="number">404.329</span>,-<span class="number">179.138</span>,-<span class="number">0.781</span>,<span class="number">91.261</span>]</span><br><span class="line">desc_pos2=[-<span class="number">333.683</span>,-<span class="number">100.8</span>,<span class="number">404.329</span>,-<span class="number">179.138</span>,-<span class="number">0.781</span>,<span class="number">91.261</span>]</span><br><span class="line">zlength1 =<span class="number">10</span></span><br><span class="line">zlength2 =<span class="number">15</span></span><br><span class="line">zangle1 =<span class="number">10</span></span><br><span class="line">zangle2 =<span class="number">15</span></span><br><span class="line"><span class="comment">#æµ‹è¯•å¤–è®¾æŒ‡ä»¤</span></span><br><span class="line">ret = robot.SetGripperConfig(<span class="number">4</span>,<span class="number">0</span>)  <span class="comment">#é…ç½®å¤¹çˆª</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;é…ç½®å¤¹çˆªé”™è¯¯ç &quot;</span>, ret)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">config = robot.GetGripperConfig()     <span class="comment">#è·å–å¤¹çˆªé…ç½®</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å¤¹çˆªé…ç½®&quot;</span>,config)</span><br><span class="line">error = robot.ActGripper(<span class="number">1</span>,<span class="number">0</span>)  <span class="comment">#æ¿€æ´»å¤¹çˆª</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ¿€æ´»å¤¹çˆªé”™è¯¯ç &quot;</span>,error)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">error = robot.ActGripper(<span class="number">1</span>,<span class="number">1</span>)<span class="comment">#æ¿€æ´»å¤¹çˆª</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ¿€æ´»å¤¹çˆªé”™è¯¯ç &quot;</span>,error)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line">error = robot.MoveGripper(<span class="number">1</span>,<span class="number">100</span>,<span class="number">48</span>,<span class="number">46</span>,<span class="number">30000</span>,<span class="number">0</span>) <span class="comment">#æ§åˆ¶å¤¹çˆª</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ§åˆ¶å¤¹çˆªé”™è¯¯ç &quot;</span>,error)</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">error = robot.MoveGripper(<span class="number">1</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">30000</span>,<span class="number">0</span>) <span class="comment">#æ§åˆ¶å¤¹çˆª</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ§åˆ¶å¤¹çˆªé”™è¯¯ç &quot;</span>,error)</span><br><span class="line">error = robot.GetGripperMotionDone() <span class="comment">#è·å–å¤¹çˆªè¿åŠ¨çŠ¶æ€</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è·å–å¤¹çˆªè¿åŠ¨çŠ¶æ€é”™è¯¯ç &quot;</span>,error)</span><br></pre></td></tr></table></figure><h1>ä¸‰ã€å¤§å¯° AG95 å¤¹çˆªä½¿ç”¨</h1><h2 id="3-1-RS385-æ§åˆ¶æ¥å£">3.1 RS385 æ§åˆ¶æ¥å£</h2><h3 id="3-1-1-RS485-é»˜è®¤é…ç½®">3.1.1 RS485 é»˜è®¤é…ç½®</h3><table><thead><tr><th>å‚æ•°</th><th>é»˜è®¤</th></tr></thead><tbody><tr><td>å¤¹çˆªID</td><td>1</td></tr><tr><td>æ³¢ç‰¹ç‡</td><td>115200</td></tr><tr><td>æ•°æ®ä½</td><td>8</td></tr><tr><td>åœæ­¢ä½</td><td>1</td></tr><tr><td>æ ¡éªŒä½</td><td>æ— </td></tr></tbody></table><h3 id="3-1-2-å‘½ä»¤æ ¼å¼">3.1.2 å‘½ä»¤æ ¼å¼</h3><p>ä»¥åˆå§‹åŒ–æŒ‡ä»¤ <code>01 06 01 00 00 01 49 F6</code> ä¸ºä¾‹ï¼š</p><table><thead><tr><th>åœ°å€ç </th><th>åŠŸèƒ½ç </th><th>å¯„å­˜å™¨åœ°å€</th><th>å¯„å­˜å™¨æ•°æ®</th><th>CRC æ ¡éªŒç </th></tr></thead><tbody><tr><td>01</td><td>06</td><td>01 00</td><td>00 01</td><td>49 F6</td></tr></tbody></table><ul><li>åœ°å€ç ï¼šè¡¨ç¤ºå¤¹çˆªçš„ID å·ï¼Œé»˜è®¤æ˜¯ 1ï¼›</li><li>åŠŸèƒ½ç ï¼šæè¿°è¯»å†™æ“ä½œï¼Œ03ï¼ˆè¯»å–å¯„å­˜å™¨ï¼‰ï¼Œ06ï¼ˆå†™å…¥å¯„å­˜å™¨ï¼‰ï¼›</li><li>å¯„å­˜å™¨åœ°å€ï¼šå¤¹çˆªåŠŸèƒ½å¯¹åº”åœ°å€ï¼›</li><li>å¯„å­˜å™¨æ•°æ®ï¼šå†™å…¥æ•°æ®åˆ°å…·ä½“çš„å¯„å­˜å™¨åœ°å€ï¼›</li><li>CRC æ ¡éªŒç ï¼šæ ¹æ®å‰é¢çš„æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå‚è€ƒ <a href="http://www.ip33.com/crc.html">http://www.ip33.com/crc.html</a></li></ul><h3 id="3-1-3-åˆå§‹åŒ–å¤¹çˆª">3.1.3 åˆå§‹åŒ–å¤¹çˆª</h3><p><strong>åˆå§‹åŒ–</strong>ï¼š</p><p><code>01 06 01 00 00 01 49 F6</code>ï¼šå›é›¶ä½ï¼ˆè¿è¡Œåˆ°å¼ å¼€æé™ä½ç½®ï¼‰<br><code>01 06 01 00 00 A5 48 4D</code>ï¼šé‡æ–°æ ‡å®š+å›é›¶ç‚¹ï¼ˆå…ˆå…³é—­å¤¹çˆªï¼Œå†æ‰“å¼€å¤¹çˆªï¼Œè®°å½•æ€»è¡Œç¨‹æ ‡å®šï¼‰</p><p><strong>å«ä¹‰</strong>ï¼š</p><ul><li><code>01</code>ï¼šå¤¹çˆªç¼–å·</li><li><code>06</code>ï¼šå†™å…¥å¯„å­˜å™¨</li><li><code>01 00</code>ï¼šå¤¹çˆªåˆå§‹åŒ–å¯„å­˜å™¨</li><li><code>00 01</code> / <code>00 A5</code>ï¼šåˆå§‹åŒ–æŒ‡ä»¤</li><li><code>49 F6</code> / <code>48 4D</code>ï¼šæ ¡éªŒç </li></ul><p><strong>åˆå§‹åŒ–çŠ¶æ€åé¦ˆ</strong>ï¼šè·å–æ˜¯å¦è¿›è¡Œäº†åˆå§‹åŒ–</p><p>å‘é€ï¼š<code>01 03 02 00 00 01 85 B2</code></p><ul><li><code>01</code>ï¼šå¤¹çˆªç¼–å·</li><li><code>03</code>ï¼šè¯»å–å¯„å­˜å™¨</li><li><code>02 00</code>ï¼šåˆå§‹åŒ–çŠ¶æ€åé¦ˆå¯„å­˜å™¨</li><li><code>00 01</code>ï¼šåˆå§‹åŒ–çŠ¶æ€åé¦ˆæŒ‡ä»¤</li><li><code>85 B2</code>ï¼šæ ¡éªŒç </li></ul><p>è¿”å›ï¼š<code>01 03 02 00 00 B8 44</code></p><ul><li><code>00 00</code>ï¼šæœªåˆå§‹åŒ–ï¼Œå¦‚æœæ˜¯ 1 åˆ™åˆå§‹åŒ–æˆåŠŸï¼Œå¦‚æœæ˜¯ 2 åˆ™åˆå§‹åŒ–ä¸­ã€‚</li></ul><h3 id="3-1-3-å¤¹çˆªä½ç½®æ§åˆ¶">3.1.3 å¤¹çˆªä½ç½®æ§åˆ¶</h3><p><strong>è®¾ç½®ä½ç½®</strong>ï¼šè®¾ç½®å¤¹çˆªä½ç½®ï¼Œå¯ä»¥å†™å…¥ 0-1000ï¼Œä»£è¡¨å¼€åˆç¨‹åº¦ç™¾åˆ†æ¯”ï¼Œå¯¹åº” 16 è¿›åˆ¶ä¸º <code>00 00 - 03 E8</code></p><p><code>01 06 01 03 01 F4 78 21</code>ï¼šè®¾ç½®å¤¹çˆªä½ç½® 500ã€‚</p><ul><li><code>01</code>ï¼šå¤¹çˆªç¼–å·</li><li><code>06</code>ï¼šå†™å…¥å¯„å­˜å™¨</li><li><code>01 03</code>ï¼šå¤¹çˆªä½ç½®å¯„å­˜å™¨</li><li><code>01 F4</code>ï¼šè®¾ç½®å¤¹çˆªä½ç½®ä¸º 500</li><li><code>78 21</code>ï¼šæ ¡éªŒç </li></ul><p><strong>è¯»å–è®¾å®šä½ç½®</strong>ï¼šè¯»å–è®¾ç½®çš„ä½ç½®</p><p>å‘é€ï¼š<code>01 03 01 03 00 01 75 F6</code></p><ul><li><code>01</code>ï¼šå¤¹çˆªç¼–å·</li><li><code>03</code>ï¼šè¯»å–å¯„å­˜å™¨</li><li><code>01 03</code>ï¼šå¤¹çˆªä½ç½®å¯„å­˜å™¨</li><li><code>00 01</code>ï¼šè¯»å–è®¾å®šä½ç½®æŒ‡ä»¤</li><li><code>75 F6</code>ï¼šæ ¡éªŒç </li></ul><p>è¿”å›ï¼š<code>01 03 02 xx xx crc1 crc2</code></p><ul><li><code>xx xx</code>ï¼š16 è¿›åˆ¶å¤¹çˆªä½ç½®ï¼Œå¯¹åº” 0-1000 å¤¹çˆªå¼€åˆç¨‹åº¦ç™¾åˆ†æ¯”</li></ul><p><strong>è¯»å–å®æ—¶ä½ç½®</strong>ï¼šè¯»å–å¤¹çˆªå®æ—¶ä½ç½®</p><p>å‘é€ï¼š<code>01 03 02 02 00 01 24 72</code></p><ul><li><code>01</code>ï¼šå¤¹çˆªç¼–å·</li><li><code>03</code>ï¼šè¯»å–å¯„å­˜å™¨</li><li><code>02 02</code>ï¼šå¤¹çˆªå®æ—¶ä½ç½®å¯„å­˜å™¨</li><li><code>00 01</code>ï¼šè¯»å–å®æ—¶ä½ç½®æŒ‡ä»¤</li><li><code>24 72</code>ï¼šæ ¡éªŒç </li></ul><p>è¿”å›ï¼š<code>01 03 02 xx xx crc1 crc2</code></p><ul><li><code>xx xx</code>ï¼š16 è¿›åˆ¶å¤¹çˆªä½ç½®ï¼Œå¯¹åº” 0-1000 å¤¹çˆªå¼€åˆç¨‹åº¦ç™¾åˆ†æ¯”</li></ul><h3 id="3-1-4-å¤¹çˆªçŠ¶æ€åé¦ˆ">3.1.4 å¤¹çˆªçŠ¶æ€åé¦ˆ</h3><p><strong>è·å–å¤¹çˆªè¿åŠ¨çŠ¶æ€</strong>ï¼šè¯»å–ç›®å‰å¤¹çˆªçš„çŠ¶æ€</p><p>å‘é€ï¼š<code>01 03 02 01 00 01 D4 72</code></p><ul><li><code>01</code>ï¼šå¤¹çˆªç¼–å·</li><li><code>03</code>ï¼šè¯»å–å¯„å­˜å™¨</li><li><code>02 01</code>ï¼šå¤¹çˆªçŠ¶æ€å¯„å­˜å™¨</li><li><code>00 01</code>ï¼šè¯»å–å¤¹çˆªçŠ¶æ€æŒ‡ä»¤</li><li><code>24 72</code>ï¼šæ ¡éªŒç </li></ul><p>è¿”å›ï¼š<code>01 03 02 00 02 39 85</code></p><ul><li><code>00 02</code>ï¼šä»£è¡¨å¤¹ä½ç‰©ä½“</li></ul><blockquote><p>00ï¼šå¤¹çˆªå¤„äºæ­£åœ¨è¿åŠ¨çŠ¶æ€ã€‚<br>01ï¼šå¤¹çˆªåœæ­¢è¿åŠ¨ï¼Œä¸”å¤¹çˆªæœªæ£€æµ‹åˆ°å¤¹åˆ°ç‰©ä½“ã€‚<br>02ï¼šå¤¹çˆªåœæ­¢è¿åŠ¨ï¼Œä¸”å¤¹çˆªæ£€æµ‹åˆ°å¤¹åˆ°ç‰©ä½“ã€‚<br>03ï¼šå¤¹çˆªæ£€æµ‹åˆ°å¤¹ä½ç‰©ä½“åï¼Œå‘ç°ç‰©ä½“æ‰è½ã€‚</p></blockquote><h2 id="3-2-Ubuntu-æ§åˆ¶å¤¹çˆª">3.2 Ubuntu æ§åˆ¶å¤¹çˆª</h2><h3 id="3-2-1-è¿æ¥å¤¹çˆª">3.2.1 è¿æ¥å¤¹çˆª</h3><p><strong>ï¼ˆ1ï¼‰æŸ¥çœ‹å¤¹çˆªä¸²å£</strong></p><p>å‘½ä»¤è¡Œè¾“å…¥ <code>ls -l /dev/ttyUSB*</code>ï¼Œæ­¤æ—¶å¦‚æœæ²¡æœ‰æ’å…¥å…¶å®ƒ usb è®¾å¤‡ï¼Œåˆ™çœ‹ä¸åˆ°è¾“å‡º</p><p>å°† RS485 è½¬ USB è¿æ¥è‡³ç”µè„‘ï¼Œé‡æ–°æ‰§è¡Œ <code>ls -l /dev/ttyUSB*</code> å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°å¤šå‡ºäº†ä¸€ä¸ª <code>/dev/ttyUSB0</code>ï¼Œè¯¥è®¾å¤‡å³ä¸ºå¤¹çˆªçš„ä¸²å£ã€‚</p><p><strong>ï¼ˆ2ï¼‰å›ºå®š ttyUSB ç¼–å·</strong></p><p>é¦–å…ˆå‘½ä»¤è¡Œè¾“å…¥ <code>lsusb</code> æŸ¥çœ‹è®¾å¤‡ IDï¼Œå¯ä»¥æ‹”æ’ä¸€æ¬¡è§‚å¯Ÿå¤šå‡ºæ¥çš„é‚£ä¸€è¡Œå°±æ˜¯å¤¹çˆªè®¾å¤‡ï¼Œä¾‹å¦‚æˆ‘çš„è®¾å¤‡ ID æ˜¯  <code>0403:6001</code>ï¼Œåˆ†åˆ«ä»£è¡¨ <code>idVendor:idProduct</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Bus 001 Device 005: ID 0403:6001 Future Technology Devices International, Ltd FT232 Serial (UART) IC</span><br></pre></td></tr></table></figure><p>ç„¶ååˆ›å»ºå¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š<code>sudo vim /etc/udev/rules.d/usb.rules</code>ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KERNEL==&quot;ttyUSB*&quot;, ATTRS&#123;idVendor&#125;==&quot;0403&quot;, ATTRS&#123;idProduct&#125;==&quot;6001&quot;, MODE:=&quot;0777&quot;, SYMLINK+=&quot;dh_gripper&quot;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­</p><ul><li><code>KERNEL</code>ï¼šä¸ä¿®æ”¹</li><li><code>ATTRS&#123;idVendor&#125;</code>ï¼šå¡«å†™ ID å†’å·å‰çš„éƒ¨åˆ†</li><li><code>ATTRS&#123;idProduct&#125;</code>ï¼šå¡«å†™ ID å†’å·åçš„éƒ¨åˆ†</li><li><code>MODE</code>ï¼šé»˜è®¤è®¾ç½®ä¸º 0777 å³å¯ï¼Œå¯è¯»å¯å†™å¯æ‰§è¡Œ</li><li><code>SYMLINK</code>ï¼šè‡ªå®šä¹‰ï¼Œä¹Ÿå°±æ˜¯æƒ³è¦å°† ttyUSB0 æ”¹æˆä»€ä¹ˆä¸€ä¸ªå›ºå®šçš„åå­—</li></ul><p>é‡å¯ <code>udev</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service udev reload</span><br><span class="line">service udev restart</span><br></pre></td></tr></table></figure><p>é‡æ–°æ’æ‹”è®¾å¤‡ï¼Œç„¶å <code>ls /dev/</code>ï¼Œå°±å¯ä»¥çœ‹åˆ°è‡ªå·±è®¾ç½®çš„ç«¯å£åå‡ºç°ã€‚</p><h3 id="3-2-2-Python-ä¸²å£æ§åˆ¶">3.2.2 Python ä¸²å£æ§åˆ¶</h3><p><strong>ï¼ˆ1ï¼‰å®‰è£…ä¾èµ–</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyserial</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">FR5 æ˜¯ä¸ UR5 æ„å‹ç›¸ä¼¼çš„ 6 è‡ªç”±åº¦æœºæ¢°è‡‚ï¼Œæœ¬æ–‡ä»‹ç»å…¶ Python SDK  çš„åŸºæœ¬è¿åŠ¨æ§åˆ¶æ–¹æ³•ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="å®éªŒè®¾å¤‡" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E5%AE%9E%E9%AA%8C%E8%AE%BE%E5%A4%87/"/>
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="è®¾å¤‡ä½¿ç”¨" scheme="https://www.mahaofei.com/tags/%E8%AE%BE%E5%A4%87%E4%BD%BF%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>Pythonè¯†åˆ«å›¾ç‰‡ä¸­æ–‡å­—å’Œæ•°å­—_easyocr</title>
    <link href="https://www.mahaofei.com/post/easyocr.html"/>
    <id>https://www.mahaofei.com/post/easyocr.html</id>
    <published>2024-04-09T08:43:19.000Z</published>
    <updated>2024-04-09T08:43:19.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>[!abstract]<br>é¡¹ç›®éœ€è¦å®ç°ä¸€ä¸ªè¯†åˆ«å›¾ç‰‡ä¸­æ–‡å­—ã€æ•°å­—çš„å°åŠŸèƒ½ï¼Œå› æ­¤æ‰¾äº†æ¯”è¾ƒå¥½ç”¨çš„å¼€æºåº“ easyocrï¼Œæœ¬æ–‡ä»‹ç»å…¶ä½¿ç”¨æ–¹æ³•ã€‚</p></blockquote><h2 id="EasyOCR-ä»‹ç»">EasyOCR ä»‹ç»</h2><p>EasyOCR æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥ä½¿ç”¨çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨ Github ä¸Šå·²ç»æœ‰ 20k+ çš„ starï¼Œæ”¯æŒ 80 å¤šç§è¯­è¨€çš„è¯†åˆ«ï¼Œç²¾åº¦éå¸¸é«˜ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/JaidedAI/EasyOCR">https://github.com/JaidedAI/EasyOCR</a></p><h2 id="EasyOCR-å®‰è£…">EasyOCR å®‰è£…</h2><p>æ³¨æ„ï¼šæœ¬å®éªŒé»˜è®¤åœ¨ Ubuntu ä¸Šè¿›è¡Œæµ‹è¯•ï¼ŒWindows ç†è®ºä¸Šå¯ä»¥åŒæ ·æ“ä½œã€‚</p><p><strong>ï¼ˆ1ï¼‰ç¯å¢ƒæ­å»º</strong></p><p>ä¸ºäº†é¿å… python åŒ…æ··ä¹±å†²çªï¼Œä¸€èˆ¬å…ˆåˆ›å»ºä¸€ä¸ª conda ç¯å¢ƒï¼Œå‚è€ƒ<a href="https://www.mahaofei.com/post/8543c9d.html">æ­¤æ–‡ç« </a>é…ç½® anacondaã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n easyocr python=3.9</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰å®‰è£… PyTorch</strong></p><p>EasyOCR ä¾èµ–äº PyTorchï¼Œå› æ­¤éœ€è¦åœ¨ç¯å¢ƒä¸­å®‰è£… PyTorchï¼Œæ­¤å¤„ä»¥ 1.12 ç‰ˆæœ¬ä¸ºä¾‹ï¼Œå…¶ä»–ç‰ˆæœ¬çš„å®‰è£…å‘½ä»¤å¯ä»¥ä»<a href="https://pytorch.org/get-started/previous-versions/">æ­¤å¤„</a>æŸ¥çœ‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda activate easyocr</span><br><span class="line">conda install pytorch==1.12.1 torchvision==0.13.1 torchaudio==0.12.1 cudatoolkit=11.6 -c pytorch -c conda-forge</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰å®‰è£… EasyOCR</strong></p><p>å®‰è£… EasyOCR éå¸¸ç®€å•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install easyocr</span><br></pre></td></tr></table></figure><h2 id="EasyOCR-åŸºæœ¬ä½¿ç”¨">EasyOCR åŸºæœ¬ä½¿ç”¨</h2><p>Easy ä½¿ç”¨ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åº“</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> easyocr</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. è·å–å›¾åƒï¼Œæ—¢å¯ä»¥æ˜¯åœ¨çº¿å›¾åƒï¼Œä¹Ÿå¯ä»¥æ˜¯æœ¬åœ°å›¾åƒ</span></span><br><span class="line"><span class="comment"># IMAGE_PATH = &#x27;https://img.mahaofei.com/img/202401011439226.png&#x27;</span></span><br><span class="line">image_path = <span class="string">&#x27;./src/digital_recognition/image/digit/2000-1400-Trans.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. è¯†åˆ«æ–‡å­—</span></span><br><span class="line"><span class="comment"># reader = easyocr.Reader([&#x27;ch_sim&#x27;,&#x27;en&#x27;]) # è¦è¯†åˆ«çš„è¯­è¨€ï¼Œch_simæ˜¯ç®€ä½“ä¸­æ–‡ï¼Œenæ˜¯è‹±æ–‡</span></span><br><span class="line">reader = easyocr.Reader([<span class="string">&#x27;en&#x27;</span>])</span><br><span class="line">result = reader.readtext(image_path)     <span class="comment"># ä¹Ÿå¯ä»¥ä¼ å…¥opencvçš„å›¾åƒå¯¹è±¡(numpyæ•°ç»„)ï¼Œdetailä¸º0è¡¨ç¤ºåªè¿”å›è¯†åˆ«çš„æ–‡å­—ï¼Œä¸º1è¡¨ç¤ºè¿”å›è¯†åˆ«çš„æ–‡å­—å’Œä½ç½®</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ç»˜åˆ¶æ–‡å­—çŸ©å½¢æ¡†å’Œæ–‡å­—</span></span><br><span class="line">image = cv2.imread(image_path)</span><br><span class="line"><span class="keyword">for</span> detection <span class="keyword">in</span> result:</span><br><span class="line">    <span class="comment"># æå–æ–‡å­—æ¡†åæ ‡å’Œè¯†åˆ«ç»“æœ</span></span><br><span class="line">    (bbox, text, prob) = detection</span><br><span class="line">    <span class="comment"># å°†æµ®ç‚¹æ•°åæ ‡è½¬æ¢ä¸ºæ•´æ•°</span></span><br><span class="line">    bbox = np.array(bbox).astype(<span class="built_in">int</span>)</span><br><span class="line">    <span class="comment"># åœ¨å›¾åƒä¸Šç»˜åˆ¶çŸ©å½¢æ¡†</span></span><br><span class="line">    cv2.rectangle(image, (bbox[<span class="number">0</span>][<span class="number">0</span>], bbox[<span class="number">0</span>][<span class="number">1</span>]), (bbox[<span class="number">2</span>][<span class="number">0</span>], bbox[<span class="number">2</span>][<span class="number">1</span>]), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">    <span class="comment"># åœ¨çŸ©å½¢æ¡†å·¦ä¸Šè§’ç»˜åˆ¶æ–‡å­—å’Œç½®ä¿¡åº¦</span></span><br><span class="line">    text_position = (bbox[<span class="number">0</span>][<span class="number">0</span>], bbox[<span class="number">0</span>][<span class="number">1</span>] - <span class="number">20</span>)</span><br><span class="line">    confidence_position = (bbox[<span class="number">0</span>][<span class="number">0</span>], bbox[<span class="number">0</span>][<span class="number">1</span>] - <span class="number">5</span>)</span><br><span class="line">    cv2.putText(image, text, text_position, cv2.FONT_HERSHEY_SIMPLEX, <span class="number">1</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">    cv2.putText(image, <span class="string">f&quot;Confidence: <span class="subst">&#123;prob:<span class="number">.2</span>f&#125;</span>&quot;</span>, confidence_position, cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line">cv2.imshow(<span class="string">&quot;OCR Result&quot;</span>, image)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/202404101030620.png" alt="image.png"></p>]]></content>
    
    
    <summary type="html">é¡¹ç›®éœ€è¦å®ç°ä¸€ä¸ªè¯†åˆ«å›¾ç‰‡ä¸­æ–‡å­—ã€æ•°å­—çš„å°åŠŸèƒ½ï¼Œå› æ­¤æ‰¾äº†æ¯”è¾ƒå¥½ç”¨çš„å¼€æºåº“easyocrï¼Œæœ¬æ–‡ä»‹ç»å…¶ä½¿ç”¨æ–¹æ³•ã€‚</summary>
    
    
    
    <category term="ç¨‹åºåŸºç¡€" scheme="https://www.mahaofei.com/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/"/>
    
    <category term="ç¼–ç¨‹è¯­è¨€" scheme="https://www.mahaofei.com/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://www.mahaofei.com/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://www.mahaofei.com/tags/Python/"/>
    
    <category term="æ–‡å­—è¯†åˆ«" scheme="https://www.mahaofei.com/tags/%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/"/>
    
  </entry>
  
  <entry>
    <title>ã€è®¾å¤‡ä½¿ç”¨ã€‘omega.7ä¸»æ‰‹é…ç½®ä¸ä½¿ç”¨æ–¹æ³•</title>
    <link href="https://www.mahaofei.com/post/omega7.html"/>
    <id>https://www.mahaofei.com/post/omega7.html</id>
    <published>2024-03-20T10:06:21.000Z</published>
    <updated>2024-03-20T10:06:21.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å®éªŒç¯å¢ƒï¼š<br>Ubuntu 20.04<br>omega.7</p></blockquote><h2 id="ğŸ› ï¸-Linux-ä¸‹ä¸»æ‰‹é…ç½®">ğŸ› ï¸ Linux ä¸‹ä¸»æ‰‹é…ç½®</h2><h3 id="1-SDK-ä¸‹è½½">1. SDK ä¸‹è½½</h3><p>å®˜ç½‘(<a href="https://forcedimension.com/software/sdk">https://forcedimension.com/software/sdk</a>)ä¸‹è½½å¯¹åº”ç‰ˆæœ¬ sdkï¼Œå¹¶è§£å‹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf sdk-3.17.0-linux-x86_64-gcc.tar.gz</span><br></pre></td></tr></table></figure><ul><li><code>\bin</code>ï¼šåŒ…å«ç¤ºä¾‹çš„å¯æ‰§è¡Œç¨‹åºå’Œè¿è¡Œ omega.x æ‰€éœ€çš„äºŒè¿›åˆ¶æ–‡ä»¶</li><li><code>\examples</code>ï¼šåŒ…å«äº†ä¸€äº›æ¼”ç¤ºç¨‹åº</li><li><code>\doc</code>ï¼šæ‰€æœ‰çš„è¯´æ˜æ–‡æ¡£å’Œæ³¨æ„äº‹é¡¹</li><li><code>\lib,\include</code>ï¼šç¼–è¯‘ä½¿ç”¨ Force Dimension SDK æ‰€éœ€è¦çš„åº“</li></ul><h3 id="2-é©±åŠ¨å®‰è£…">2. é©±åŠ¨å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libusb-1.0</span><br></pre></td></tr></table></figure><h3 id="3-åæ ‡ç³»">3. åæ ‡ç³»</h3><p>å¹³ç§»åæ ‡ç³»å¦‚å›¾æ‰€ç¤ºï¼Œå®é™…çš„åŸç‚¹æ˜¯æ•´ä¸ªè®¾å¤‡çš„ä¸­å¿ƒï¼Œæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç‚¹ã€‚</p><p><img src="https://img.mahaofei.com/img/202403201333916.png" alt="image.png"></p><p>æ‰‹è…•çš„æ—‹è½¬æ–¹å‘å¦‚å›¾æ‰€ç¤ºï¼Œèƒ½å¤Ÿå®ç°ç»•ä¸‰ä¸ªè½´çš„æ—‹è½¬ã€‚</p><p><img src="https://img.mahaofei.com/img/202403201333135.png" alt="image.png"></p><p>æ‰‹æŒ‡å¤„å¯ä»¥è¿”å›å¤¹çˆªè§’åº¦ï¼Œè‹¥æ˜¯å³æ‰‹æ“ä½œæ¶‰åŠçš„ omega.7 è®¾å¤‡ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåˆ™è¿”å›ä¸€ä¸ªæ­£è§’åº¦ã€‚</p><p>ä¸‹æ–¹åœ†ç›˜ä¸Šçš„ä¸‰ä¸ªå­”ä½ç”±å·¦åˆ°å³ä¾æ¬¡æ˜¯</p><ul><li>åŠ›æŒ‰é’®</li><li>åŠ› LED</li><li>çŠ¶æ€ LEDï¼ˆç­ä»£è¡¨ç³»ç»Ÿå…³é—­ã€äº®ä»£è¡¨ç³»ç»Ÿå‡†å¤‡å°±ç»ªã€å¿«é€Ÿé—ªçƒä»£è¡¨ç³»ç»Ÿéœ€è¦æ ‡å®šã€ç¼“æ…¢é—ªçƒä»£è¡¨è…•éƒ¨éœ€è¦æ‰‹åŠ¨æ ‡å®šï¼‰</li></ul><h3 id="4-æ ‡å®š">4. æ ‡å®š</h3><p>è®¾å¤‡æ¯æ¬¡å¼€æœºéƒ½éœ€è¦æ ¡å‡†ä¸€æ¬¡ï¼Œæ¥ä¿è¯æœ«ç«¯æ‰§è¡Œå™¨çš„å‡†ç¡®å’Œé‡å¤å®šä½ã€‚</p><p>ä½ç½®æ ¡å‡†ï¼šæ ¡å‡†æ—¶éœ€è¦å°†<strong>æ ¡å‡†æ†æ”¾åœ¨æ ¡å‡†å­”ä¸­</strong>ï¼ˆåœ†ç›˜ä¸­å¿ƒå¤„çš„ç©ºä½ï¼‰ï¼Œè®¾å¤‡æ£€æµ‹åˆ°è¾¾æ ¡å‡†ä½ç½®åè‡ªè¡Œæ ¡å‡†ï¼ŒçŠ¶æ€ LED ä¼šåœæ­¢é—ªçƒã€‚</p><p>å§¿æ€æ ¡å‡†ï¼šä¸ºäº†æ ¡å‡†æ‰‹è…•å…³èŠ‚ï¼Œå¿…é¡»å°†æ‰‹è…•å¤„çš„<strong>ä¸‰ä¸ªæ—‹è½¬è½´</strong>å’Œ<strong>å¤¹çˆªæ§åˆ¶è½´</strong>ç§»åŠ¨åˆ°å„è‡ªçš„<strong>è¡Œç¨‹ç»ˆç‚¹</strong>ï¼Œè®¾å¤‡æ£€æµ‹åˆ°åä¼šè‡ªè¡Œå®Œæˆæ ¡å‡†ã€‚</p><p>è‡ªåŠ¨æ ¡å‡†çš„è¿‡ç¨‹ä¸­ä¸è¦è§¦æ‘¸è®¾å¤‡ï¼Œæ ¡å‡†å®Œæˆå LED åœæ­¢é—ªçƒæ—¶å†ç§»åŠ¨è®¾å¤‡ã€‚</p><h3 id="5-HapticDesk-å¯è§†åŒ–æµ‹è¯•">5. HapticDesk å¯è§†åŒ–æµ‹è¯•</h3><p>æ‰“å¼€ Omega.7 ç”µæºï¼Œå¹¶å®Œæˆæ ‡å®šã€‚</p><p>è¿›å…¥ <code>sdk-3.17.0\bin</code> ç›®å½•ï¼Œä½¿ç”¨ <code>sudo ./HapticDesk</code> å‘½ä»¤å¯åŠ¨å¯è§†åŒ–çª—å£ï¼Œæ“ä½œ Omega.7 ä¸»æ‰‹ç§»åŠ¨ï¼Œå¯ä»¥çœ‹åˆ°ç•Œé¢ä¸Šæ–¹çš„ä½ç½®ã€è½¬è§’ã€å¤¹çˆªè½¬è§’éšä¹‹å˜åŒ–ã€‚</p><p><img src="https://img.mahaofei.com/img/202403201403201.png" alt="image.png"></p><h2 id="ğŸ’»-ç›¸å…³ç¨‹åº">ğŸ’» ç›¸å…³ç¨‹åº</h2><h3 id="1-é…ç½®ç¯å¢ƒ">1. é…ç½®ç¯å¢ƒ</h3><p><strong>åˆ›å»º conda ç¯å¢ƒ</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda create -n omega python=3.8</span><br><span class="line">conda activate omega</span><br><span class="line">python3 -m pip install forcedimension-core numpy</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…åº“</strong></p><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ SDKï¼Œè¿›å…¥ sdk ç›®å½•ï¼Œå¹¶è¿›è¡Œæ‰‹åŠ¨å®‰è£…ï¼ˆæ³¨æ„ç‰ˆæœ¬å·æ˜¯å¦æ­£ç¡®ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cd sdk-3.17.0</span><br><span class="line"></span><br><span class="line">sudo cp include/* /usr/local/include</span><br><span class="line">sudo cp lib/release/*/* /usr/local/lib</span><br><span class="line">sudo chmod 755 /usr/local/lib/libdhd.so.3.17.0</span><br><span class="line">sudo chmod 755 /usr/local/lib/libdrd.so.3.17.0</span><br><span class="line">sudo chmod 755 /usr/local/lib/libdhd.a</span><br><span class="line">sudo chmod 755 /usr/local/lib/libdrd.a</span><br><span class="line">sudo ln -s /usr/local/lib/libdhd.so.3.17.0 /usr/local/lib/libdhd.so</span><br><span class="line">sudo ln -s /usr/local/lib/libdrd.so.3.17.0 /usr/local/lib/libdrd.so</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœéœ€è¦å¸è½½ï¼Œä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo rm /usr/local/include/dhdc.h</span><br><span class="line">sudo rm /usr/local/include/drdc.h</span><br><span class="line">sudo rm /usr/local/lib/libdhd.a</span><br><span class="line">sudo rm /usr/local/lib/libdhd.so.3.17.0</span><br><span class="line">sudo rm /usr/local/lib/libdhd.so</span><br><span class="line">sudo rm /usr/local/lib/libdrd.a</span><br><span class="line">sudo rm /usr/local/lib/libdrd.so.3.17.0</span><br><span class="line">sudo rm /usr/local/lib/libdrd.so</span><br></pre></td></tr></table></figure><p><strong>é…ç½®æƒé™ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®©æ™®é€šç”¨æˆ·è®¿é—® usb è®¾å¤‡ï¼Œç”¨äº ros å’Œ python æ§åˆ¶</strong></p><p>åœ¨ <code>/etc/udev/rules.d/</code> ä¸‹ä¸ºè®¾å¤‡æ·»åŠ  udev è§„åˆ™ã€‚åˆ›å»ºä¸€ä¸ªåä¸º <code>40-haptic-device-udev.rules</code> çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/udev/rules.d/40-haptic-device-udev.rules</span><br></pre></td></tr></table></figure><p>ç„¶åç²˜è´´ä»¥ä¸‹æ¨¡æ¿</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TTR&#123;idVendor&#125;==&quot;&quot;, ATTR&#123;idProduct&#125;==&quot;&quot;, MODE=&quot;0666&quot;, SYMLINK+=&quot;haptic_device_%k&quot;, GROUP=&quot;plugdev&quot;</span><br><span class="line">SUBSYSTEM==&quot;usb&quot;, ACTION==&quot;add&quot;, ENV&#123;DEVTYPE&#125;==&quot;usb_device&quot;, ATTR&#123;idVendor&#125;==&quot;&quot;, ATTR&#123;idProduct&#125;==&quot;&quot;, MODE=&quot;0664&quot;, GROUP=&quot;plugdev&quot;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>lsusb</code> å¯ä»¥æŸ¥çœ‹ä¾›åº”å•† ID å’Œäº§å“ IDï¼Œæ ¼å¼ä¸º <code>idVendor:idProduct</code></p><ul><li>ä½¿ç”¨è®¾å¤‡åç§°ï¼ˆä¸å¸¦ç©ºæ ¼ï¼‰æ›¿æ¢æ‰ <code>SYMLINK+=&quot;haptic_device_%k&quot;</code> ä¸­çš„ <code>haptic_device</code></li><li>åœ¨ <code>ATTR&#123;idVendor&#125;</code> å’Œ <code>ATTR&#123;idProduct&#125;</code> çš„åŒå¼•å·ä¸­å¡«å†™è‡ªå·±çš„ä¾›åº”å•† ID å’Œäº§å“ ID</li></ul><p>ä¿®æ”¹å®Œæˆåçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ATTR&#123;idVendor&#125;==&quot;1451&quot;, ATTR&#123;idProduct&#125;==&quot;0301&quot;, MODE=&quot;0666&quot;, SYMLINK+=&quot;haptic_device_%k&quot;, GROUP=&quot;plugdev&quot;</span><br><span class="line">SUBSYSTEM==&quot;usb&quot;, ACTION==&quot;add&quot;, ENV&#123;DEVTYPE&#125;==&quot;usb_device&quot;, ATTR&#123;idVendor&#125;==&quot;1451&quot;, ATTR&#123;idProduct&#125;==&quot;0301&quot;, MODE=&quot;0664&quot;, GROUP=&quot;plugdev&quot;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°åŠ è½½ udev è§„åˆ™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo udevadm control --reload-rules &amp;&amp; sudo udevadm trigger</span><br></pre></td></tr></table></figure><h3 id="2-åŸºæœ¬ç¨‹åº">2. åŸºæœ¬ç¨‹åº</h3><p>ä½¿ç”¨ä¸‹é¢ç¨‹åºæ‰“å°ä¸»æ‰‹çš„ä½ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import forcedimension_core.containers as containers</span><br><span class="line">import forcedimension_core.dhd as dhd</span><br><span class="line"></span><br><span class="line">dhd.open()</span><br><span class="line">pos = containers.Vec3()</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Equivalent to: dhd.getPosition(out=pos)</span></span><br><span class="line">dhd.direct.getPosition(out=pos)</span><br><span class="line"></span><br><span class="line">print(pos)</span><br></pre></td></tr></table></figure><h3 id="3-ä¸»æ‰‹æ§åˆ¶-mujoco-æœºå™¨äºº">3. ä¸»æ‰‹æ§åˆ¶ mujoco æœºå™¨äºº</h3><figure class="highlight python"><figcaption><span>fold</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gym</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> gym <span class="keyword">import</span> error, spaces</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> diffusion_policy.env.gym_envs</span><br><span class="line"><span class="keyword">from</span> diffusion_policy.env.gym_envs.utils <span class="keyword">import</span> ctrl_set_action, mocap_set_action</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> mujoco_py</span><br><span class="line"><span class="keyword">from</span> diffusion_policy.env.gym_envs <span class="keyword">import</span> rotations</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> scipy.spatial.transform <span class="keyword">import</span> Rotation <span class="keyword">as</span> R</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> forcedimension_core.containers <span class="keyword">as</span> containers</span><br><span class="line"><span class="keyword">import</span> forcedimension_core.dhd <span class="keyword">as</span> dhd</span><br><span class="line"><span class="keyword">import</span> forcedimension_core.drd <span class="keyword">as</span> drd</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ctypes</span><br><span class="line"></span><br><span class="line"><span class="comment">#################### åˆå§‹åŒ–è®¾å¤‡ ####################</span></span><br><span class="line"><span class="comment"># æ‰“å¼€è®¾å¤‡</span></span><br><span class="line">dhd.<span class="built_in">open</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€å˜é‡ï¼Œä½ç½®ã€æ—‹è½¬çŸ©é˜µã€å¤¹çˆªè§’åº¦ã€çº¿é€Ÿåº¦ã€è§’é€Ÿåº¦</span></span><br><span class="line">pos = np.zeros(<span class="number">3</span>)</span><br><span class="line">matrix = np.zeros((<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">gripper_pointer = ctypes.pointer(ctypes.c_double(<span class="number">0.0</span>))</span><br><span class="line">linear_velocity = np.zeros(<span class="number">3</span>)</span><br><span class="line">angular_velocity = np.zeros(<span class="number">3</span>)</span><br><span class="line">euler = np.zeros(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ›æ§é…ç½®</span></span><br><span class="line">devicePosition = np.zeros(<span class="number">3</span>)</span><br><span class="line">deviceRotation = np.zeros((<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">deviceLinearVelocity = np.zeros(<span class="number">3</span>)</span><br><span class="line">deviceAngularVelocity = np.zeros(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">flagHoldPosition = <span class="literal">True</span></span><br><span class="line">flagHoldPositionReady = <span class="literal">True</span></span><br><span class="line">holdPosition = np.zeros(<span class="number">3</span>)</span><br><span class="line">holdRotation = np.zeros((<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">last_display_time = dhd.os_independent.getTime()</span><br><span class="line"></span><br><span class="line"><span class="comment"># # è¿ç»­æ§åˆ¶</span></span><br><span class="line"><span class="comment"># pos_continus = np.zeros(3)</span></span><br><span class="line"><span class="comment"># pos_result = np.zeros(3)</span></span><br><span class="line"><span class="comment"># flag_continus = False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Drd åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">if</span> drd.<span class="built_in">open</span>() &lt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•æ‰“å¼€è®¾å¤‡: &quot;</span> + drd.error())</span><br><span class="line">    dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> drd.isInitialized() <span class="keyword">and</span> drd.autoInit() &lt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•åˆå§‹åŒ–è®¾å¤‡: &quot;</span> + drd.error())</span><br><span class="line">    dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> drd.start() &lt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•å¯åŠ¨è®¾å¤‡: &quot;</span> + drd.error())</span><br><span class="line">    dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> drd.moveToPos(pos, block=<span class="literal">True</span>) &lt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•ç§»åŠ¨åˆ°ä½ç½®: &quot;</span> + drd.error())</span><br><span class="line">    dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> drd.moveToRot(euler, block=<span class="literal">True</span>) &lt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•ç§»åŠ¨åˆ°æ—‹è½¬çŸ©é˜µ: &quot;</span> + drd.error())</span><br><span class="line">    dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> drd.stop(<span class="literal">True</span>) &lt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•åœæ­¢è®¾å¤‡: &quot;</span> + drd.error())</span><br><span class="line">    dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®°å½•ç›¸é‚»åŠ¨ä½œ</span></span><br><span class="line">last_action = np.array([<span class="number">1.17</span>, <span class="number">0.75</span>, <span class="number">0.70</span>, -np.pi, <span class="number">0.</span>, -np.pi/<span class="number">2</span>, <span class="number">0.</span>])</span><br><span class="line">action_list = []</span><br><span class="line"></span><br><span class="line"><span class="comment">#################### å¸¸ç”¨å‡½æ•° ####################</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">quaternion2euler</span>(<span class="params">quaternion</span>):</span><br><span class="line">    r = R.from_quat(quaternion)</span><br><span class="line">    euler = r.as_euler(<span class="string">&#x27;xyz&#x27;</span>, degrees=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> euler</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">euler2quaternion</span>(<span class="params">euler</span>):</span><br><span class="line">    r = R.from_euler(<span class="string">&#x27;xyz&#x27;</span>, euler, degrees=<span class="literal">True</span>)</span><br><span class="line">    quaternion = r.as_quat()</span><br><span class="line">    <span class="keyword">return</span> quaternion</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_env = gym.make(<span class="string">&#x27;PutInDrawer-v0&#x27;</span>)</span><br><span class="line">test_env.reset()</span><br><span class="line"><span class="comment"># obs = test_env.reset()</span></span><br><span class="line"><span class="comment"># episode_acs = []</span></span><br><span class="line"><span class="comment"># episode_obs = []</span></span><br><span class="line"><span class="comment"># episode_info = []</span></span><br><span class="line"><span class="comment"># episode_obs.append(obs)    # å­˜å‚¨åˆå§‹è§‚å¯Ÿå€¼</span></span><br><span class="line"><span class="comment"># idx = 0</span></span><br><span class="line"><span class="comment"># time_step = 0   # è®°å½•æ€»çš„æ—¶é—´æ­¥æ•°</span></span><br><span class="line">i=<span class="number">0</span></span><br><span class="line"><span class="comment"># viewer2 = mujoco_py.MjRenderContextOffscreen(test_env.sim, 0)</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment">######################### è¯»å–è®¾å¤‡çŠ¶æ€ #########################</span></span><br><span class="line">    <span class="comment"># è·å–ä½ç½®ã€æ—‹è½¬çŸ©é˜µ</span></span><br><span class="line">    dhd.getPositionAndOrientationFrame(pos, matrix)</span><br><span class="line">    <span class="comment"># è·å–å¤¹çˆªè§’åº¦</span></span><br><span class="line">    dhd.getGripperAngleDeg(gripper_pointer)</span><br><span class="line">    gripper = gripper_pointer.contents.value</span><br><span class="line">    <span class="comment"># è·å–çº¿é€Ÿåº¦</span></span><br><span class="line">    dhd.getLinearVelocity(linear_velocity)</span><br><span class="line">    <span class="comment"># è·å–è§’é€Ÿåº¦</span></span><br><span class="line">    dhd.getAngularVelocityDeg(angular_velocity)</span><br><span class="line"></span><br><span class="line">    <span class="comment">######################### æ§åˆ¶è®¾å¤‡ä½ç½® #########################</span></span><br><span class="line">    <span class="comment"># è®¾ç½®è®¾å¤‡çŠ¶æ€</span></span><br><span class="line">    devicePosition = pos</span><br><span class="line">    deviceRotation = matrix</span><br><span class="line">    deviceLinearVelocity = linear_velocity</span><br><span class="line">    deviceAngularVelocity = angular_velocity</span><br><span class="line">    deviceForce = np.zeros(<span class="number">3</span>)</span><br><span class="line">    deviceTorque = np.zeros(<span class="number">3</span>)</span><br><span class="line">    deviceGripperForce = <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®åˆšåº¦å’Œé˜»å°¼</span></span><br><span class="line">    Kp = <span class="number">2000.0</span></span><br><span class="line">    Kv = <span class="number">10.0</span></span><br><span class="line">    Kr = <span class="number">5.0</span></span><br><span class="line">    Kw = <span class="number">0.05</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¿æŒè®¾å¤‡ä½ç½®</span></span><br><span class="line">    <span class="keyword">if</span> flagHoldPosition:</span><br><span class="line">        <span class="keyword">if</span> flagHoldPositionReady:</span><br><span class="line">            <span class="comment"># è®¡ç®—åä½œç”¨åŠ›</span></span><br><span class="line">            force = -Kp * (devicePosition - holdPosition) - Kv * deviceLinearVelocity</span><br><span class="line">            <span class="comment"># è®¡ç®—åä½œç”¨åŠ›çŸ©</span></span><br><span class="line">            deltaRotation = np.transpose(deviceRotation) @ holdRotation</span><br><span class="line">            axis, angle = np.zeros(<span class="number">3</span>), <span class="number">0.0</span></span><br><span class="line">            <span class="comment"># è®¡ç®—æ—‹è½¬è½´å’Œè§’åº¦</span></span><br><span class="line">            angle = np.arccos((np.trace(deltaRotation) - <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> angle &gt; <span class="number">1e-6</span>:</span><br><span class="line">                axis = np.array([deltaRotation[<span class="number">2</span>, <span class="number">1</span>] - deltaRotation[<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">                                 deltaRotation[<span class="number">0</span>, <span class="number">2</span>] - deltaRotation[<span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line">                                 deltaRotation[<span class="number">1</span>, <span class="number">0</span>] - deltaRotation[<span class="number">0</span>, <span class="number">1</span>]]) / (<span class="number">2</span> * np.sin(angle))</span><br><span class="line">            torque = deviceRotation @ ((Kr * angle) * axis) - Kw * deviceAngularVelocity</span><br><span class="line"></span><br><span class="line">            <span class="comment"># åŠ ä¸Šæ‰€æœ‰åŠ›</span></span><br><span class="line">            deviceForce = deviceForce + force</span><br><span class="line">            deviceTorque = deviceTorque + torque</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            holdPosition = devicePosition</span><br><span class="line">            holdRotation = deviceRotation</span><br><span class="line">            flagHoldPositionReady = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®è®¾å¤‡åŠ›</span></span><br><span class="line">    MaxTorque = <span class="number">0.3</span></span><br><span class="line">    <span class="keyword">if</span> np.linalg.norm(deviceTorque) &gt; MaxTorque:</span><br><span class="line">        deviceTorque = MaxTorque * deviceTorque / np.linalg.norm(deviceTorque)</span><br><span class="line">    <span class="comment"># dhd.setForceAndTorqueAndGripperForce(deviceForce, deviceTorque, deviceGripperForce)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> dhd.setForceAndTorqueAndGripperForce(np.zeros(<span class="number">3</span>), np.zeros(<span class="number">3</span>), <span class="number">0.0</span>) &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•è®¾ç½®åŠ›å’ŒåŠ›çŸ©: &quot;</span> + dhd.error())</span><br><span class="line">        dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">######################### é”®ç›˜æ§åˆ¶ #########################</span></span><br><span class="line">    <span class="keyword">if</span> dhd.os_independent.kbHit():</span><br><span class="line">        keyboard = dhd.os_independent.kbGet()</span><br><span class="line">        <span class="keyword">if</span> keyboard == <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> keyboard == <span class="string">&#x27;q&#x27;</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‘¨æœŸæ‰“å°è®¾å¤‡çŠ¶æ€ï¼Œå¹¶åˆ·æ–°è¾“å‡º</span></span><br><span class="line">    device_time = dhd.os_independent.getTime()</span><br><span class="line">    <span class="keyword">if</span> device_time - last_display_time &gt; <span class="number">0.1</span>:</span><br><span class="line">        last_display_time = device_time</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Pos (%.3f %.3f %.3f) m | Gripper %.3f deg | Rot (%.3f %.3f %.3f %.3f %.3f %.3f %.3f %.3f %.3f) | Force (%.3f %.3f %.3f) N | Freq %.2f kHz \r&quot;</span> </span><br><span class="line">              % (pos[<span class="number">0</span>], pos[<span class="number">1</span>], pos[<span class="number">2</span>], gripper, matrix[<span class="number">0</span>, <span class="number">0</span>], matrix[<span class="number">0</span>, <span class="number">1</span>], matrix[<span class="number">0</span>, <span class="number">2</span>], matrix[<span class="number">1</span>, <span class="number">0</span>], matrix[<span class="number">1</span>, <span class="number">1</span>], matrix[<span class="number">1</span>, <span class="number">2</span>], matrix[<span class="number">2</span>, <span class="number">0</span>], matrix[<span class="number">2</span>, <span class="number">1</span>], matrix[<span class="number">2</span>, <span class="number">2</span>], deviceForce[<span class="number">0</span>], deviceForce[<span class="number">1</span>], deviceForce[<span class="number">2</span>], dhd.getComFreq()), end=<span class="string">&quot;\r&quot;</span>, flush=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># action = np.array([0, 0., 0, 0., 0., 0., 0.])</span></span><br><span class="line">    <span class="comment"># print(action)</span></span><br><span class="line">    action_pos = pos</span><br><span class="line">    action_matrix = matrix</span><br><span class="line">    action_gripper = gripper</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ä¸»æ‰‹çš„è¿åŠ¨èŒƒå›´æ˜ å°„åˆ°mujocoæœºå™¨äººå·¥ä½œç©ºé—´</span></span><br><span class="line">    <span class="comment"># xä»[-0.05,0.05]æ˜ å°„åˆ°[0.8,1.5]</span></span><br><span class="line">    action_pos[<span class="number">0</span>] = pos[<span class="number">0</span>]*<span class="number">7</span>    <span class="comment"># + 1.15</span></span><br><span class="line">    <span class="comment"># yä»[-0.1,0.1]æ˜ å°„åˆ°[0,1.2]</span></span><br><span class="line">    action_pos[<span class="number">1</span>] = pos[<span class="number">1</span>]*<span class="number">6</span>    <span class="comment"># + 0.6</span></span><br><span class="line">    <span class="comment"># zä»[-0.05,0.1]æ˜ å°„åˆ°[0.4,1.0]</span></span><br><span class="line">    action_pos[<span class="number">2</span>] = pos[<span class="number">2</span>]*<span class="number">4</span>    <span class="comment"># + 0.6</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†æ—‹è½¬çŸ©é˜µè½¬æ¢ä¸ºå››å…ƒæ•°</span></span><br><span class="line">    action_matrix *= <span class="number">0.05</span></span><br><span class="line">    <span class="comment"># ç»•xè½´æ—‹è½¬180åº¦çš„æ—‹è½¬çŸ©é˜µ</span></span><br><span class="line">    matrix_rotation_x_180 = np.array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, -<span class="number">1</span>]])</span><br><span class="line">    <span class="comment"># ç»•zè½´æ—‹è½¬-90åº¦çš„æ—‹è½¬çŸ©é˜µ</span></span><br><span class="line">    matrix_rotation_z_n90 = np.array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="comment"># æ—‹è½¬çŸ©é˜µä¹˜æ³•</span></span><br><span class="line">    action_matrix = np.dot(action_matrix, matrix_rotation_x_180)</span><br><span class="line">    action_matrix = np.dot(action_matrix, matrix_rotation_z_n90)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    action_quat = rotations.mat2quat(action_matrix)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å°†å¤¹çˆªè§’åº¦ä»[0,30](0ä¸ºå¤¹çˆªå…³é—­)ï¼Œå½’ä¸€åŒ–åˆ°[0,1](0ä¸ºå¤¹çˆªæ‰“å¼€)</span></span><br><span class="line">    action_gripper = <span class="built_in">abs</span>((action_gripper - <span class="number">30.0</span>) / <span class="number">30.0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># test_env.sim.step()             # æ‰§è¡Œä¸€æ­¥ä»¿çœŸï¼Œæ¨¡æ‹Ÿç¯å¢ƒä¸­ç‰©ä½“çš„è¿åŠ¨å’Œäº¤äº’</span></span><br><span class="line">    action = np.concatenate([action_pos, action_quat, [action_gripper]])</span><br><span class="line">    test_env.step(action)             <span class="comment"># æ‰§è¡Œä¸€æ­¥ä»¿çœŸï¼Œæ¨¡æ‹Ÿç¯å¢ƒä¸­ç‰©ä½“çš„è¿åŠ¨å’Œäº¤äº’</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># gym æ¸²æŸ“</span></span><br><span class="line">    test_env.render(mode=<span class="string">&quot;human&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–action</span></span><br><span class="line">    action_list.append(action)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># å°†åŠ¨ä½œåˆ—è¡¨è½¬æ¢ä¸ºnumpyæ•°ç»„å¹¶ä¿å­˜ä¸ºæ–‡ä»¶</span></span><br><span class="line">action_list = np.array(action_list)</span><br><span class="line"><span class="comment"># np.save(&quot;data/put_in_drawer/habtic_actions.npy&quot;, action_list)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> drd.close() &lt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•å…³é—­è®¾å¤‡: &quot;</span> + drd.error())</span><br><span class="line">    dhd.os_independent.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nè®¾å¤‡å·²å…³é—­&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">Omega.7è™šæ‹Ÿè§¦è§‰åŠ›åé¦ˆæ“ä½œä¸»æ‰‹çš„é…ç½®å’ŒåŸºæœ¬ç¨‹åºä½¿ç”¨</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="å®éªŒè®¾å¤‡" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E5%AE%9E%E9%AA%8C%E8%AE%BE%E5%A4%87/"/>
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="è®¾å¤‡ä½¿ç”¨" scheme="https://www.mahaofei.com/tags/%E8%AE%BE%E5%A4%87%E4%BD%BF%E7%94%A8/"/>
    
    <category term="æ¨¡ä»¿" scheme="https://www.mahaofei.com/tags/%E6%A8%A1%E4%BB%BF/"/>
    
  </entry>
  
  <entry>
    <title>ã€è®ºæ–‡ç¬”è®°ã€‘ACT ä½¿ç”¨ä½æˆæœ¬ç¡¬ä»¶çš„åŒæ‰‹æ“ä½œæ¨¡ä»¿å­¦ä¹ </title>
    <link href="https://www.mahaofei.com/post/act.html"/>
    <id>https://www.mahaofei.com/post/act.html</id>
    <published>2024-01-05T02:24:38.000Z</published>
    <updated>2024-01-05T02:24:38.000Z</updated>
    
    <content type="html"><![CDATA[<h1>ä¸€ã€è®ºæ–‡ç¬”è®°</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šLearning Fine-Grained Bimanual Manipulation with Low-Cost Hardware<br><strong>ä¸­æ–‡æ ‡é¢˜</strong>ï¼šä½¿ç”¨ä½æˆæœ¬ç¡¬ä»¶å­¦ä¹ ç»†ç²’åº¦åŒæ‰‹æ“ä½œ<br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šStanford University<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šarXiv<br><strong>æ—¶é—´</strong>ï¼š2023<br><strong>ä»£ç </strong>ï¼š<a href="https://github.com/tonyzhaozh/act">https://github.com/tonyzhaozh/act</a></p></blockquote><h2 id="1-1-ç›®æ ‡é—®é¢˜-8">1.1 ç›®æ ‡é—®é¢˜</h2><p>å¯¹äºæœºå™¨äººè€Œè¨€ï¼Œå­¦ä¹ å®ç°ä¸€äº›ç²¾ç»†æ“ä½œæ˜¯è¾ƒä¸ºå›°éš¾çš„ï¼Œå› ä¸ºæ¶‰åŠç²¾ç¡®çš„åŠ›æ§ä»¥åŠé—­ç¯è§†è§‰åé¦ˆï¼Œè¿™æœ‰éœ€è¦å…ˆè¿›çš„æœºå™¨äººï¼Œç²¾ç¡®çš„ä¼ æ„Ÿå™¨å’Œå‡†ç¡®çš„æ ‡å®šã€‚</p><p><strong>èƒ½å¦ä½¿ç”¨ä½æˆæœ¬ã€ä¸ç²¾ç¡®çš„ç¡¬ä»¶æ¥æ‰§è¡Œè¿™äº›ç²¾ç»†çš„æ“ä½œä»»åŠ¡ï¼Ÿ</strong></p><h2 id="1-2-æ–¹æ³•-8">1.2 æ–¹æ³•</h2><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§ç®€å•çš„ç®—æ³•ï¼ŒACT (Action Chunking with Transformers)ã€‚</p><p>é¦–å…ˆä½¿ç”¨ ALOHA æ”¶é›†äººç±»æ¼”ç¤ºçš„å¼•å¯¼æœºå™¨äººçš„å…³èŠ‚ä½ç½®ï¼Œå¹¶å°†å…¶ä½œä¸ºåŠ¨ä½œï¼Œè§‚æµ‹ç»“æœç”±æœºå™¨äººçš„å½“å‰å…³èŠ‚ä½ç½®å’Œç›¸æœºçš„è¾“å…¥å›¾åƒç»„æˆã€‚ç„¶åè®­ç»ƒ ACT æ ¹æ®å½“å‰è§‚æµ‹é¢„æµ‹æœªæ¥çš„åŠ¨ä½œåºåˆ—ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªæ—¶é—´æ­¥ä¸­åŒè‡‚çš„ç›®æ ‡å…³èŠ‚ä½ç½®ã€‚</p><p><img src="https://img.mahaofei.com/img/202401051026095.png" alt="image.png"></p><p><strong>ï¼ˆ1ï¼‰åŠ¨ä½œåˆ†å—å’Œæ—¶é—´é›†æˆ</strong></p><p>ä¸ºäº†åˆ©ç”¨åƒç´ åˆ°åŠ¨ä½œçš„ç­–ç•¥ï¼Œé€šè¿‡å¯¹æŠ—æ¨¡ä»¿å­¦ä¹ è§£å†³å¤åˆé”™è¯¯ã€‚æœ¬æ–‡ä½¿ç”¨äº†åŠ¨ä½œåˆ†å—çš„æ€æƒ³ï¼Œå°†å¤šä¸ªåŠ¨ä½œåˆ†ç»„åœ¨ä¸€èµ·å¹³ä½œä¸ºä¸€ä¸ªå•å…ƒæ‰§è¡Œï¼Œä»è€Œä½¿ä»–ä»¬æ›´æœ‰æ•ˆçš„å­˜å‚¨å’Œæ‰§è¡Œã€‚</p><p>æœ¬æ–‡å°†åŠ¨ä½œå—çš„å¤§å°å›ºå®šä¸º k ï¼Œæ¯ k æ­¥ï¼Œæ™ºèƒ½ä½“æ¥æ”¶ä¸€ä¸ªè§‚æµ‹ç»“æœï¼Œç”Ÿæˆæ¥ä¸‹æ¥çš„ k ä¸ªæ“ä½œï¼Œå¹¶æŒ‰é¡ºåºæ‰§è¡Œè¿™äº›æ“ä½œï¼Œå› æ­¤ä»»åŠ¡çš„æœ‰æ•ˆèŒƒå›´è¢«å‡å°äº† k å€ã€‚</p><p>ä½†æ˜¯è¿™ç§æ–¹æ³•å¾—åˆ°çš„åŠ¨ä½œå—å¯èƒ½ä¸æ˜¯æœ€ç†æƒ³çš„åŠ¨ä½œï¼Œå› æ­¤å¯èƒ½å¯¼è‡´æœºå™¨äººçš„è¿åŠ¨ä¸ç¨³å®šã€‚ä¸ºäº†æé«˜å¹³æ»‘å‹ï¼Œæœ¬æ–‡åœ¨æ¯ä¸ªæ—¶é—´æ­¥å†…æ‰§è¡Œç­–ç•¥ï¼Œå¾—åˆ°ä¸åŒçš„åŠ¨ä½œå—ç›¸äº’é‡å ï¼Œå› æ­¤ä¼šæœ‰å¤šä¸ªé¢„æµ‹åŠ¨ä½œï¼Œæœ¬æ–‡å¯¹è¿™äº›é¢„æµ‹è¿›è¡ŒæŒ‡æ•°åŠ æƒ $w_i=exp(-m*i)$ï¼Œå…¶ä¸­ $w_0$ æ˜¯æœ€æ—§çš„åŠ¨ä½œçš„æƒé‡ï¼Œ$m$ è¶Šå°åˆ™åˆå¹¶çš„é€Ÿåº¦è¶Šå¿«ã€‚</p><p><strong>ï¼ˆ2ï¼‰äººç±»æ•°æ®å»ºæ¨¡</strong></p><p>äººç±»å¯ä»¥ä»ä¸åŒä¸ªè½¨è¿¹æ¥è§£å†³åŒä¸€ä¸ªä»»åŠ¡ï¼Œå°¤å…¶æ˜¯åœ¨ä¸è¦æ±‚ç²¾åº¦çš„åŒºåŸŸï¼Œäººç±»çš„åŠ¨ä½œä¼šéå¸¸éšæœºï¼Œå› æ­¤ç­–ç•¥é‡ç‚¹å…³æ³¨é«˜ç²¾åº¦åŒºåŸŸä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚</p><p>æœ¬æ–‡å°†ç­–ç•¥è®­ç»ƒä¸ºæ¡ä»¶å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ CVAE æ¥ç”Ÿæˆå½“å‰è§‚æµ‹ä¸ºæ¡ä»¶çš„åŠ¨ä½œåºåˆ—ã€‚</p><ul><li>CVAE ç¼–ç å™¨ï¼šè¾“å…¥å½“å‰è§‚æµ‹ï¼ˆæœºå™¨äººæœ¬ä½“çŠ¶æ€ï¼‰å’ŒåŠ¨ä½œåºåˆ—ï¼Œç¼–ç åå¾—åˆ°å˜é‡ z åˆ†å¸ƒï¼Œå°†å…¶å‚æ•°åŒ–ä¸ºé«˜æ–¯åˆ†å¸ƒï¼Œè¾“å‡ºè¯¥åˆ†å¸ƒçš„å‡å€¼å’Œæ–¹å·®</li><li>CVAE è§£ç å™¨ï¼šä»¥ z å’Œå½“å‰è§‚æµ‹ï¼ˆå›¾åƒ+æœºå™¨äººæœ¬ä½“çŠ¶æ€ï¼‰ä¸ºæ¡ä»¶ï¼Œé¢„æµ‹åŠ¨ä½œåºåˆ—ã€‚</li></ul><h1>äºŒã€ä»£ç å¤ç° (act)</h1><blockquote><p>è¯¥éƒ¨åˆ†å‚è€ƒè®ºæ–‡åŸä»“åº“ï¼š<a href="https://github.com/tonyzhaozh/act">https://github.com/tonyzhaozh/act</a></p></blockquote><h2 id="2-1-ç¯å¢ƒå‡†å¤‡">2.1 ç¯å¢ƒå‡†å¤‡</h2><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">conda create -n aloha python=3.8.10</span><br><span class="line">conda activate aloha</span><br><span class="line">pip install torchvision</span><br><span class="line">pip install torch</span><br><span class="line">pip install pyquaternion</span><br><span class="line">pip install pyyaml</span><br><span class="line">pip install rospkg</span><br><span class="line">pip install pexpect</span><br><span class="line">pip install mujoco</span><br><span class="line">pip install dm_control</span><br><span class="line">pip install opencv-python</span><br><span class="line">pip install matplotlib</span><br><span class="line">pip install einops</span><br><span class="line">pip install packaging</span><br><span class="line">pip install h5py</span><br><span class="line">pip install ipython</span><br><span class="line">cd act/detr &amp;&amp; pip install -e .</span><br></pre></td></tr></table></figure><h2 id="2-2-æ•°æ®æ”¶é›†-2">2.2 æ•°æ®æ”¶é›†</h2><p>é¦–å…ˆæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate aloha</span><br></pre></td></tr></table></figure><p>è¿›å…¥åˆ°ä»£ç æ ¹ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;path to act&gt;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸¤ä¸ªç›®å½•ï¼Œåˆ†åˆ«ç”¨äºä¿å­˜æ•°æ®é›†å’Œè®­ç»ƒå¥½åçš„æ¨¡å‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p datasets/sim_transfer_cube_scripted</span><br><span class="line">mkdir checkpoints</span><br></pre></td></tr></table></figure><p>ä»¥ <code>sim_transfer_cube_scripted</code> ä»»åŠ¡ä¸ºä¾‹ï¼Œä½¿ç”¨ä¸‹é¢çš„è„šæœ¬äº§ç”Ÿ 50 ä¸ª episodes çš„æ•°æ®ï¼ˆå¯ä»¥æ·»åŠ  <code>--onscreen_render</code> æ¥å®ç°å®æ—¶æ¸²æŸ“ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 record_sim_episodes.py --task_name sim_transfer_cube_scripted --dataset_dir datasets/sim_transfer_cube_scripted/ --num_episodes 50</span><br></pre></td></tr></table></figure><p>äº§ç”Ÿçš„ 50 ä¸ªæ•°æ®ä¼šä»¥ 50 ä¸ª hdf5 æ–‡ä»¶çš„æ ¼å¼ä¿å­˜åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œè¦æƒ³å¯è§†åŒ–è¿™äº›æ•°æ®é›†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œä»¥å¯è§†åŒ–ç¬¬ä¸€ä¸ªæ•°æ®ä¸ºä¾‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 visualize_episodes.py --dataset_dir datasets/sim_transfer_cube_scripted/ --episode_idx 0</span><br></pre></td></tr></table></figure><h2 id="2-3-è®­ç»ƒ-3">2.3 è®­ç»ƒ</h2><p>é¦–å…ˆéœ€è¦ä¿®æ”¹ <code>constants.py</code> ä¸­çš„ DATA_DIR å‚æ•°ï¼Œå°†å…¶æ”¹ä¸ºè‡ªå·±çš„æ•°æ®é›†æ–‡ä»¶å¤¹åç§°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATA_DIR = <span class="string">&#x27;/home/mahaofei/Programs/Imitation/act/datasets&#x27;</span></span><br></pre></td></tr></table></figure><p>å¼€å§‹è®­ç»ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 imitate_episodes.py --task_name sim_transfer_cube_scripted --ckpt_dir checkpoints/ --policy_class ACT --kl_weight 10 --chunk_size 100 --hidden_dim 512 --batch_size 8 --dim_feedforward 3200 --num_epochs 2000  --lr 1e-5 --seed 0</span><br></pre></td></tr></table></figure><p>å¦‚æœ ACT ç­–ç•¥åœ¨ä¸€ä¸ª episode ä¸­æ˜¯ä¸ç¨³å®šçš„æˆ–è€…æ˜¯åœæ­¢ä¸å˜çš„ï¼Œé‚£ä¹ˆå°±è®­ç»ƒæ›´é•¿æ—¶é—´ï¼Œåœ¨å¹³å°æœŸè¿‡åæˆåŠŸç‡å’Œè½¨è¿¹å¹³æ»‘æ€§éƒ½ä¼šå¾—åˆ°æé«˜ã€‚</p><h2 id="2-4-è¯„ä¼°">2.4 è¯„ä¼°</h2><p>è¿˜æ˜¯å’Œè®­ç»ƒä½¿ç”¨åŒä¸€ä¸ªè„šæœ¬ï¼Œåªä¸è¿‡éœ€è¦åŠ å…¥ <code>--eval</code>ï¼Œè¯¥ç¨‹åºä¼šæŠŠè¯„ä¼°è¿‡ç¨‹ä¸­çš„è§†é¢‘ä¿å­˜åˆ° <code>checkpoints</code> æ–‡ä»¶å¤¹ä¸­ï¼Œä¹Ÿå¯ä»¥æ·»åŠ  <code>--onscreen_render</code> åœ¨è¯„ä¼°æ˜¯å®æ—¶æ¸²æŸ“ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 imitate_episodes.py --task_name sim_transfer_cube_scripted --ckpt_dir checkpoints/ --policy_class ACT --kl_weight 10 --chunk_size 100 --hidden_dim 512 --batch_size 8 --dim_feedforward 3200 --num_epochs 2000  --lr 1e-5 --seed 0 --eval</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/202401051053987.png" alt="image.png"></p><p>ç»æµ‹è¯•ï¼Œå®é™…æˆåŠŸç‡å¹¶ä¸é«˜ï¼Œåœ¨æŠ“å–æ—¶æ€»ä¼šå‡ºç°é”™ä½ï¼Œä¸”ä¼ é€’è¿‡ç¨‹å¾ˆéš¾æˆåŠŸã€‚</p><p>~~æš‚æœªçŸ¥åŸå› ï¼Œç­‰å¾…åç»­æ£€æŸ¥ã€‚~~å·²æŸ¥æ˜åŸå› ï¼Œéœ€ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬çš„ mujocoï¼Œå‚è€ƒ <a href="https://github.com/MarkFzp/act-plus-plus/issues/12">issue #12</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install mojoco==2.3.7 dm_env==1.6 dm_control==1.0.14</span><br></pre></td></tr></table></figure><h1>ä¸‰ã€ä»£ç å¤ç° (act-plus-plus)</h1><p>æœ€è¿‘å‘ç°ä½œè€…åœ¨ä¸€ç¯‡æ–°çš„è®ºæ–‡ä¸­ Mobile ALOHA Learning Bimanual Mobile Manipulation with Low-Cost Whole-Body Teleoperationï¼Œå¯¹ ACT ç®—æ³•è¿›è¡Œäº†æ›´æ–°ï¼ŒåŸºæœ¬å¤ç°æµç¨‹ä¸€è‡´ï¼Œéƒ¨åˆ†è¿›è¡Œäº†ä¿®æ”¹ã€‚</p><blockquote><p>è¯¥éƒ¨åˆ†å‚è€ƒè®ºæ–‡åŸä»“åº“ï¼š<a href="https://github.com/MarkFzp/act-plus-plus">https://github.com/MarkFzp/act-plus-plus</a></p></blockquote><h2 id="2-1-ç¯å¢ƒå‡†å¤‡-2">2.1 ç¯å¢ƒå‡†å¤‡</h2><p>ä¸‹è½½æºç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/MarkFzp/act-plus-plus</span><br></pre></td></tr></table></figure><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">conda create -n act python=3.8.10</span><br><span class="line">conda activate act</span><br><span class="line">pip install torchvision</span><br><span class="line">pip install torch</span><br><span class="line">pip install pyquaternion</span><br><span class="line">pip install pyyaml</span><br><span class="line">pip install rospkg</span><br><span class="line">pip install pexpect</span><br><span class="line">pip install mujoco==2.3.7</span><br><span class="line">pip install dm_control==1.0.14</span><br><span class="line">pip install dm_env==1.6</span><br><span class="line">pip install opencv-python</span><br><span class="line">pip install matplotlib</span><br><span class="line">pip install einops</span><br><span class="line">pip install packaging</span><br><span class="line">pip install h5py</span><br><span class="line">pip install ipython</span><br><span class="line">cd act-plus-plus/detr &amp;&amp; pip install -e .</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šæ²¡æœ‰æåˆ°ä½†å´è°ƒç”¨çš„åº“è¿˜æœ‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pip install diffusers</span><br><span class="line">pip install wandb</span><br><span class="line"></span><br><span class="line">git clone git@github.com:ARISE-Initiative/robomimic.git</span><br><span class="line">cd robomimic</span><br><span class="line">git checkout diffusion-policy-mg</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>constants.py</code> ä¸­çš„ DATA_DIR å‚æ•°ï¼Œå°†å…¶æ”¹ä¸ºè‡ªå·±çš„æ•°æ®é›†æ–‡ä»¶å¤¹åç§°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATA_DIR = <span class="string">&#x27;/home/mahaofei/Programs/Imitation/act/datasets&#x27;</span></span><br></pre></td></tr></table></figure><p>åœ¨ <a href="https://wandb.ai/">wandb å®˜ç½‘</a>åˆ›å»ºè´¦å·ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå°† <code>imitate_episodes.py</code> çš„ç¬¬ 148 è¡Œä¿®æ”¹ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wandb.init(project=<span class="string">&quot;é¡¹ç›®åç§°&quot;</span>, reinit=<span class="literal">True</span>, entity=<span class="string">&quot;wandbç”¨æˆ·å&quot;</span>, name=expr_name)</span><br></pre></td></tr></table></figure><p>æˆªè‡³ 2023-01-05 å¼€æºçš„ä»£ç è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œéœ€è¦ä¿®æ”¹ <code>detr/models/detr_vae.py</code> çš„ç¬¬ 285 è¡Œä¸º <code>encoder = build_encoder(args)</code>ï¼Œå‚è€ƒ <a href="https://github.com/MarkFzp/act-plus-plus/issues/3#issuecomment-1876588075">issue</a></p><h2 id="2-2-æ•°æ®æ”¶é›†-3">2.2 æ•°æ®æ”¶é›†</h2><p>é¦–å…ˆæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate act</span><br></pre></td></tr></table></figure><p>è¿›å…¥åˆ°ä»£ç æ ¹ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;path to act&gt;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸¤ä¸ªç›®å½•ï¼Œåˆ†åˆ«ç”¨äºä¿å­˜æ•°æ®é›†å’Œè®­ç»ƒå¥½åçš„æ¨¡å‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p datasets/sim_transfer_cube_scripted</span><br><span class="line">mkdir checkpoints</span><br></pre></td></tr></table></figure><p><strong>æ”¶é›†æ•°æ®</strong>ï¼šä»¥ <code>sim_transfer_cube_scripted</code> ä»»åŠ¡ä¸ºä¾‹ï¼Œä½¿ç”¨ä¸‹é¢çš„è„šæœ¬äº§ç”Ÿ 50 ä¸ª episodes çš„æ•°æ®ï¼ˆå¯ä»¥æ·»åŠ  <code>--onscreen_render</code> æ¥å®ç°å®æ—¶æ¸²æŸ“ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 record_sim_episodes.py --task_name sim_transfer_cube_scripted --dataset_dir datasets/sim_transfer_cube_scripted/ --num_episodes 50</span><br></pre></td></tr></table></figure><p><strong>å¯è§†åŒ–æ”¶é›†çš„æ•°æ®</strong>ï¼šäº§ç”Ÿçš„ 50 ä¸ªæ•°æ®ä¼šä»¥ 50 ä¸ª hdf5 æ–‡ä»¶çš„æ ¼å¼ä¿å­˜åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œè¦æƒ³å¯è§†åŒ–è¿™äº›æ•°æ®é›†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œä»¥å¯è§†åŒ–ç¬¬ä¸€ä¸ªæ•°æ®ä¸ºä¾‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 visualize_episodes.py --dataset_dir datasets/sim_transfer_cube_scripted/ --episode_idx 0</span><br></pre></td></tr></table></figure><h2 id="2-3-è®­ç»ƒ-4">2.3 è®­ç»ƒ</h2><p><strong>å¼€å§‹è®­ç»ƒ</strong>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 imitate_episodes.py --task_name sim_transfer_cube_scripted --ckpt_dir checkpoints/ --policy_class ACT --kl_weight 10 --chunk_size 100 --hidden_dim 512 --batch_size 4 --dim_feedforward 3200 --num_steps 2000  --lr 1e-5 --seed 0</span><br></pre></td></tr></table></figure><p>å¦‚æœçˆ†æ˜¾å­˜äº†(CUDA out of memory)ï¼Œå¯ä»¥å‡å° <code>batch_size</code>ã€‚</p><p>å¦‚æœ ACT ç­–ç•¥åœ¨ä¸€ä¸ª episode ä¸­æ˜¯ä¸ç¨³å®šçš„æˆ–è€…æ˜¯åœæ­¢ä¸å˜çš„ï¼Œé‚£ä¹ˆå°±è®­ç»ƒæ›´é•¿æ—¶é—´ï¼Œåœ¨å¹³å°æœŸè¿‡åæˆåŠŸç‡å’Œè½¨è¿¹å¹³æ»‘æ€§éƒ½ä¼šå¾—åˆ°æé«˜ã€‚</p><h2 id="2-4-è¯„ä¼°-2">2.4 è¯„ä¼°</h2><p>è¿˜æ˜¯å’Œè®­ç»ƒä½¿ç”¨åŒä¸€ä¸ªè„šæœ¬ï¼Œåªä¸è¿‡éœ€è¦åŠ å…¥ <code>--eval</code>ï¼Œè¯¥ç¨‹åºä¼šæŠŠè¯„ä¼°è¿‡ç¨‹ä¸­çš„è§†é¢‘ä¿å­˜åˆ° <code>checkpoints</code> æ–‡ä»¶å¤¹ä¸­ï¼Œä¹Ÿå¯ä»¥æ·»åŠ  <code>--onscreen_render</code> åœ¨è¯„ä¼°æ˜¯å®æ—¶æ¸²æŸ“ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 imitate_episodes.py --task_name sim_transfer_cube_scripted --ckpt_dir checkpoints/ --policy_class ACT --kl_weight 10 --chunk_size 100 --hidden_dim 512 --batch_size 8 --dim_feedforward 3200 --num_steps 10000  --lr 1e-5 --seed 0 --eval --onscreen_render</span><br></pre></td></tr></table></figure><h1>ä¸‰ã€ä»£ç è§£æ</h1><h2 id="3-1-è®­ç»ƒæ•°æ®æ ¼å¼">3.1 è®­ç»ƒæ•°æ®æ ¼å¼</h2><p>ACT çš„è®­ç»ƒæ•°æ®ç”Ÿæˆä¸ºå¤šä¸ª hdf5 æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªæ¼”ç¤ºæ•°æ®ï¼Œæ¯ä¸ª hdf5 æ–‡ä»¶çš„ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li>episode_1.hdf5<ul><li><strong>action</strong>: dateset æ•°æ®ï¼Œå­˜å‚¨æœºå™¨äººçš„åŠ¨ä½œï¼Œshape ä¸º (400, 14)ï¼ŒåŒ…æ‹¬æœ«ç«¯æ‰§è¡Œå™¨çš„ä½ç½®å’Œå››å…ƒæ•°ï¼Œå½’ä¸€åŒ–çš„å¤¹çˆªä½ç½®ï¼ˆ0 å…³é—­ï¼Œ1 æ‰“å¼€ï¼‰<br>[left_arm_qpos (6), left_gripper_positions (1), right_arm_qpos (6), right_gripper_positions (1),]ï¼Œ</li><li><strong>observations</strong>: group ç»„ï¼Œå­˜å‚¨è§‚æµ‹æ•°æ®<ul><li><strong>images</strong>: gropu ç»„ï¼Œå­˜å‚¨å›¾åƒæ•°æ®<ul><li><strong>left_wrist</strong>ï¼šdataset æ•°æ®ï¼Œå­˜å‚¨å·¦ä¾§æœºå™¨äººæœ«ç«¯ç›¸æœºå›¾åƒæ•°æ®ï¼Œshape ä¸º (400, 480, 640, 3)ï¼Œå³é•¿åº¦ 400ï¼Œæ¯ä¸ªå›¾åƒä¸º (480, 640, 3) å¤§å°ã€‚</li><li><strong>right_wrist</strong>ï¼šdataset æ•°æ®ï¼Œå­˜å‚¨å³ä¾§æœºå™¨äººæœ«ç«¯ç›¸æœºå›¾åƒæ•°æ®ï¼Œshape ä¸º (400, 480, 640, 3)ï¼Œå³é•¿åº¦ 400ï¼Œæ¯ä¸ªå›¾åƒä¸º (480, 640, 3) å¤§å°ã€‚</li><li><strong>top</strong>ï¼šdataset æ•°æ®ï¼Œå­˜å‚¨é¡¶éƒ¨ç›¸æœºå›¾åƒæ•°æ®ï¼Œshape ä¸º (400, 480, 640, 3)ï¼Œå³é•¿åº¦ 400ï¼Œæ¯ä¸ªå›¾åƒä¸º (480, 640, 3) å¤§å°ã€‚</li></ul></li><li><strong>qpos</strong>ï¼šdateset æ•°æ®ï¼Œshape ä¸º (400, 14)ï¼ŒåŒ…æ‹¬ç»å¯¹å…³èŠ‚ä½ç½®ï¼Œå½’ä¸€åŒ–çš„å¤¹çˆªä½ç½®ï¼ˆ0 å…³é—­ï¼Œ1 æ‰“å¼€ï¼‰<br>[left_arm_qpos (6), left_gripper_position (1), right_arm_qpos (6), right_gripper_qpos (1)]</li><li><strong>qvel</strong>ï¼šdateset æ•°æ®ï¼Œshape ä¸º (400, 14)ï¼ŒåŒ…æ‹¬ç»å¯¹å…³èŠ‚é€Ÿåº¦ï¼ˆradï¼‰ï¼Œå½’ä¸€åŒ–çš„å¤¹çˆªé€Ÿåº¦ï¼ˆæ­£æ•°ä¸ºæ­£åœ¨æ‰“å¼€ï¼Œè´Ÿæ•°ä¸ºæ­£åœ¨å…³é—­ï¼‰<br>[left_arm_qvel (6), left_gripper_velocity (1), right_arm_qvel (6), right_gripper_qvel (1)]</li></ul></li></ul></li></ul><h2 id="3-2-æ›¿æ¢-Gym-ç¯å¢ƒ">3.2 æ›¿æ¢ Gym ç¯å¢ƒ</h2><p><strong>ï¼ˆ1ï¼‰è¡¥å……ä¾èµ–</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install gym==0.12.1</span><br><span class="line">pip install &quot;cython&lt;3&quot;</span><br><span class="line">pip install perlin_noise</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰ç¼–å†™è„šæœ¬ç”Ÿæˆä¸ ACT è®­ç»ƒæ•°æ®æ ¼å¼ç›¸åŒçš„ HDF5 æ•°æ®</strong></p><p><strong>ï¼ˆ3ï¼‰è¿›è¡Œè®­ç»ƒ</strong></p>]]></content>
    
    
    <summary type="html">æ–¯å¦ç¦å¤§å­¦å¼€å‘çš„åŒæ‰‹æ¨¡ä»¿å­¦ä¹ ç³»ç»Ÿï¼ŒåŒ…æ‹¬ä¸€æ•´å¥—è½¯ç¡¬ä»¶ç³»ç»Ÿï¼Œå®ç°ä½æˆæœ¬ä¸ç²¾ç¡®ç¡¬ä»¶å®Œæˆç²¾ç»†æ“ä½œä»»åŠ¡ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="æœºå™¨äººå­¦ä¹ " scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="æ¨¡ä»¿å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E6%A8%A1%E4%BB%BF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>HDF5æ•°æ®æ–‡ä»¶æ ¼å¼</title>
    <link href="https://www.mahaofei.com/post/hdf5.html"/>
    <id>https://www.mahaofei.com/post/hdf5.html</id>
    <published>2024-01-01T06:02:57.000Z</published>
    <updated>2024-01-01T06:02:57.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>[!abstract]<br>HDF5æ•°æ®æ–‡ä»¶æ ¼å¼çš„ç®€å•ä»‹ç»ä¸åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚</p></blockquote><h1>1 HDF5 æ ¼å¼ç®€ä»‹</h1><h2 id="1-1-ä»€ä¹ˆæ˜¯-hdf5-æ–‡ä»¶">1.1 ä»€ä¹ˆæ˜¯ hdf5 æ–‡ä»¶</h2><p>HDF5æ˜¯ä¸€ç§å¸¸è§çš„è·¨å¹³å°æ•°æ®å‚¨å­˜æ–‡ä»¶ï¼Œå¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å›¾åƒå’Œæ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸åŒç±»å‹çš„æœºå™¨ä¸Šä¼ è¾“ï¼ŒåŒæ—¶è¿˜æœ‰ç»Ÿä¸€å¤„ç†è¿™ç§æ–‡ä»¶æ ¼å¼çš„å‡½æ•°åº“ã€‚</p><p>å¯ä»¥æŠŠHDF5æ–‡ä»¶æƒ³è±¡æˆä¸€ä¸ªå®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨ç”±å¤šä¸ªä¸åŒç±»å‹çš„æ•°æ®å¯¹è±¡ç»„æˆã€‚æ•°æ®å¯¹è±¡å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œä¾‹å¦‚ï¼šå›¾ç‰‡ã€è¡¨æ ¼ã€å›¾åƒï¼Œç”šè‡³æ–‡æ¡£ï¼ˆPDFã€Excelï¼‰ã€‚</p><h2 id="1-2-hdf5-æ–‡ä»¶ç»“æ„">1.2 hdf5 æ–‡ä»¶ç»“æ„</h2><p>HDF5 æ–‡ä»¶ä¸€èˆ¬ä»¥ <code>.h5</code> æˆ– <code>.hdf5</code> ä½œä¸ºåç¼€åï¼Œå…¶æ–‡ä»¶ç»“æ„åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š<code>Groups</code> å’Œ <code>Datasets</code>ã€‚</p><ul><li><strong>Group</strong>: ç±»ä¼¼äºæ–‡ä»¶å¤¹ï¼Œè´Ÿè´£ç®¡ç†æ•°æ®å¯¹è±¡</li><li><strong>Datasets</strong>: ç±»ä¼¼äº numpy ä¸­çš„æ•°ç»„ arrayï¼Œä¸€ä¸ªæ•°æ®é›†ç”±å…ƒæ•°æ®ï¼ˆmetadataï¼‰å’Œæ•°æ®æœ¬èº«ï¼ˆdataï¼‰ç»„æˆ<ul><li><strong>Metadata</strong>: å…ƒæ•°æ®<ul><li><strong>Datatype</strong>: æ•°æ®ç±»å‹</li><li><strong>Dataspace</strong>: åŸå§‹æ•°æ®çš„ç§©å’Œç»´åº¦</li><li><strong>Properties</strong>: è¯¥æ•°æ®é›†çš„åˆ†å—å­˜å‚¨ä»¥åŠå‹ç¼©æƒ…å†µ<ul><li><strong>Chunked</strong>:</li><li><strong>Chunked &amp; Compressed</strong>:</li></ul></li><li><strong>Attributes</strong>: ä¸ºè¯¥æ•°æ®çš„å…¶å®ƒè‡ªå®šä¹‰å±æ€§</li></ul></li><li><strong>Data Values</strong>:</li></ul></li></ul><p><strong>ï¼ˆ1ï¼‰Group ç»„</strong></p><p>ç»„è´Ÿè´£ç®¡ç†æ•°æ®å¯¹è±¡ã€‚æ¯ä¸ªHDF5æ–‡ä»¶å«æœ‰ä¸€ä¸ªæ ¹ç»„ï¼Œæ ¹ç»„åŒ…å«å…¶ä»–ç»„æˆ–è€…é“¾æ¥åˆ°å…¶ä»–æ–‡ä»¶çš„å¯¹è±¡ã€‚ç»„å’Œç»„çš„æˆå‘˜ä¸æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç±»ä¼¼ï¼ŒHDF5ä¸­å¯¹è±¡ä¹Ÿå¯ä»¥ä½¿ç”¨è·¯å¾„æ¥è¡¨ç¤ºï¼š</p><ul><li><code>/</code> ä»£è¡¨æ ¹ç»„</li><li><code>/a</code> ä»£è¡¨æ ¹ç»„ä¸‹çš„ <code>a</code> æˆå‘˜</li><li><code>/a/b</code> ä»£è¡¨ç»„ <code>a</code> ä¸‹çš„ä¸€ä¸ªæˆå‘˜ï¼Œ<code>a</code> æ˜¯æ ¹ç»„ <code>/</code> ä¸‹çš„æˆå‘˜</li></ul><p><strong>ï¼ˆ2ï¼‰Datasets æ•°æ®é›†</strong></p><p>ä¸€ä¸ªæ•°æ®é›†ç”±å…ƒæ•°æ®ï¼ˆmetadataï¼‰å’Œæ•°æ®æœ¬èº«ï¼ˆdataï¼‰ç»„æˆã€‚</p><p><img src="https://img.mahaofei.com/img/202401011439226.png" alt="image.png"></p><p>å…¶ä¸­çš„ <code>Metadata</code> åŒ…æ‹¬ä¸€ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šæ•°æ®ç±»å‹ï¼ˆdatatypeï¼‰ã€æ•°æ®ç©ºé—´ï¼ˆdataspaceï¼‰ã€æ€§è´¨ï¼ˆpropertyï¼‰ã€å±æ€§ï¼ˆattributeï¼‰ã€‚</p><p><strong>ï¼ˆ3ï¼‰Datatype æ•°æ®ç±»å‹</strong></p><p>æ•°æ®ç±»å‹æè¿°æ•°æ®é›†ä¸­å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ <code>float</code>ã€‚</p><ul><li>å†…ç½®æ•°æ®ç±»å‹ï¼šåŒ…æ‹¬æ ‡å‡†æ•°æ®ç±»å‹å’ŒåŸç”Ÿæ•°æ®ç±»å‹</li><li>è¡ç”Ÿæ•°æ®ç±»å‹ï¼šä¾‹å¦‚ç¬¦åˆæ•°æ®ç±»å‹ï¼ˆ16ä½æ•´å‹ã€1ä¸ªå­—ç¬¦ã€ä¸€ä¸ª2x3x2çš„æµ®ç‚¹æ•°ç»„ç»„åˆè€Œæˆï¼‰</li></ul><p><img src="https://img.mahaofei.com/img/202401011453368.png" alt="image.png"></p><p><strong>ï¼ˆ4ï¼‰Dataspaceæ•°æ®ç©ºé—´</strong></p><p>æè¿°æ•°æ®é›†å†…éƒ¨æ•°æ®å…ƒç´ ï¼ˆdata elementï¼‰çš„åˆ†å¸ƒæƒ…å†µï¼š</p><ul><li>Rankï¼šè¡¨ç¤ºæ•°æ®é›†ç»´åº¦çš„ä¸ªæ•°ï¼ˆä¾‹å¦‚ä¸‹å›¾ä¸­æ•°æ®ç»´åº¦ä¸ªæ•°ä¸º2ï¼Œå³2ç»´æ•°ç»„ï¼‰</li><li>Dimensionsï¼šæ•°æ®ç©ºé—´çš„ç»´åº¦ï¼ˆæ•°æ®ç©ºé—´çš„ç»´åº¦ä¸º5x3ï¼‰<ul><li>NULLï¼šä»£è¡¨æ•°æ®é›†å†…æ²¡æœ‰ä»»ä½•æ•°æ®å…ƒç´ </li><li>æ ‡é‡ï¼šä»£è¡¨åªæœ‰ä¸€ä¸ªå…ƒç´ </li><li>å‘é‡ï¼šä»£è¡¨æ•°æ®é›†æ˜¯ä¸€ä¸ªæ•°ç»„</li></ul></li></ul><p>æ•°æ®ç©ºé—´çš„ç»´åº¦å¯ä»¥æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸å›ºå®šçš„ã€‚å¦‚æœæ˜¯ä¸å›ºå®šçš„ï¼Œä»£è¡¨è¯¥æ•°æ®é›†çš„å¤§å°æ˜¯å¯å˜çš„ï¼ˆä¾‹å¦‚ï¼Œå¯æ‰©å±•çš„æ•°æ®é›†ï¼‰ã€‚</p><p><img src="https://img.mahaofei.com/img/202401011454062.png" alt="image.png"></p><p><strong>ï¼ˆ5ï¼‰Properties æ€§è´¨</strong></p><p>HDF5åŒ…å«å¾ˆå¤šé»˜è®¤çš„æ€§è´¨ï¼Œå¯ä»¥æ˜¯ç”¨<code>HDF5 Property List API</code>æ¥ä¿®æ”¹è¿™äº›æ€§è´¨ã€‚</p><p><strong>ï¼ˆ6ï¼‰Attribute å±æ€§</strong></p><p>å±æ€§åŒ…å«ä¸€ä¸ªåç§°ï¼ˆnameï¼‰å’Œä¸€ä¸ªå€¼ï¼ˆvalueï¼‰ï¼Œæ˜¯å¯¹HDF5å¯¹è±¡çš„ä¸€äº›é¢å¤–æè¿°ã€‚é€šå¸¸éƒ½æ˜¯ä¸€äº›å¾ˆå°çš„ã€ç”¨æˆ·è‡ªå®šä¹‰çš„å…ƒæ•°æ®ã€‚</p><h1>äºŒã€Python æ“ä½œHDF5æ–‡ä»¶</h1><p><strong>ï¼ˆ1ï¼‰ä½¿ç”¨ <code>h5py</code> åŒ…</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> h5py</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰åˆ›å»º <code>hdf5</code> æ–‡ä»¶ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º hdf5æ–‡ä»¶</span></span><br><span class="line">f = h5py.File(<span class="string">&quot;h5py_example.hdf5&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æ ¹ç›®å½•`/` ä¸‹åˆ›å»ºä¸¤ä¸ªç»„</span></span><br><span class="line">g1 = f.create_group(<span class="string">&quot;bar1&quot;</span>)</span><br><span class="line">g2 = f.create_group(<span class="string">&quot;bar2&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æ ¹ç›®å½• `/` ä¸‹åˆ›å»ºä¸€ä¸ªæ•°æ®é›†(4x4çš„æ•°ç»„)</span></span><br><span class="line">d = f.create_dataset(<span class="string">&quot;dset&quot;</span>, data=np.arange(<span class="number">16</span>).reshape([<span class="number">4</span>, <span class="number">4</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºæ•°æ®é›†æ·»åŠ ä¸¤ä¸ªå±æ€§</span></span><br><span class="line">d.attrs[<span class="string">&quot;myAttr1&quot;</span>] = [<span class="number">100</span>, <span class="number">200</span>]</span><br><span class="line">d.attrs[<span class="string">&quot;myAttr2&quot;</span>] = <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨ `bar1` ç»„ä¸‹åˆ›å»ºä¸€ä¸ªç»„å’Œä¸€ä¸ªæ•°æ®é›†</span></span><br><span class="line">c1 = g1.create_group(<span class="string">&quot;car1&quot;</span>)</span><br><span class="line">d1 = g1.create_dataset(<span class="string">&quot;dset1&quot;</span>, data=np.arange(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨ `bar2` ç»„ä¸‹åˆ›å»ºä¸€ä¸ªç»„å’Œä¸€ä¸ªæ•°æ®é›†</span></span><br><span class="line">c2 = g2.create_group(<span class="string">&quot;car2&quot;</span>)</span><br><span class="line">d2 = g2.create_dataset(<span class="string">&quot;dset2&quot;</span>, data=np.arange(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜æ–‡ä»¶</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><p>æœ€åå¾—åˆ°çš„ <code>hdf5</code> æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">+-- &#x27;/&#x27;</span><br><span class="line">|   +--group &quot;bar1&quot;</span><br><span class="line">|   |   +-- group &quot;car1&quot;</span><br><span class="line">|   |   |   +-- None</span><br><span class="line">|   |   |   </span><br><span class="line">|   |   +-- dataset &quot;dset1&quot;</span><br><span class="line">|   |</span><br><span class="line">|   +-- group &quot;bar2&quot;</span><br><span class="line">|   |   +-- group &quot;car2&quot;</span><br><span class="line">|   |   |   +-- None</span><br><span class="line">|   |   |</span><br><span class="line">|   |   +-- dataset &quot;dset2&quot;</span><br><span class="line">|   |   </span><br><span class="line">|   +-- dataset &quot;dset&quot;</span><br><span class="line">|   |   +-- attribute &quot;myAttr1&quot;</span><br><span class="line">|   |   +-- attribute &quot;myAttr2&quot;</span><br><span class="line">|   |   </span><br><span class="line">|   </span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰è¯»å– <code>hdf5</code> æ–‡ä»¶</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å– hdf5 æ–‡ä»¶</span></span><br><span class="line">f = h5py.File(<span class="string">&quot;h5py_example.hdf5&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å° `/` ä¸‹æ‰€æœ‰çš„ç»„å’Œæ•°æ®é›†çš„ keys</span></span><br><span class="line"><span class="built_in">print</span>(f.filename, <span class="string">&quot;:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>([key <span class="keyword">for</span> key <span class="keyword">in</span> f.keys()], <span class="string">&quot;\n&quot;</span>)  </span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å– `/` ä¸‹çš„æ•°æ®é›† `dset`</span></span><br><span class="line">d = f[<span class="string">&quot;dset&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(d.name, <span class="string">&quot;:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(d[:])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å° `dset` æ•°æ®é›†çš„å±æ€§</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d.attrs.keys():</span><br><span class="line"><span class="built_in">print</span>(key, <span class="string">&quot;:&quot;</span>, d.attrs[key])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–ç»„`bar1`</span></span><br><span class="line">g = f[<span class="string">&quot;bar1&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å° `bar1` ä¸‹æ‰€æœ‰çš„ç»„å’Œæ•°æ®é›†çš„ keys</span></span><br><span class="line"><span class="built_in">print</span>([key <span class="keyword">for</span> key <span class="keyword">in</span> g.keys()])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‰ç§æ–¹å¼æ‰“å° `dset1` çš„æ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(f[<span class="string">&quot;/bar1/dset1&quot;</span>][:])   <span class="comment"># ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="built_in">print</span>(f[<span class="string">&quot;bar1&quot;</span>][<span class="string">&quot;dset1&quot;</span>][:]) <span class="comment"># ç›¸å¯¹è·¯å¾„ï¼šfile[][]</span></span><br><span class="line"><span class="built_in">print</span>(g[<span class="string">&#x27;dset1&#x27;</span>][:])         <span class="comment"># ç›¸å¯¹è·¯å¾„ï¼šg[]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€€å‡ºæ–‡ä»¶</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://www.hdfgroup.org/solutions/hdf5/">HDF Group</a></li><li><a href="https://zhuanlan.zhihu.com/p/656178708">ä»™æ£ ç”Ÿä¿¡. HDF5ç®€ä»‹. çŸ¥ä¹</a></li><li><a href="https://zhuanlan.zhihu.com/p/104145585">NoNo721. HDF5 æ•°æ®æ–‡ä»¶ç®€ä»‹. çŸ¥ä¹</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">HDF5æ•°æ®æ–‡ä»¶æ ¼å¼çš„ç®€å•ä»‹ç»ä¸åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚</summary>
    
    
    
    <category term="æœºå™¨å­¦ä¹ " scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="å¼ºåŒ–å­¦ä¹ " scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="æ¨¡ä»¿å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E6%A8%A1%E4%BB%BF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="å¼ºåŒ–å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="æ•°æ®" scheme="https://www.mahaofei.com/tags/%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>ã€ä»¿çœŸå®éªŒã€‘robomimicé¡¹ç›®å¤ç°</title>
    <link href="https://www.mahaofei.com/post/robomimic.html"/>
    <id>https://www.mahaofei.com/post/robomimic.html</id>
    <published>2023-12-27T02:31:36.000Z</published>
    <updated>2023-12-27T02:31:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>robomimic æ˜¯ä¸€ä¸ªç”¨äºæœºå™¨äººä»æ¼”ç¤ºå­¦ä¹ çš„æ¡†æ¶ï¼Œè¯¥é¡¹ç›®æä¾›äº†ä¸€ç³»åˆ—æœºå™¨äººæ“ä½œçš„æ¼”ç¤ºæ•°æ®å’Œç¦»çº¿å­¦ä¹ ç®—æ³•ï¼Œå¯ä»¥è®©äººä»¬å¯¹ä»»åŠ¡å’Œç®—æ³•è¿›è¡Œæ ‡å‡†åŒ–æµ‹è¯•ã€‚</p><p>æœ¬æ–‡æµ‹è¯•çš„ç‰ˆæœ¬ä¸º robomimic v0.3</p><h1>ä¸€ã€å®‰è£…ä¸ç¯å¢ƒæ­å»º</h1><p>åœ¨å®‰è£…ä¹‹å‰ç¡®ä¿è¿è¡Œ Linux ç³»ç»Ÿï¼Œå¹¶å®‰è£…æœ‰ condaã€‚</p><h2 id="1-1-å®‰è£…-robomimic">1.1 å®‰è£… robomimic</h2><p><strong>ï¼ˆ1ï¼‰åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n robomimic python=3.8.0 -y</span><br><span class="line">conda activate robomimic</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰å®‰è£…Pytorch</strong></p><p>å…¶ä¸­çš„ pytorch ç‰ˆæœ¬å’Œ torchvision ç‰ˆæœ¬å®˜æ–¹è¯´å¯ä»¥ä¿®æ”¹ï¼Œæš‚æœªæµ‹è¯•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch==2.0.0 torchvision==0.15.1 -c pytorch</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰å®‰è£… robomimic</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;ä½ æƒ³ä¿å­˜robomimicä»£ç çš„ä½ç½®&gt;</span><br><span class="line">git clone https://github.com/ARISE-Initiative/robomimic.git</span><br><span class="line">cd robomimic</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure><h2 id="1-2-å®‰è£…æ¨¡æ‹Ÿå™¨">1.2 å®‰è£…æ¨¡æ‹Ÿå™¨</h2><p><strong>ï¼ˆ1ï¼‰robosuite</strong></p><p>è¿è¡Œå¤§å¤šæ•° robomimic ç¤ºä¾‹å’Œå‘å¸ƒçš„æ•°æ®é›†éœ€è¦ä½¿ç”¨ robosuite æ¨¡æ‹Ÿå™¨ï¼Œå®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;ä½ æƒ³ä¿å­˜robosuiteä»£ç çš„ä½ç½®&gt;</span><br><span class="line">git clone https://github.com/ARISE-Initiative/robosuite.git</span><br><span class="line">cd robosuite</span><br><span class="line">git checkout v1.4.1</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰D4RL</strong></p><p>D4RLä¹Ÿæä¾›äº†æ ‡å‡†åŒ–çš„è®­ç»ƒç¯å¢ƒå’Œæ•°æ®é›†ï¼Œå®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Farama-Foundation/d4rl.git</span><br><span class="line">cd d4rl</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure><h2 id="1-3-å®‰è£…æµ‹è¯•">1.3 å®‰è£…æµ‹è¯•</h2><p><strong>ç®€å•æµ‹è¯•ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;robomimicä»£ç å®‰è£…ä½ç½®&gt;</span><br><span class="line">python examples/train_bc_rnn.py --debug</span><br></pre></td></tr></table></figure><blockquote><p>[!question]- é—®é¢˜ï¼š<code>AttributeError: module 'mujoco_py' has no attribute 'builder'</code><br>ç›®å‰æˆ‘çš„è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li>å®‰è£… mujoco-210ï¼Œå¯å‚è€ƒ<a href="https://github.com/HaofeiMa/E05_Robotiq-2f-85#quick-start">3(3) Prepare the mujoco environment</a></li><li>å®‰è£… mujoco-pyï¼š<code>pip install mujoco-py</code></li><li>å®‰è£… Cythonï¼š<code>pip install &quot;cython&lt;3&quot;</code></li></ol></blockquote><blockquote><p>[!question]- é—®é¢˜ï¼š<code>Error compiling Cython file</code><br>è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li><code>pip install &quot;cython&lt;3&quot;</code></li></ol></blockquote><blockquote><p>[!question]- é—®é¢˜ï¼š<code>EGL_NOT_INITIALIZED</code><br>è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li>æ›¿æ¢<code>robosuite/robosuite/renderers/context/egl_context.py</code>çš„155è¡Œ<code>self.free()</code>ä¸º<code>pass</code></li><li>æ³¨é‡Šæ‰<code>robosuite/robosuite/utils/binding_utils.py</code>çš„199è¡Œ<code>self.gl_ctx.free()</code></li></ol></blockquote><p><strong>å…¨é¢æµ‹è¯•ï¼š</strong></p><p>è¿è¡Œä¸€ä¸ªè°ƒè¯•ç¯å¢ƒï¼Œä»¥ç¡®ä¿robomimicå®‰è£…æ­£ç¡®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;robomimicä»£ç å®‰è£…ä½ç½®&gt;/test</span><br><span class="line">bash test.sh</span><br></pre></td></tr></table></figure><p>è¿è¡Œè¿‡ç¨‹å¯èƒ½æŒç»­å‡ åˆ†é’Ÿï¼Œå‘½ä»¤è¡Œä¼šå‡ºç°å¾ˆå¤špassedï¼Œè¯´æ˜æ²¡æœ‰é—®é¢˜ï¼Œä¸­é—´å¦‚æœå‡ºç°å’ŒEGLæœ‰å…³çš„é—®é¢˜ï¼Œå¯ä»¥å…ˆä¸ç”¨ç®¡ï¼ŒEGLæ˜¯ç”¨äºæ²¡æœ‰æ˜¾ç¤ºå™¨çš„serverç‰ˆæœåŠ¡å™¨è¿›è¡Œæ¸²æŸ“çš„æ—¶å€™ä½¿ç”¨çš„ã€‚</p><h1>äºŒã€å®éªŒå¤ç°</h1><h2 id="2-1-è®ºæ–‡ç»“æœå¤ç°">2.1 è®ºæ–‡ç»“æœå¤ç°</h2><p><strong>ï¼ˆ1ï¼‰æ•°æ®é›†ä¸‹è½½</strong></p><p>è¿™é‡Œä¸‹è½½äº† <code>tool_hang</code> åœºæ™¯è¿›è¡Œäº†æµ‹è¯•ï¼Œå…¶å®ƒå¯ç”¨çš„åœºæ™¯å‚è€ƒ<a href="https://robomimic.github.io/docs/datasets/robomimic_v0.1.html">å®˜æ–¹æ–‡æ¡£</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;robomimicä»£ç å®‰è£…ä½ç½®&gt;/robomimic/scripts</span><br><span class="line">python download_datasets.py --tasks tool_hang</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰ç”Ÿæˆé…ç½®æ–‡ä»¶</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python generate_paper_configs.py --output_dir &lt;æƒ³è¦ä¿å­˜è¯•éªŒç»“æœçš„ç»å¯¹è·¯å¾„&gt;</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„é…ç½®æ–‡ä»¶é»˜è®¤åœ¨<code>robomimic/exps/paper</code>è·¯å¾„ä¸‹ï¼Œå¯ä»¥åœ¨<code>core.sh</code>æ–‡ä»¶ä¸­å¤åˆ¶å‘½ä»¤è¿›è¡Œè®­ç»ƒæµ‹è¯•ã€‚</p><p><strong>ï¼ˆ3ï¼‰æ‰§è¡Œè®­ç»ƒ</strong></p><p>åœ¨<code>core.sh</code>ä¸­æ‰¾åˆ°æƒ³è¦æµ‹è¯•çš„å‘½ä»¤ï¼Œæ‰§è¡Œå‘½ä»¤ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python /home/mahaofei/Programs/Imitation/RoboMimic/robomimic/robomimic/scripts/train.py --config /home/mahaofei/Programs/Imitation/RoboMimic/robomimic/robomimic/exps/paper/core/tool_hang/ph/low_dim/bc.json</span><br></pre></td></tr></table></figure><p>è®­ç»ƒç”Ÿæˆçš„å¯è§†åŒ–è§†é¢‘é»˜è®¤åœ¨</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/tmp/experiment_results/core/bc/tool_hang/ph/low_dim/trained_models/core_bc_tool_hang_ph_low_dim/20231227161534/videos/ToolHang_epoch_100.mp4</span><br></pre></td></tr></table></figure><h2 id="2-2-æ•°æ®é›†åˆ†æ">2.2 æ•°æ®é›†åˆ†æ</h2><p><strong>ï¼ˆ1ï¼‰å®˜æ–¹æ•°æ® hdf5 å†…å®¹è¯´æ˜</strong></p><p>å®˜æ–¹å¯¹æ¯ä¸€é¡¹ä»»åŠ¡æä¾›äº†ä¸¤ç§ç±»å‹çš„æ•°æ®é›†ï¼š<code>image</code> å’Œ <code>low_dim</code>ï¼Œä½†ä¸¤ç§æ•°æ®ç»“æ„åŸºæœ¬ç›¸åŒï¼š</p><ul><li>data (group)<ul><li>total (attribute): æ•°æ®é›†ä¸­çš„ state-action æ ·æœ¬æ•°é‡</li><li>env_args (attribute): ä¸€ä¸ª json å­—ç¬¦ä¸²ï¼ŒåŒ…å«ç¯å¢ƒçš„ metadata å’Œç”¨äºæ”¶é›†æ•°æ®çš„ç›¸å…³å‚æ•°ï¼ŒåŒ…å«ä¸‰ä¸ªkeys<ul><li>env_name: è¦åˆ›å»ºçš„ç¯å¢ƒæˆ–ä»»åŠ¡åç§°</li><li>env_type: robomimic æ”¯æŒçš„ç¯å¢ƒç±»å‹ä¹‹ä¸€</li><li>env_kwargs: è¦ä¼ é€’åˆ° env_name çš„å…³é”®å­—å‚æ•°çš„å­—å…¸</li></ul></li><li>demo_0 (group): ç¬¬ä¸€ä¸ªè½¨è¿¹çš„ç»„<ul><li>num_samples (attribute): è¯¥è½¨è¿¹ä¸­çš„ state-action æ ·æœ¬æ•°</li><li>model_file (attribute): å¯¹åº” mujoco æ¨¡å‹çš„ xml å­—ç¬¦ä¸²ï¼Œä»…é€‚ç”¨äº robosuite æ•°æ®é›†</li><li>states (dataset): å±•å¼€çš„ mujoco çŠ¶æ€ï¼ŒæŒ‰æ—¶é—´æ’åºï¼Œshape(N,D)ï¼Œå…¶ä¸­ N æ˜¯è½¨è¿¹çš„é•¿åº¦ï¼ŒD æ˜¯çŠ¶æ€å‘é‡çš„ç»´åº¦ï¼Œå¯¹äºé robosuite æ•°æ®é›†ï¼Œåº”è¯¥ä¸ºç©ºã€‚</li><li>actions (dataset): ç¯å¢ƒåŠ¨ä½œï¼ŒæŒ‰æ—¶é—´æ’åºï¼Œshape(N,A)ï¼Œå…¶ä¸­ N æ˜¯è½¨è¿¹çš„é•¿åº¦ï¼ŒA æ˜¯åŠ¨ä½œç©ºé—´ç»´åº¦ã€‚</li><li>rewards (datasets): å®Œæˆä¿¡å·ï¼Œå¦‚æœå½“å‰åŠ¨ä½œå¯¹åº”çš„çŠ¶æ€ä»£è¡¨ eposide åº”è¯¥ç»“æŸäº†ï¼Œåˆ™ä¸º1</li><li>obs (group): å­˜å‚¨ observation çš„é”®çš„ç»„ï¼Œæ¯ä¸ªé”®éƒ½æ˜¯ä¸€ä¸ª dataset<ul><li>obs_key_1 (dataset): ç¬¬ä¸€ä¸ª observation keyï¼Œè¯¥æ•°æ®é›†åç§°å’Œå½¢çŠ¶å¯èƒ½ä¼šä¸åŒ</li><li>â€¦</li></ul></li><li>next_obs (group): ä¸‹ä¸€ä¸ª observation çš„ç»„<ul><li>obs_key_1 (dataset): ç¬¬ä¸€ä¸ª observation key</li><li>â€¦</li></ul></li></ul></li><li>demo_1 (group): ç¬¬äºŒä¸ªè½¨è¿¹çš„ç»„</li><li>â€¦</li></ul></li><li>mask (group): å­˜åœ¨äºåŒ…å« filter keys çš„æ•°æ®é›†ä¸­<ul><li>filter_key_1: ç¬¬ä¸€ä¸ª filter keyï¼Œä¾‹å¦‚åˆ—è¡¨[â€œdemo_0â€, â€œdemo_19â€, â€œdemo_35â€]</li></ul></li></ul><p><strong>ï¼ˆ2ï¼‰ä¸‹è½½ rawã€low_dimã€image ä¸‰ç§æ ¼å¼çš„æ•°æ®</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;ä½ æƒ³ä¿å­˜æ•°æ®é›†çš„ä½ç½®&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½åŸå§‹æ•°æ®å’Œ low_dim æ•°æ®</span></span><br><span class="line">wget http://downloads.cs.stanford.edu/downloads/rt_benchmark/tool_hang/ph/demo_v141.hdf5</span><br><span class="line">wget http://downloads.cs.stanford.edu/downloads/rt_benchmark/tool_hang/ph/low_dim_v141.hdf5</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æˆ–</span></span><br><span class="line">cd robomimic/robomimic/scripts</span><br><span class="line">python download_datasets.py --tasks &lt;ä»»åŠ¡åç§°&gt; --dataset_types all --hdf5_types all --download_dir &lt;æ•°æ®ä¿å­˜è·¯å¾„&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è½¬æ¢å¾—åˆ° image æ•°æ®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ³¨æ„ï¼Œå¦‚æœè®­ç»ƒimageæ•°æ®ï¼Œéœ€è¦ä¿®æ”¹å¯¹åº”jsonæ–‡ä»¶ä¸­crop_heightå’Œcrop_widthä¸º76</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ³¨æ„ï¼Œè½¬æ¢åæ•°æ®æ–‡ä»¶å¯èƒ½åœ¨ 10GB å·¦å³ï¼Œæ³¨æ„ç£ç›˜ç©ºé—´</span></span><br><span class="line">python dataset_states_to_obs.py --dataset=&lt;åŸå§‹æ•°æ®çš„è·¯å¾„&gt; --output_name=image_v141.hdf5  --done_mode 2 --camera_names agentview robot0_eye_in_hand sideview --camera_height 84 --camera_width 84</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ <code>image</code> æ ¼å¼æ•°æ®ï¼Œä½¿ç”¨ <code>download_datasets.py</code> ä¸‹è½½ä¼šæç¤ºæ—  urlï¼Œä» raw æ•°æ®è½¬æ¢ image åœ¨è®­ç»ƒæ—¶ä¼šæç¤ºå›¾ç‰‡æ ¼å¼é”™è¯¯ã€‚ç»æŸ¥æ‰¾ï¼Œåœ¨ <a href="https://robomimic.github.io/docs/v0.2/datasets/robomimic_v0.1.html">v2.0 æ–‡æ¡£</a>ä¸­æä¾›äº† image æ ¼å¼æ•°æ®ï¼Œå¦‚æœ‰éœ€è¦è¯·ä»æ­¤å¤„ä¸‹è½½ã€‚</p><p>ä¾‹å¦‚ robomimic çš„ tool_hang ç¯å¢ƒçš„ <code>image</code> ç±»å‹æ•°æ®é›†çš„  <code>demo_0</code> ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><ul><li><strong>actions</strong>: shape (n, 7)ï¼Œn ä¸ºè½¨è¿¹é•¿åº¦ï¼Œ7ä¸ºåŠ¨ä½œç»´åº¦</li><li><strong>dones</strong>: shape (n, )ï¼Œn ä¸ºè½¨è¿¹é•¿åº¦</li><li><strong>obs</strong><ul><li><strong>agentview_image</strong>: shape (n, 256, 256, 3)ï¼Œagent è§†è§’å›¾åƒï¼Œåˆ†åˆ«å¯¹åº”(n, H, W, C)ï¼Œn ä¸ºè½¨è¿¹é•¿åº¦ï¼ŒH ä¸ºå›¾åƒé«˜ï¼ŒW ä¸ºå®½ï¼ŒC ä¸ºå›¾åƒé€šé“æ•°ï¼Œæ‰€æœ‰å›¾åƒéœ€ä¸º np.uint8 ç±»å‹</li><li><strong>object</strong>: shape (n, 44)ï¼Œn ä¸ºè½¨è¿¹é•¿åº¦ï¼Œä¸‰ä¸ªç‰©ä½“ base, frame, tool çš„ä½ç½®ï¼Œå§¿æ€ï¼Œç›¸å¯¹æœºæ¢°è‡‚æœ«ç«¯çš„ä½ç½®å§¿æ€(pos3, quat4, to_eef_pos3, to_eef_quat4)ï¼Œå…±è®¡ 3x14 ä¸ªå€¼ï¼Œä»¥åŠ frame_is_assembled ä¸ tool_on_frame ä¸¤ä¸ªå¸ƒå°”å€¼</li><li><strong>robot0_eef_pos</strong>: shape (n, 3)ï¼Œæœºå™¨äººæœ«ç«¯ä½ç½®</li><li><strong>robot0_eef_quat</strong>: shape (n, 4)ï¼Œæœºå™¨äººæœ«ç«¯å§¿æ€å››å…ƒæ•°</li><li><strong>robot0_eef_vel_ang</strong>: shape (n, 3)ï¼Œæœºå™¨äººæœ«ç«¯è§’é€Ÿåº¦</li><li><strong>robot0_eef_vel_lin</strong>: shape (n, 3)ï¼Œæœºå™¨äººæœ«ç«¯çº¿é€Ÿåº¦</li><li><strong>robot0_eye_in_hand_image</strong>: shape (n, 256, 256, 3)ï¼Œæœºå™¨äººæœ«ç«¯ç›¸æœºå›¾åƒ</li><li><strong>robot0_gripper_qpos</strong>: shape (n, 2)ï¼Œæœ«ç«¯å¤¹çˆªåŠ¨ä½œçŠ¶æ€ï¼Œå·¦å³ä¸¤ä¾§</li><li><strong>robot0_gripper_qvel</strong>: shape (n, 2)ï¼Œæœ«ç«¯å¤¹çˆªåŠ¨ä½œé€Ÿåº¦ï¼Œå·¦å³ä¸¤ä¾§</li><li><strong>robot0_joint_pos</strong>: shape (n, 7)ï¼Œæœºå™¨äººå„å…³èŠ‚è½¬è§’</li><li><strong>robot0_joint_pos_cos</strong>: shape (n, 7)ï¼Œæœºå™¨äººå„å…³èŠ‚è½¬è§’ cos å€¼</li><li><strong>robot0_joint_pos_sin</strong>: shape (n, 7)ï¼Œæœºå™¨äººå„å…³èŠ‚è½¬è§’ sin å€¼</li><li><strong>robot0_joint_vel</strong>: shape (n, 7)ï¼Œæœºå™¨äººå„å…³èŠ‚é€Ÿåº¦</li><li><strong>sideview_image</strong>: shape (n, 256, 256, 3)ï¼Œä¾§æ–¹ä½ç›¸æœºå›¾åƒ</li></ul></li><li><strong>next_obs</strong><ul><li>åŒä¸Š</li></ul></li><li><strong>rewards</strong>: shape (n, )ï¼Œn ä¸ºè½¨è¿¹é•¿åº¦</li><li><strong>states</strong>: shape (n, 58)ï¼Œn ä¸ºè½¨è¿¹é•¿åº¦ï¼Œ58 æ˜¯çŠ¶æ€å‘é‡çš„ç»´åº¦ï¼Œå¯¹äºé robosuite æ•°æ®é›†ï¼Œåº”è¯¥ä¸ºç©º</li></ul><p>è€Œ <code>low_dim</code> ç±»å‹çš„æ•°æ®é›†çš„ä¸­å†…å®¹ä¸ <code>image</code> åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯ obs ä¸­å°‘äº†æ‰€æœ‰çš„ imageã€‚</p><p><strong>ï¼ˆ3ï¼‰æ•°æ®é›†å¯è§†åŒ–</strong></p><p>ä½¿ç”¨Â <code>playback_dataset.py</code>Â è„šæœ¬æŸ¥çœ‹æ•°æ®é›†è½¨è¿¹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python playback_dataset.py --dataset &lt;path/to/.hdf5&gt; --video_path &lt;path/to/.mp4&gt; --n 5</span><br></pre></td></tr></table></figure><h1>ä¸‰ã€è‡ªå®šä¹‰</h1><h2 id="3-1-ç”Ÿæˆè‡ªå®šä¹‰æ•°æ®é›†">3.1 ç”Ÿæˆè‡ªå®šä¹‰æ•°æ®é›†</h2><p>è¯¥é¡¹ç›®ä¸­æ”¶é›†äººç±»æ¼”ç¤ºæ•°æ®çš„è„šæœ¬ä¸º <code>robosuite/robosuite/scripts/collect_human_demonstrations.py</code>ï¼Œå…¶ä¸­å¯ä»¥æŒ‡å®šç¯å¢ƒï¼ŒæŒ‡å®šæ‰€ä½¿ç”¨çš„æœºå™¨äººï¼Œæ§åˆ¶å•è‡‚è¿˜æ˜¯åŒè‡‚ï¼Œç”¨äºæ”¶é›†æ¼”ç¤ºæ•°æ®çš„ç›¸æœºç­‰ç­‰ã€‚</p><p>ä½†æ˜¯è¿™äº›éƒ½æ˜¯ robomimic æ‰€æä¾›çš„ï¼Œå¦‚æœæˆ‘æƒ³è¦ä½¿ç”¨è‡ªå·±çš„æœºå™¨äººæ¨¡å‹ï¼Œåœ¨è‡ªå®šä¹‰ç¯å¢ƒä¸­è®°å½•ä»»åŠ¡æ•°æ®ï¼Œåˆ™éœ€è¦ä¿®æ”¹çš„è¾ƒå¤šï¼Œå› æ­¤è€ƒè™‘åœ¨è‡ªå·±çš„ mujoco ç¯å¢ƒä¸­æŒ‰ç…§å‰æ–‡åˆ†æçš„ hdf5 æ•°æ®æ ¼å¼ç›´æ¥ç”Ÿæˆæ•°æ®ã€‚</p><blockquote><p>å‚è€ƒé“¾æ¥ï¼š</p><ol><li><a href="https://robomimic.github.io/docs/">Robotmimic å®˜æ–¹æ–‡æ¡£ (robomimic documentation)</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">robomimic æ˜¯ä¸€ä¸ªç”¨äºæœºå™¨äººä»æ¼”ç¤ºå­¦ä¹ çš„æ¡†æ¶ï¼Œè¯¥é¡¹ç›®æä¾›äº†ä¸€ç³»åˆ—æœºå™¨äººæ“ä½œçš„æ¼”ç¤ºæ•°æ®å’Œç¦»çº¿å­¦ä¹ ç®—æ³•ï¼Œå¯ä»¥è®©äººä»¬å¯¹ä»»åŠ¡å’Œç®—æ³•è¿›è¡Œæ ‡å‡†åŒ–æµ‹è¯•ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="æœºå™¨äººå­¦ä¹ " scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="æ¨¡ä»¿å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E6%A8%A1%E4%BB%BF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯¾ç¨‹ç¬”è®°ã€‘Stanford CS25 V2 - Robotics and Imitation Learning</title>
    <link href="https://www.mahaofei.com/post/standford-cs25.html"/>
    <id>https://www.mahaofei.com/post/standford-cs25.html</id>
    <published>2023-12-24T05:54:05.000Z</published>
    <updated>2023-12-24T05:54:05.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Video Link: <a href="https://www.youtube.com/watch?v=ct4tdyyNDY4">https://www.youtube.com/watch?v=ct4tdyyNDY4</a></p></blockquote><p>è¿‡å»ä¸¤å¹´ï¼Œç”±äºå¤§è¯­è¨€æ¨¡å‹ã€è¯­éŸ³æŠ€æœ¯ã€è§†è§‰æŠ€æœ¯çš„å‘å±•ï¼Œæœºå™¨äººæŠ€æœ¯çš„ç ”ç©¶æ€è·¯å‘ç”Ÿäº†180åº¦çš„è½¬å˜ã€‚</p><h1>æœºå™¨äººåŸºç¡€æ¨¡å‹</h1><p>ç›®å‰åœ¨å¤§é‡æ•°æ®ä¸Šè¿›è¡Œå¤§è§„æ¨¡æ¨¡å‹è®­ç»ƒæ—¶ï¼Œé€šå¸¸ç”±ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„å±æ€§ï¼š</p><ul><li>æ¶Œç°ï¼šå½“éå¸¸ç®€å•åœ°äº‹æƒ…åœ¨å°èŒƒå›´å‘æŒ¥ä½œç”¨æ—¶ï¼Œå½“æ‰©å¤§èŒƒå›´ï¼Œå®ƒçš„è¡¨ç°ä¼šæ›´å¥½ï¼Œä¾‹å¦‚æ›´å¤šçš„æ•°æ®ã€æ›´å¤§çš„æ¨¡å‹ã€‚</li><li>å‡è´¨åŒ–ï¼šæ¨¡å‹å¯ä»¥ç»„åˆè®¸å¤šä¸‹æ¸¸ä»»åŠ¡æ¥å®ç°æ³›åŒ–èƒ½åŠ›</li></ul><p>å½“ç„¶æˆ‘ä»¬å¯èƒ½ä¼šæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆç›®å‰è¿˜æ²¡æœ‰æœºå™¨äººé¢†åŸŸçš„åŸºç¡€æ¨¡å‹ã€‚ä¸åƒéŸ³é¢‘ã€è¯­è¨€ã€å›¾åƒç­‰é¢†åŸŸï¼Œè¿™äº›é¢†åŸŸå·²ç»å‡ºç°äº†è¾ƒä¸ºé€šç”¨çš„åŸºç¡€æ¨¡å‹ï¼Œæœºå™¨äººæŠ€æœ¯çš„åŸºç¡€æ¨¡å‹è¿˜æ²¡æœ‰äººç ”ç©¶å‡ºæ¥ã€‚</p><p>é‚£ä¹ˆå¦‚æœæƒ³è¦å®ç°æœºå™¨äººçš„åŸºç¡€æ¨¡å‹ï¼Œå¯ä»¥å¦‚ä½•åšï¼š</p><p><strong>ï¼ˆ1ï¼‰è®¾è®¡å¼ºåŒ–å­¦ä¹ ç®—æ³•</strong></p><ol><li>åˆ©ç”¨é«˜æ€§èƒ½çš„æ¶æ„ï¼Œä¾‹å¦‚self-attention</li><li>åˆ©ç”¨æ¯”ä¾‹æ³•åˆ™ï¼Œä¸ä»…è¦æ‰©å¤§æ¨¡å‹å¤§å°ï¼Œè¿˜æœ‰æ‰©å±•è®¡ç®—ï¼Œè¿˜éœ€è¦æ‰©å¤§æ•°æ®é›†è¯­æ–™åº“ä»¥åŠæ ‡è®°æ•°é‡</li><li>æ•°æ®é›†å¤§å°æ¯”æ•°æ®è´¨é‡æ›´é‡è¦</li></ol><p><strong>ï¼ˆ2ï¼‰äº’è”ç½‘è§„æ¨¡çš„æ¨¡å‹æ‰©æ•£</strong></p><ol><li>ç”Ÿæˆå¼æ¨¡å‹åœ¨è¯­è¨€ã€ç¼–ç¨‹ã€è§†è§‰ã€éŸ³é¢‘ç­‰é¢†åŸŸå·²ç»å±•ç°å‡ºäº†æ¶Œç°çš„èƒ½åŠ›ï¼Œå¹¶ä¸”ä¸€æ¬¡æ¬¡è¶…å‡ºäº†æˆ‘ä»¬çš„é¢„æœŸï¼Œè¿™ä¸ªè¶‹åŠ¿åœ¨å¯è§çš„æœªæ¥ä¸­è¿˜ä¼šä¸€ç›´ä¿æŒä¸‹å»ã€‚</li><li>æ¶Œç°å’ŒåŠ é€Ÿæ„å‘³ç€è¿™äº›æ¨¡å‹å¯ä»¥â€œè‡ªå·±â€å˜çš„æ›´å¥½</li></ol><p><strong>ï¼ˆ3ï¼‰ä»åœ¨çº¿æœºå™¨äººå­¦ä¹ è½¬ç§»åˆ°ç¦»çº¿å­¦ä¹ </strong></p><ol><li>ç›®å‰çš„å¤§æ¨¡å‹éƒ½æ˜¯åœ¨å·¨å¤§è§„æ¨¡çš„ç¦»çº¿æ•°æ®é›†ä¸Šè®­ç»ƒå®Œæˆçš„</li></ol><h1>Google Brain ç›¸å…³å·¥ä½œ</h1><h2 id="è¿‡å»å·¥ä½œ">è¿‡å»å·¥ä½œ</h2><p><strong>ï¼ˆ1ï¼‰2016 - æœºå™¨äººå·¥å‚</strong></p><ol><li><strong>å¼ºåŒ–å­¦ä¹ </strong>ï¼šGoogleå»ºç«‹äº†ä¸€ä¸ªåŒ…å«7ä¸ªKukaæœºæ¢°è‡‚çš„æœºå™¨äººå·¥å‚ï¼Œ7x24å°æ—¶æ‰§è¡ŒæŠ“å–åŠ¨ä½œï¼Œè¿›è¡Œå¼ºåŒ–å­¦ä¹ è®­ç»ƒã€‚</li><li><strong>Qt-Opt</strong>ï¼šQ-å­¦ä¹ ç®—æ³•ï¼Œæ¥å—è§†è§‰è¾“å…¥çš„åŒæ—¶è¿›è¡Œè¿ç»­æ§åˆ¶ã€‚</li><li><strong>RL-CycleGan</strong>ï¼šå°†æˆ¿å±•ç¯å¢ƒçš„å›¾åƒè½¬æ¢ä¸ºçœŸå®çš„å›¾åƒï¼Œè®©æœºå™¨äººåœ¨æ˜¾ç¤ºä¸–ç•Œä¸­æ›´å¥½åœ°å®Œæˆä»»åŠ¡ã€‚</li></ol><p><strong>ï¼ˆ2ï¼‰2020 - å¨æˆ¿ç¯å¢ƒ</strong></p><ol><li><strong>BC-Z</strong>ï¼šå¤šä»»åŠ¡æ¨¡ä»¿å­¦ä¹ </li><li><strong>AW-Opt</strong>ï¼šå°†å¼ºåŒ–å­¦ä¹ ä¸æ¨¡ä»¿å­¦ä¹ å¼•å¯¼ç›¸ç»“åˆ</li></ol><p><strong>ï¼ˆ3ï¼‰2022</strong></p><p>é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚åœ¨ä¸€äº›åœºæ™¯ä»»åŠ¡ä¸­ï¼ŒæˆåŠŸç‡å·²ç»ç¨³å®šåˆ°äº†50~70%ï¼Œä¸€äº›æ–¹æ³•éœ€è¦éå¸¸ç‰¹å®šçš„æ•°æ®åˆ†å¸ƒï¼Œå¦‚æœç­–ç•¥æ²¡æœ‰è®­ç»ƒè¿‡å½“å‰çš„æ•°æ®ï¼Œé‚£ä¹ˆä»»åŠ¡å¾ˆå¯èƒ½å¤±è´¥ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGoogle è¿›è¡Œäº†ä»¥ä¸‹å·¥ä½œ</p><ol><li>å¤šä»»åŠ¡æ¨¡ä»¿å­¦ä¹ </li><li>ä½¿ç”¨å¤§è§„æ¨¡æ•°æ®é›†</li></ol><h2 id="è¿‘æœŸå·¥ä½œ">è¿‘æœŸå·¥ä½œ</h2><p><strong>ï¼ˆ1ï¼‰RT-1</strong></p><p>ä¸»è¦èšç„¦äºå¦‚ä½•æ‰©å±•æ¨¡ä»¿å­¦ä¹ ã€‚</p><ol><li>ä½¿ç”¨ä¸€å¹´åŠæ—¶é—´ä»13ä¸ªæœºå™¨äººä¸­æ”¶é›†äº†100kçš„æ¼”ç¤ºæ•°æ®ï¼ŒåŒ…æ‹¬700ä¸ªä»»åŠ¡</li><li>ä½¿ç”¨BC-Zè¿›è¡Œè®­ç»ƒ</li><li>ç”±äºåŸºäºTransformerçš„ç®—æ³•åœ¨å¤„ç†å›¾åƒæ—¶ï¼Œç°åœ¨è¿˜ä¸è¶³ä»¥æ”¯æ’‘æœºå™¨äººå­¦ä¹ ä¸­çš„é«˜é¢‘ç‡ã€å®æ—¶æ€§è¦æ±‚ï¼Œå› æ­¤å¸Œæœ›æ•°æ®é›†èƒ½å¤Ÿç†è§£è¯­è¨€æ¨¡å‹ã€‚</li></ol><p>ä»è¾ƒé«˜çš„å±‚é¢æ¥çœ‹ï¼ŒRT-1æ˜¯ä¸€ä¸ªæœºå™¨äººTransformerï¼Œå®ƒæ¥å—æœºå™¨äººæ‘„åƒå¤´çš„è§†è§‰è¾“å…¥ï¼Œä»¥åŠè‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œä»…ä»…ä½¿ç”¨transformerè¿›è¡Œè§£ç ï¼Œåˆ†ç¦»ç›®æ ‡ç‰©ä½“ç±»åˆ«ï¼Œä½¿ç”¨é¢„è®­ç»ƒçš„EfficientNetä¸»å¹²ç½‘ç»œå¾—åˆ°ç¦»æ•£åŒ–åŠ¨ä½œã€‚</p><p><strong>ï¼ˆ2ï¼‰SayCan</strong></p><p>æœºå™¨äººçš„æŠ€èƒ½èƒ½å¤Ÿæ˜¯æœ‰é™çš„ï¼Œå¤§è¯­è¨€æ¨¡å‹ä¹Ÿæ˜¯å—é™åˆ¶çš„ï¼Œä»–ä¸çŸ¥é“æœºå™¨äººçš„çŠ¶æ€ï¼Œä¸çŸ¥é“å‘¨å›´ç¯å¢ƒã€‚</p><p>å› æ­¤è¿™é¡¹å·¥ä½œä¸»è¦å®ç°è®©è¯­è¨€æ¨¡å‹è¯´æœºå™¨äººçš„è¯­è¨€ã€‚</p><p><strong>ï¼ˆ3ï¼‰Inner-Monologue</strong></p><p>å°†ç¯å¢ƒçš„åŠ¨æ€ç¯å¢ƒåé¦ˆåŠ å…¥åˆ°é—­ç¯ä¸­ï¼Œä¹Ÿä½¿ç”¨è¯­è¨€çš„APIæ¥ä¼ è¾¾ç¯å¢ƒä¸­æœ‰ä»€ä¹ˆã€‚</p>]]></content>
    
    
    <summary type="html">Stanford CS25 V2ä¸­çš„ä¸€èŠ‚è¯¾ï¼Œç”±Google Brainå·¥ç¨‹å¸ˆä¸»è®²çš„æœºå™¨äººå­¦ä¹ ä¸»é¢˜è¯¾ç¨‹ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="æœºå™¨äººå­¦ä¹ " scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="æ¨¡ä»¿å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E6%A8%A1%E4%BB%BF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="è¯¾ç¨‹ç¬”è®°" scheme="https://www.mahaofei.com/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuä¸WindowåŒä¸»æœºå…±ç”¨ä¸€å¥—é”®é¼ </title>
    <link href="https://www.mahaofei.com/post/doublecomputer-onekeyboard.html"/>
    <id>https://www.mahaofei.com/post/doublecomputer-onekeyboard.html</id>
    <published>2023-12-14T01:43:41.000Z</published>
    <updated>2023-12-14T01:43:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ã€‡ã€ä½¿ç”¨è½¯ä»¶ï¼ˆSynergyï¼‰">ã€‡ã€ä½¿ç”¨è½¯ä»¶ï¼ˆSynergyï¼‰</h2><p>Synergyæ˜¯ä¸€æ¬¾èƒ½å¤Ÿè®©ä½¿ç”¨è€…ä»…ç”¨ä¸€å¥—é”®ç›˜é¼ æ ‡ï¼Œå°±åŒæ—¶æ“æ§å¤šéƒ¨è®¡ç®—æœºçš„å…è´¹å·¥å…·è½¯ä»¶ã€‚</p><p>æˆ‘çš„éœ€æ±‚æ˜¯åœ¨ä¸€ä¸ªå±€åŸŸç½‘å†…çš„ä¸€å°windows 11ä¸»æœºï¼Œä¸€å°Ubuntu 20.04ä¸»æœºä¹‹é—´å…±äº«é”®é¼ ã€å‰ªåˆ‡æ¿ï¼Œå¹¶ä¸”é”®é¼ æ¥åœ¨windowsä½œä¸ºserverï¼Œlinuxä½œä¸ºclientã€‚</p><h2 id="ä¸€ã€è½¯ä»¶å®‰è£…">ä¸€ã€è½¯ä»¶å®‰è£…</h2><blockquote><p>Github: <a href="https://github.com/DEAKSoftware/Synergy-Binaries/releases">https://github.com/DEAKSoftware/Synergy-Binaries/releases</a></p></blockquote><h3 id="1-1-Windows">1.1 Windows</h3><blockquote><p>ä¸‹è½½æœ€æ–°çš„å’Œ</p></blockquote><p>åœ¨ä¸Šé¢çš„ Github é¡µé¢ä¸­ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ï¼š <a href="https://github.com/DEAKSoftware/Synergy-Binaries/releases/download/1.14.6.19-stable/synergy-1.14.6.19-stable-windows-10-amd64.msi">synergy-1.14.6.19-stable-windows-10-amd64.msi</a> ï¼Œç›´æ¥å®‰è£…ã€‚</p><h3 id="1-2-Ubuntu">1.2 Ubuntu</h3><p>åœ¨ä¸Šé¢çš„ Github é¡µé¢ä¸­ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ <a href="https://github.com/DEAKSoftware/Synergy-Binaries/releases/download/1.14.6.19-stable/synergy-1.14.6.19-stable-ubuntu-22.04-jammy-jellyfish-x86_64.deb">synergy-1.14.6.19-stable-ubuntu-22.04-jammy-jellyfish-x86_64.deb</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i synergy-1.14.6.19-stable-ubuntu-22.04-jammy-jellyfish-x86_64.deb</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°ç¼ºå°‘ä¾èµ–çš„é—®é¢˜ï¼Œå°±æ ¹æ®ç¼ºå°‘çš„ä¾æ¬¡å®‰è£…ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libqt5core5a</span><br><span class="line">sudo apt install libqt5dbus5</span><br><span class="line">sudo apt install libqt5gui5 libqt5gui5-gles</span><br><span class="line">sudo apt install libqt5network5</span><br><span class="line">sudo apt install libqt5widgets5</span><br></pre></td></tr></table></figure><h2 id="äºŒã€è½¯ä»¶é…ç½®">äºŒã€è½¯ä»¶é…ç½®</h2><p><strong>ç¡®ä¿ä¸¤ä¸ªç”µè„‘åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹</strong></p><h3 id="2-1-æ‰“å¼€è½¯ä»¶">2.1 æ‰“å¼€è½¯ä»¶</h3><p>Ubuntu åœ¨åº”ç”¨èœå•å†…ç‚¹å‡» Synergyï¼Œæˆ–è€…å‘½ä»¤è¡Œè¾“å…¥ <code>synergy</code>ï¼Œç­‰å¾… 5 ç§’å·¦å³ï¼Œå¯èƒ½ä¼šå¼¹å‡º <code>System tray is unavailable, don't close your window.</code>ï¼Œä¸ç”¨ç®¡ï¼Œç›´æ¥ç‚¹ ok å°±è¡Œã€‚</p><p>Ubuntu æ‰“å¼€è½¯ä»¶åï¼Œ<strong>å‹¾é€‰ Client</strong>ï¼Œ<strong>å‹¾é€‰Auto config</strong> å³å¯ã€‚</p><p>Windows æ‰“å¼€ Synergy ç¨‹åºã€‚æ‰“å¼€è½¯ä»¶åï¼Œ<strong>å‹¾é€‰ Server</strong>ã€‚</p><h3 id="2-2-è®¾ç½®æœåŠ¡ç«¯">2.2 è®¾ç½®æœåŠ¡ç«¯</h3><p>åœ¨æœåŠ¡ç«¯ç”µè„‘ï¼Œç‚¹å‡»è®¾ç½®æœåŠ¡ç«¯ï¼Œç„¶åæŠŠå³ä¸Šè§’çš„ç”µè„‘ï¼Œæ‹–ä¸€ä¸ªåˆ°ä½ çš„ç”µè„‘æ—è¾¹ã€‚<strong>å±å¹•åå¡«å†™ Ubuntu ä¸­çš„ Client ä¸‹çš„å±å¹•å</strong>ã€‚</p><p><img src="https://img.mahaofei.com/img/202405052044212.png" alt="image.png"></p><h3 id="2-3-è®¾ç½®å®¢æˆ·ç«¯">2.3 è®¾ç½®å®¢æˆ·ç«¯</h3><p>æœ¬æ¥å…¶å®æ²¡æœ‰ä»€ä¹ˆè®¾ç½®çš„ï¼Œç›´æ¥ä¸¤è¾¹ç‚¹å¼€å§‹å°±å¯ä»¥äº†ã€‚ä½†æ˜¯ç”±äº Ubuntu çš„ ç‰ˆæœ¬è¾ƒè€ï¼Œæœ‰ä¸€äº›é—®é¢˜ã€‚</p><p><strong>é—®é¢˜ 1</strong>ï¼š<code>ERROR: failed to connect secure socket.</code></p><p><strong>è§£å†³ 1ï¼š</strong> å‚è€ƒ <a href="https://blog.csdn.net/guojingyue123/article/details/120013254">CSDN. aprilaaaaa</a></p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gedit ~/.config/Synergy/Synergy.conf</span><br><span class="line"><span class="comment"># æŠŠcryptoEnabled = tureè¿™ä¸€è¡Œï¼Œtureæ”¹æˆfalse</span></span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜ 2</strong>ï¼š<code>ERROR: error:140AB18F:SSL routines:SSL_CTX_use_certificate:ee key too small</code></p><p><strong>è§£å†³ 2</strong>ï¼šå‚è€ƒ [CSDN.æ©˜åœ†äº®](c <a href="https://blog.csdn.net/CyFio/article/details/121060881">https://blog.csdn.net/CyFio/article/details/121060881</a> )</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. é€€å‡º Synergy</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. åˆ é™¤ SSLæ–‡ä»¶å¤¹</span></span><br><span class="line">cd /home/&lt;username&gt;/.synergy/</span><br><span class="line">rm -rf SSL/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3. ä¿®æ”¹ /usr/share/synergy/gen_ssl_pem.sh ä¸­ rsa:åé¢çš„å‚æ•°ä¸º4096</span></span><br><span class="line">sudo gedit /usr/share/synergy/gen_ssl_pem.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4. é‡æ–°ç”ŸæˆSSLæ–‡ä»¶å¤¹</span></span><br><span class="line">bash /usr/share/synergy/gen_ssl_pem.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5. é‡æ–°å¯åŠ¨ Synergy</span></span><br></pre></td></tr></table></figure><p>è§£å†³å®Œä»¥ä¸Šé—®é¢˜åï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½ç‚¹å‡»å¼€å§‹ï¼Œå°±å¯ä»¥å»ºç«‹é€šä¿¡äº†ã€‚å®ç°é¼ æ ‡ã€é”®ç›˜ã€å‰ªåˆ‡æ¿çš„äº’è”ã€‚</p><h2 id="ä¸‰ã€å…¶å®ƒé—®é¢˜">ä¸‰ã€å…¶å®ƒé—®é¢˜</h2><h3 id="3-1-æœåŠ¡ç«¯é¼ æ ‡ç§»è‡³å®¢æˆ·ç«¯ï¼Œç›´æ¥å¡æ­»åœ¨å³ä¸‹è§’">3.1 æœåŠ¡ç«¯é¼ æ ‡ç§»è‡³å®¢æˆ·ç«¯ï¼Œç›´æ¥å¡æ­»åœ¨å³ä¸‹è§’</h3><p>è¿™ä¸ªé—®é¢˜çš„åŸå› åœ¨äºä¸¤ä¸ªå±å¹•çš„åˆ†è¾¨ç‡ä¸ä¸€è‡´ï¼Œæˆ–ç¼©æ”¾æ¯”ä¾‹ä¸ä¸€è‡´ã€‚å‚è€ƒ <a href="https://tieba.baidu.com/p/5016381206">Synergy è´´å§</a>ã€‚</p><h3 id="3-2-æŸæ¬¡é‡å¯åï¼ŒClient-ç«¯ä¸€ç›´æ˜¾ç¤º-synergy-failed-to-connect-to-serverï¼Œæ— æ³•è¿æ¥">3.2 æŸæ¬¡é‡å¯åï¼ŒClient ç«¯ä¸€ç›´æ˜¾ç¤º synergy failed to connect to serverï¼Œæ— æ³•è¿æ¥</h3><p>ç»è¿‡æ’æŸ¥ï¼Œæˆ‘çš„é—®é¢˜ server ç«¯çš„ IP å†æŸæ¬¡é‡å¯åè¢«æ”¹ä¸ºäº†å…¶å®ƒ IP åœ°å€ã€‚</p><p>å¯ä»¥æ£€æŸ¥ server ç«¯<strong>åŠ ç²—çš„ IP åœ°å€</strong>ï¼Œä¸ client ç«¯çš„æœåŠ¡ç«¯ IP è®¾ç½®æ˜¯å¦ä¸€è‡´ã€‚</p><p>ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•æ˜¯æ‰‹åŠ¨è®¾ç½®ç”µè„‘ IPï¼Œç‚¹å‡» windows çš„ã€è®¾ç½®-ç½‘ç»œ-ä»¥å¤ªç½‘ã€‘ç¼–è¾‘ IP åœ°å€ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µå›ºå®š IPï¼Œå¯ä»¥ç›´æ¥å›ºå®šä¸ºä¹‹å‰è‡ªå·±ç”µè„‘ä¸€ç›´çš„ IP æˆ–è€… synergy ç•Œé¢æ˜¾ç¤ºçš„ IPã€‚ï¼ˆUbuntu ä½œä¸ºæœåŠ¡ç«¯ä¹Ÿå¯ä»¥å›ºå®š IPï¼‰</p><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://blog.csdn.net/guojingyue123/article/details/120013254">aprilaaaaa. Ubuntu20.04 å®‰è£… synergyï¼ˆWindows å’Œ linux å…±ç”¨ä¸€å¥—é”®é¼ ï¼‰. CSDN. </a></li><li><a href="https://blog.csdn.net/CyFio/article/details/121060881">æ©˜åœ†äº®. synergy æ—©æœŸå…è´¹ç‰ˆæœ¬åœ¨ Ubuntu20 æŠ¥é”™ SSL Key too small é—®é¢˜è§£å†³æ–¹æ³•. CSDN</a></li><li><a href="https://tieba.baidu.com/p/5016381206">Synergy è´´å§</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">Synergyæ˜¯ä¸€æ¬¾èƒ½å¤Ÿè®©ä½¿ç”¨è€…ä»…ç”¨ä¸€å¥—é”®ç›˜é¼ æ ‡ï¼Œå°±åŒæ—¶æ“æ§å¤šéƒ¨è®¡ç®—æœºçš„å…è´¹å·¥å…·è½¯ä»¶ã€‚</summary>
    
    
    
    <category term="å®ç”¨å·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Ubuntuå·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/Ubuntu%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="Ubuntu" scheme="https://www.mahaofei.com/tags/Ubuntu/"/>
    
    <category term="å¤šä¸»æœº" scheme="https://www.mahaofei.com/tags/%E5%A4%9A%E4%B8%BB%E6%9C%BA/"/>
    
    <category term="Windows" scheme="https://www.mahaofei.com/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>Windowsä¸UbuntuåŒç³»ç»Ÿç»‘å®šåŒä¸€ä¸ªè“ç‰™è®¾å¤‡ï¼ˆæ— éœ€é‡æ–°é…å¯¹ï¼‰</title>
    <link href="https://www.mahaofei.com/post/doublesystem-onebluetooth.html"/>
    <id>https://www.mahaofei.com/post/doublesystem-onebluetooth.html</id>
    <published>2023-12-13T13:25:52.000Z</published>
    <updated>2023-12-13T13:25:52.000Z</updated>
    
    <content type="html"><![CDATA[<h1>1ã€Ubuntu ä¸‹é…å¯¹è“ç‰™è®¾å¤‡</h1><p>ä¼šç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚</p><h1>2ã€Windows ä¸‹å†é…å¯¹è“ç‰™è®¾å¤‡</h1><p>è¯»å–è“ç‰™é…å¯¹ä¿¡æ¯ï¼ŒWindowsä¸‹çš„è“ç‰™é…å¯¹ä¿¡æ¯å­˜å‚¨åœ¨æ³¨å†Œè¡¨ä¸­ï¼Œå¹¶ä¸”æ­¤ä¿¡æ¯éœ€è¦ä½¿ç”¨ç‰¹æ®Šæ–¹æ³•æ‰èƒ½æŸ¥çœ‹ã€‚</p><p>ä¸‹è½½ <a href="https://docs.microsoft.com/en-us/sysinternals/downloads/psexec">PsTools</a>ï¼Œå°†PSTools.zip ä¸­çš„ PsExec.exe æˆ– PsExec64.exe è§£å‹å‡ºæ¥ï¼Œå¹¶ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œ cmdï¼Œ<code>cd</code> åˆ°<code>PsExec64.exe</code> æ‰€åœ¨ç›®å½•ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨regedit.exe</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psexec64.exe -si regedit</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°ä¸‹é¢çš„è“ç‰™é…å¯¹ä¿¡æ¯</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTHPORT\Parameters\Keys\ã€æœ¬æœºè“ç‰™ MACã€‘</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/202312132218479.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°å…¶ä¸­æœ‰ç±»å‹ä¸º<code>REG_BINARY</code>çš„å€¼ï¼Œæ¯ä¸ªå€¼å¯¹åº”ä¸€ä¸ªè®¾å¤‡ï¼Œå°†å…¶åç§°å’Œæ•°æ®è®°ä¸‹æ¥ï¼Œæˆ–è€…ç›´æ¥å¯¼å‡ºï¼Œæˆ‘å¯¼å‡ºåç”¨è®°äº‹æœ¬æ‰“å¼€å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTHPORT\Parameters\Keys\d4d853556b34]</span><br><span class="line">&quot;CentralIRK&quot;=hex:38,a5,32,96,6c,bf,c2,31,7b,e9,43,e0,b9,cc,9d,d6</span><br><span class="line">&quot;6468761a6934&quot;=hex:6b,bf,d8,14,d8,aa,2f,d8,f7,68,73,a7,83,64,6e,8f</span><br></pre></td></tr></table></figure><blockquote><p>æ­¤å¤–å¦‚æœæ˜¯ç½—æŠ€è®¾å¤‡ï¼Œä¾‹å¦‚æœ¬äººçš„ç½—æŠ€é¼ æ ‡ï¼Œåˆ™éœ€è¦<strong>å¯¼å‡º</strong> <code>ã€æœ¬æœºè“ç‰™ MACã€‘</code> ä¸‹çš„å­é¡¹ï¼Œé¡¹åç§°ä¸ºç½—æŠ€é¼ æ ‡çš„ MAC åœ°å€ï¼Œé¡¹ä¸­çš„å„ä¸ªå€¼åˆ™æ˜¯éœ€è¦å¡«å†™åˆ° Ubunut ä¸­çš„å†…å®¹<br><img src="https://img.mahaofei.com/img/202401261931186.png" alt="image.png"></p></blockquote><h1>3ã€ä¿®æ”¹Linuxä¸‹çš„è“ç‰™é…å¯¹ä¿¡æ¯</h1><h2 id="3-1-ä¸€èˆ¬è®¾å¤‡">3.1 ä¸€èˆ¬è®¾å¤‡</h2><p>Linux ä¸‹è“ç‰™è®¾å¤‡çš„é…å¯¹ä¿¡æ¯å­˜å‚¨åœ¨ <code>/var/lib/bluetooth/ã€æœ¬æœºè“ç‰™ MACã€‘</code>ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ <code>/var/lib/bluetooth/D4:D8:53:55:6B:34</code>ï¼ŒMAC åœ°å€ä¸­çš„å­—æ¯å…¨ä¸ºå¤§å†™ï¼Œä¸”å«å†’å·åˆ†éš”ç¬¦ã€‚</p><p>è¿›å…¥è¯¥ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br><span class="line">cd /var/lib/bluetooth/D4\:D8\:53\:55\:6B\:34/</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå·²é…å¯¹çš„è“ç‰™è®¾å¤‡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@Victus-Ubuntu:/var/lib/bluetooth/D4:D8:53:55:6B:34# ll</span><br><span class="line">total 44</span><br><span class="line">drwx------ 7 root root  4096 12æœˆ 13 22:19 ./</span><br><span class="line">drwxr-xr-x 3 root root  4096 5æœˆ  13  2023 ../</span><br><span class="line">drwx------ 2 root root  4096 12æœˆ 13 22:19 64:68:76:1A:69:34/</span><br><span class="line">drwx------ 2 root root  4096 12æœˆ 13 22:19 A4:C1:38:AB:43:5C/</span><br><span class="line">drwx------ 2 root root 16384 12æœˆ 13 22:20 cache/</span><br><span class="line">drwx------ 2 root root  4096 12æœˆ 13 22:19 EC:B3:D5:3C:5F:92/</span><br><span class="line">drwx------ 2 root root  4096 12æœˆ 13 22:20 F9:E7:70:AD:8C:64/</span><br><span class="line">-rw------- 1 root root    50 12æœˆ 13 22:19 settings</span><br></pre></td></tr></table></figure><p>æ ¹æ®æˆ‘ä»¬å¯¼å‡ºçš„regæ–‡ä»¶ï¼Œå¯ä»¥çŸ¥é“è¿›å…¥æˆ‘ä»¬è¦é…ç½®çš„è“ç‰™é¼ æ ‡çš„ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd 64\:68\:76\:1A\:69\:34/</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„å°±æ˜¯è¿™ä¸ªç›®å½•ä¸‹çš„ info æ–‡ä»¶ï¼Œä»¥æˆ‘çš„ä¸ºä¾‹ï¼Œæ–‡ä»¶å¦‚ä¸‹ï¼ˆè¿™é‡Œå·²ç»æ”¹å¥½äº†ï¼Œåªéœ€è¦å°†Keyæ¢æˆwindowsä¸‹å¯¼å‡ºçš„æ³¨å†Œè¡¨é‡Œé¢çš„keyï¼Œå…·ä½“å°±æ˜¯winä¸‹çš„é€—å·åˆ é™¤å°å†™å˜å¤§å†™ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[General]</span><br><span class="line">Name=EDIFIER W820NB åŒé‡‘æ ‡ç‰ˆ</span><br><span class="line">Class=0x240404</span><br><span class="line">SupportedTechnologies=BR/EDR;</span><br><span class="line">Trusted=true</span><br><span class="line">Blocked=false</span><br><span class="line">Services=00001101-0000-1000-8000-00805f9b34fb;0000110b-0000-1000-8000-00805f9b34fb;0000110c-0000-1000-8000-00805f9b34fb;0000110d-0000-1000-8000-00805f9b34fb;0000110e-0000-1000-8000-00805f9b34fb;0000111e-0000-1000-8000-00805f9b34fb;66666666-6666-6666-6666-666666666666;edf00000-edfe-dfed-fedf-edfedfedfedf;</span><br><span class="line"></span><br><span class="line">[LinkKey]</span><br><span class="line">Key=6BBFD814D8AA2FD8F76873A783646E8F</span><br><span class="line">Type=4</span><br><span class="line">PINLength=0</span><br></pre></td></tr></table></figure><h2 id="3-2-ç½—æŠ€è®¾å¤‡">3.2 ç½—æŠ€è®¾å¤‡</h2><p>å°† Windows ä¸‹çš„ IRK å­—ç¬¦<strong>å€’åºå¤§å†™åˆ é™¤é€—å·</strong>ï¼Œå³ä¸º Ubuntu ä¸‹çš„ IdentityResolvingKey</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;IRK&quot;=hex:d3,1f,03,20,e5,be,13,64,33,8b,63,09,d3,01,bd,33</span><br><span class="line"></span><br><span class="line">[IdentityResolvingKey]</span><br><span class="line">Key=33BD01D309638B6413BEE520031FD3</span><br></pre></td></tr></table></figure><p>Windows ä¸‹çš„ <strong>LTK</strong> <strong>å¤§å†™åˆ é™¤é€—å·</strong>ï¼Œå³ä¸º Ubuntu ä¸‹çš„ <strong>LontermKey</strong><br><strong>EDIV</strong> éœ€è¦<strong>è½¬æ¢æˆ 10 è¿›åˆ¶</strong>ï¼Œä¸º Ubuntu çš„ <strong>EDiv</strong><br><strong>ERand</strong> éœ€è¦<strong>åˆ é™¤é€—å·å¹¶è½¬æ¢æˆ 10 è¿›åˆ¶</strong>ï¼Œä¸º Ubuntu çš„ <strong>Rand</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;LTK&quot;=hex:ae,4b,59,52,fa,32,7d,2b,aa,0a,a7,de,33,ac,2b,20</span><br><span class="line">&quot;ERand&quot;=hex(b):cd,d7,f7,f8,01,f9,49,f2</span><br><span class="line">&quot;EDIV&quot;=dword:00006f5f</span><br><span class="line"></span><br><span class="line">[LongTermKey]</span><br><span class="line">Key=AE4B5952FA327D2BAA0AA7DE33AC20</span><br><span class="line">Authenticated=0</span><br><span class="line">EncSize=16</span><br><span class="line">EDiv=28511</span><br><span class="line">Rand=14832596542325082602</span><br></pre></td></tr></table></figure><p>ç„¶åé‡å¯ç”µè„‘ï¼Œå¯ä»¥ç›´æ¥è¿æ¥è“ç‰™ã€‚</p>]]></content>
    
    
    <summary type="html">æœ¬äººå®‰è£…äº†Ubuntuä¸WindowsåŒç³»ç»Ÿï¼Œå¹³æ—¶ä½¿ç”¨è“ç‰™é¼ æ ‡ä¸è€³æœºï¼Œä½†æ˜¯æ¯æ¬¡åˆ‡æ¢ç³»ç»Ÿéƒ½éœ€è¦é‡æ–°é…å¯¹è®¾å¤‡ï¼Œå› æ­¤æƒ³è¦å®ç°åŒç³»ç»Ÿé…å¯¹ã€‚</summary>
    
    
    
    <category term="å®ç”¨å·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Ubuntuå·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/Ubuntu%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="Ubuntu" scheme="https://www.mahaofei.com/tags/Ubuntu/"/>
    
    <category term="Windows" scheme="https://www.mahaofei.com/tags/Windows/"/>
    
    <category term="åŒç³»ç»Ÿ" scheme="https://www.mahaofei.com/tags/%E5%8F%8C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>ã€è®ºæ–‡ç¬”è®°ã€‘æœºå™¨äººåŠ¨ä½œã€è½¨è¿¹ã€è¿‡ç¨‹æ¨¡ä»¿</title>
    <link href="https://www.mahaofei.com/post/lfd-il-papers.html"/>
    <id>https://www.mahaofei.com/post/lfd-il-papers.html</id>
    <published>2023-12-12T07:36:37.000Z</published>
    <updated>2024-01-04T08:05:37.000Z</updated>
    
    <content type="html"><![CDATA[<h1>1 AW-Opt: Learning Robotic Skills with Imitation and Reinforcement at Scale</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šAW-Optï¼šé€šè¿‡å¤§è§„æ¨¡æ¨¡ä»¿å’Œå¼ºåŒ–å­¦ä¹ æœºå™¨äººæŠ€èƒ½<br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šGoogle<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šCoRL<br><strong>æ—¶é—´</strong>ï¼š2022<br><strong>ä»£ç </strong>ï¼š<a href="https://awopt.github.io/">https://awopt.github.io/</a></p></blockquote><h2 id="1-1-ç›®æ ‡é—®é¢˜-9">1.1 ç›®æ ‡é—®é¢˜</h2><p>å¼ºåŒ–å­¦ä¹ å¯ä»¥å®ç°ç›®æ ‡ä»»åŠ¡ï¼Œä½†æ˜¯éœ€è¦å¤§é‡è‡ªä¸»æ•°æ®æ”¶é›†ã€‚æ¨¡ä»¿å­¦ä¹ åªèƒ½å­¦ä¹ å’Œæ¼”ç¤ºä¸€æ ·ç¨‹åº¦çš„åŠ¨ä½œã€‚</p><p>æœ¬æ–‡æ¢ç´¢å¦‚ä½•æœ€å¥½çš„ç»“åˆä¸¤ç§æ–¹æ³•ï¼Œå¹¶è¿›è¡Œæ‰©å±•ã€‚å®ç°å¤§è§„æ¨¡æœºå™¨äººå­¦ä¹ ã€‚</p><h2 id="1-2-æ–¹æ³•-9">1.2 æ–¹æ³•</h2><p><strong>ï¼ˆ1ï¼‰ä»»åŠ¡åœºæ™¯ä¸åŸºç¡€ç®—æ³•</strong></p><p>æœ¬æ–‡ä»¥åŸºäºè§†è§‰çš„åƒåœ¾åˆ†ç±»ä»»åŠ¡ä¸ºä¾‹ï¼Œæœºå™¨äººä»ä¸åŒå¯¹è±¡ç±»å‹ï¼ˆå¯å›æ”¶ç‰©ã€ä¸å¯å›æ”¶å¯¹è±¡ï¼‰ç­‰åƒåœ¾ç®±ä¸­æ‹¾å–ç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚</p><p>æœ¬æ–‡çš„ç®—æ³•ä¸ºäº†ç ”ç©¶IL+RLçš„æ‰©å±•æ€§ï¼Œåœ¨QT-Optå’ŒAWACä¸¤ç§IL+RLç®—æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œç ”ç©¶ã€‚</p><p><strong>ï¼ˆ2ï¼‰æ­£æ ·æœ¬è¿‡æ»¤</strong></p><p>ä¸¤ç§åŸºç¡€ç®—æ³•æ€§èƒ½ä¸å¤Ÿå¥½çš„åŸå› å¯èƒ½æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p><ul><li>æ¢ç´¢è¿‡ç¨‹ä¸­å¢åŠ äº†å¤§é‡çš„å¤±è´¥äº‹ä»¶ã€æ©ç›–äº†æœ€åˆçš„æˆåŠŸæ¼”ç¤º</li><li>ç®—æ³•åœ¨å­¦ä¹ æœ‰æ•ˆçš„Qå‡½æ•°ï¼Œå¯¹actorè¿›è¡Œæ›´æ–°ä¹‹å‰ï¼Œä¼šåˆ é™¤é¢„è®­ç»ƒåˆå§‹åŒ–ã€‚</li></ul><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬æ–‡è¿›è¡Œäº†ä»¥ä¸‹ä¸¤ä¸ªä¿®æ”¹ï¼š</p><ul><li>ä¸ºcriticä½¿ç”¨ä¼˜å…ˆç¼“å†²åŒºï¼Œå…¶ä¸­ä¸€åŠæ¥è‡ªäºæˆåŠŸäº‹ä»¶å¥–åŠ±</li><li>å¯¹actorä½¿ç”¨æ­£å‘è¿‡æ»¤ï¼Œä»…å¯¹é€šè¿‡è¿‡æ»¤å™¨çš„æ ·æœ¬è¿›è¡Œæ›´æ–°</li></ul><p><strong>ï¼ˆ3ï¼‰æ··åˆ actor-critic æ¢ç´¢</strong></p><p>QT-Optæ–¹æ³•æ²¡æœ‰æ˜ç¡®çš„actorï¼Œç”±äºä»»åŠ¡ä½¿ç”¨äº¤å‰ç†µåˆ©ç”¨criticæ¥ä¼˜åŒ–åŠ¨ä½œï¼Œå› æ­¤å¯ä»¥è§†ä¸ºéšå¼ç­–ç•¥ã€‚</p><p>AWACæ˜¯ä¸€ç§actor-criticç®—æ³•ï¼Œé€šè¿‡å¯¹actorçš„åŠ¨ä½œé‡‡æ ·æ¥å®ç°ï¼Œè€Œè¿™ç§æ–¹å¼åœ¨è®­ç»ƒåˆæœŸï¼Œä¸»è¦æ˜¯criticè¿›è¡Œå­¦ä¹ ï¼Œæ¥ç¡®å®šå“ªäº›åŠ¨ä½œæ˜¯å¥½çš„ã€‚è¿™ç§æ–¹å¼å¯¹äºå¤æ‚çš„ä»»åŠ¡å­¦ä¹ å­˜åœ¨é™åˆ¶ã€‚</p><p>æœ¬æ–‡ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œç»“åˆä¸¤ç§ç®—æ³•ï¼Œå¹¶æ¯”è¾ƒäº†å››ç§ç­–ç•¥ï¼šä»…actoræ¢ç´¢ã€éšå¼criticç­–ç•¥ã€episodeçº§éšæœºåˆ‡æ¢ç­–ç•¥ï¼ˆ80%criticç­–ç•¥ã€20%actorï¼‰ã€stepçº§éšæœºåˆ‡æ¢ç­–ç•¥ã€</p><h1>2 DexMV: Imitation Learning for Dexterous Manipulation from Human Videos</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šDexMVï¼šæ¨¡ä»¿å­¦ä¹ ï¼Œä»äººç±»è§†é¢‘ä¸­è¿›è¡Œçµå·§æ“ä½œ<br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šUniversity of California San Diego<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šECCV<br><strong>æ—¶é—´</strong>ï¼š2022<br><strong>ä»£ç </strong>ï¼š<a href="https://github.com/yzqin/dexmv-sim">https://github.com/yzqin/dexmv-sim</a></p></blockquote><h2 id="2-1-ç›®æ ‡é—®é¢˜-4">2.1 ç›®æ ‡é—®é¢˜</h2><p>ç”±äºå¤šæŒ‡æœºå™¨äººæ‹¥æœ‰é«˜è‡ªç”±åº¦å…³èŠ‚ã€éçº¿æ€§é©±åŠ¨ï¼Œå› æ­¤éœ€è¦å¤§é‡çš„å¼ºåŒ–å­¦ä¹ è®­ç»ƒæ•°æ®ï¼Œè€Œæœºå™¨äººæ•°æ®æ”¶é›†å›°éš¾ï¼Œä¸”ä»…ä½¿ç”¨ä»¿çœŸæ•°æ®è®­ç»ƒæœºå™¨äººè¿åŠ¨ä¹Ÿå¾ˆä¸è‡ªç„¶ï¼Œèƒ½å¦åˆ©ç”¨äººç±»ä¸çœŸå®ä¸–ç•Œçš„äº¤äº’ç»éªŒæ¥å¼•å¯¼æœºå™¨äººï¼Ÿ</p><h2 id="2-2-æ–¹æ³•-4">2.2 æ–¹æ³•</h2><p>è®¾è®¡äº†ä¸€ä¸ªåŸºäºæ¨¡ä»¿å­¦ä¹ çš„å¹³å°</p><ul><li>å¤šæŒ‡æœºå™¨äººå¤æ‚çµå·§æ“ä½œçš„æ¨¡æ‹Ÿç³»ç»Ÿ</li><li>è®°å½•äººæ‰‹æ‰§è¡Œç›¸åŒä»»åŠ¡çš„å¤§è§„æ¨¡æ¼”ç¤ºï¼ˆä»è§†é¢‘ä¸­æå–æ‰‹éƒ¨3Dä½ç½®å’Œç‰©ä½“å§¿æ€ï¼‰</li><li>æ¼”ç¤ºç¿»è¯‘æ–¹æ³•ï¼šå°†äººä½“åŠ¨ä½œè½¬æ¢ä¸ºæœºå™¨äººæ¼”ç¤º</li></ul><p><img src="https://img.mahaofei.com/img/202312131522496.png" alt="image.png"></p><h3 id="2-2-1-å§¿æ€ä¼°è®¡">2.2.1 å§¿æ€ä¼°è®¡</h3><p><strong>ç‰©ä½“ä½å§¿ä¼°è®¡</strong>ï¼šä½¿ç”¨åœ¨YCBæ•°æ®é›†ä¸Šè®­ç»ƒçš„PVN3Då®ç°ç‰©ä½“6Dä½å§¿çš„ä¼°è®¡ã€‚</p><p><strong>äººæ‰‹å§¿æ€ä¼°è®¡</strong>ï¼šä½¿ç”¨MANOæ¨¡å‹è¡¨ç¤ºäººæ‰‹å…³èŠ‚ï¼Œè¿›è¡Œæ‰‹éƒ¨æ£€æµ‹å’Œå®ä¾‹åˆ†å‰²ï¼Œåˆ©ç”¨ç°æœ‰çš„æ¨¡å‹ä¼°è®¡æ‰‹éƒ¨å…³èŠ‚ã€‚</p><h3 id="2-2-2-æ¼”ç¤ºæ•°æ®è½¬æ¢">2.2.2 æ¼”ç¤ºæ•°æ®è½¬æ¢</h3><p>å¸¸è§çš„æ¨¡ä»¿å­¦ä¹ ç®—æ³•ä½¿ç”¨==æœºå™¨äººçŠ¶æ€å’ŒåŠ¨ä½œ==ä½œä¸ºè®­ç»ƒæ•°æ®ï¼Œè€Œä¸æ˜¯äººæ‰‹å§¿æ€ã€‚å¹¶ä¸”äººæ‰‹å’Œçµå·§æ‰‹çš„è¿åŠ¨å­¦æ¨¡å‹ä¹Ÿä¸åŒã€‚</p><p><strong>ï¼ˆ1ï¼‰æ‰‹éƒ¨è¿åŠ¨é‡å®šå‘</strong></p><p>ç»™å®šè§†é¢‘ä¸­ä¼°è®¡çš„äººæ‰‹å§¿æ€åºåˆ—ï¼Œå°†å…¶é‡å®šå‘ä¸ºæœºå™¨äººå…³èŠ‚è§’åº¦åºåˆ—ã€‚æ”¹è¿‡ç¨‹å¯è§†ä¸ºä¼˜åŒ–é—®é¢˜ã€‚</p><p>åœ¨å¤§å¤šæ•°æ“ä½œä»»åŠ¡ä¸­ï¼Œäººç±»å’Œæœºå™¨äººéƒ½æ˜¯æŒ‡å°–æ¥è§¦ç‰©ä½“ï¼Œå› æ­¤ä¿ç•™æ‰‹æŒæ ¹çš„æŒ‡å°–çš„ç©ºé—´å‘é‡ã€‚</p><p>ä½†æ˜¯è¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ‰‹æŒ‡å¼¯æ›²ä¿¡æ¯ä¸¢å¤±ï¼Œå¯¼è‡´æ‰‹æŒ‡ç©¿é€ç‰©ä½“ï¼Œå› æ­¤è€ƒè™‘åŒæ—¶ä¼˜åŒ–æ‰‹æŒæ ¹åˆ°ä¸­æŒ‡éª¨çš„å‘é‡ã€‚</p><p><strong>ï¼ˆ2ï¼‰æœºå™¨äººåŠ¨ä½œä¼°è®¡</strong></p><p>æ‰‹éƒ¨è¿åŠ¨é‡å®šå‘æä¾›äº†æ‰‹éƒ¨å§¿æ€åˆ°æœºå™¨äººå…³èŠ‚è§’åº¦çš„è½¬æ¢ï¼Œä½†æ˜¯å…³èŠ‚æ‰­çŸ©æ˜¯ä½ç½®çš„ï¼Œå› æ­¤é€šè¿‡é€†åŠ¨åŠ›å­¦å‡½æ•°ï¼Œå°†å…³èŠ‚è§’åº¦æ‹Ÿåˆåˆ°è¿ç»­çš„å…³èŠ‚è½¨è¿¹å‡½æ•°ä¸­ï¼Œè®¡ç®—æ‰­çŸ©ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¿è¯qâ€™â€˜â€™(t)åŠ åŠ é€Ÿåº¦å°½å¯èƒ½å°ã€‚</p><p><strong>ï¼ˆ3ï¼‰æ—¶é—´å¯¹é½</strong></p><p>å½•åˆ¶çš„è§†é¢‘å¸§ç‡ä¸º30Hzï¼Œæ¨¡æ‹Ÿè¿è¡Œçš„é¢‘ç‡ä¸º120Hzï¼Œå› æ­¤åœ¨è®­ç»ƒä¹‹å‰ï¼Œéœ€è¦è¿›è¡Œæ—¶é—´å¯¹é½ï¼Œä»¥æ¨¡æ‹Ÿé¢‘ç‡å¯¹æœºå™¨äººåŠ¨ä½œq(t)è¿›è¡Œé‡‡æ ·ã€‚</p><h3 id="2-2-3-æ¨¡ä»¿å­¦ä¹ ">2.2.3 æ¨¡ä»¿å­¦ä¹ </h3><p>æœ¬æ–‡ä½¿ç”¨è½¬æ¢åçš„æ¼”ç¤ºè¿›è¡Œæ¨¡ä»¿å­¦ä¹ ï¼Œä¸ä½¿ç”¨è¡Œä¸ºå…‹éš†æ–¹æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨æ¨¡ä»¿å­¦ä¹ ç®—æ³•ï¼Œå¹¶å°†æ¼”ç¤ºåˆå¹¶åˆ°å¼ºåŒ–å­¦ä¹ ä¸­ã€‚</p><p>æœ¬æ–‡è€ƒè™‘ä½¿ç”¨ $&lt;S, A, P, R, \gamma&gt;$ çš„é©¬å°”ç§‘å¤«å†³ç­–é“¾ï¼Œå…¶ä¸­ï¼š</p><ul><li>$S$: çŠ¶æ€ç©ºé—´</li><li>$A$: åŠ¨ä½œç©ºé—´</li><li>$P(s_{t+1}|s_t, a_t)$: æ˜¯çŠ¶æ€è½¬ç§»å‡½æ•°ï¼Œåœ¨$t+1$æ­¥ï¼Œç»™å®šåŠ¨ä½œ$a_t$æ—¶ï¼Œä¸‹ä¸€ä¸ªçŠ¶æ€$s_{t+1}$çš„æ¦‚ç‡å¯†åº¦</li><li>$R(S, a)$: å¥–åŠ±å‡½æ•°</li><li>$\gamma$: æŠ˜æ‰£å› å­</li></ul><p>å¼ºåŒ–å­¦ä¹ çš„ç›®çš„æ˜¯æœ€å¤§åŒ–ç­–ç•¥$\pi(a|s)$ä¸‹çš„é¢„æœŸå¥–åŠ±ã€‚ç»™å®šæ¼”ç¤ºè½¨è¿¹${(s_i, a_i)}^n_{i=1}$ï¼Œä½¿ç”¨è¯¥è½¨è¿¹å’Œå¥–åŠ±ï¼Œä¼˜åŒ–ç­–ç•¥$\pi$ã€‚</p><p>æœ¬æ–‡ä½¿ç”¨<strong>ç”Ÿæˆå¯¹æŠ—æ¨¡ä»¿å­¦ä¹ GAIL</strong>ï¼Œè¿™æ˜¯ä¸€ç§ä½¿ç”¨state-actionåŠ¨ä½œå¯†åº¦åŒ¹é…æ¥å­¦ä¹ ç­–åˆ—çš„SOTA ILæ–¹æ³•ã€‚é€šè¿‡æœ€å¤§é™åº¦çš„å‡å°æ¼”ç¤ºå’ŒåŠ¨ä½œçš„è·ç¦»å‡½æ•°ï¼Œå®ç°åŠ¨ä½œæ¨¡ä»¿ã€‚</p><p>æœ¬æ–‡ä½¿ç”¨<strong>æ¼”ç¤ºå¢å¼ºç­–ç•¥æ¢¯åº¦</strong>è¿›è¡Œå¼ºåŒ–å­¦ä¹ ã€‚</p><h2 id="2-3-æ€»ç»“">2.3 æ€»ç»“</h2><ol><li>å°†çœŸå®ä¸–ç•Œäººæ‰‹å§¿æ€è½¬æ¢ä¸ºæœºå™¨äººåŠ¨ä½œï¼ŒåŠ ä¸Šç‰©ä½“ä½å§¿ä¼°è®¡ï¼Œä½œä¸ºæ¼”ç¤ºæ•°æ®ç”¨äºåç»­æ¨¡ä»¿å­¦ä¹ ä¸å¼ºåŒ–å­¦ä¹ ã€‚</li><li>ä½¿ç”¨ç”Ÿæˆå¯¹æŠ—æ¨¡ä»¿å­¦ä¹ GAIL</li><li>ä½¿ç”¨æ¼”ç¤ºå¢å¼ºç­–ç•¥æ¢¯åº¦è¿›è¡Œå¼ºåŒ–å­¦ä¹ </li></ol><h1>3 Learning and Retrieval from Prior Data for Skill-based Imitation Learning</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šåŸºäºæŠ€èƒ½çš„æ¨¡ä»¿å­¦ä¹ çš„å…ˆéªŒæ•°æ®çš„å­¦ä¹ å’Œæ£€ç´¢<br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šThe University of Texas at Austin<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šCoRL<br><strong>æ—¶é—´</strong>ï¼š2022<br><strong>ä»£ç </strong>ï¼š<a href="https://ut-austin-rpl.github.io/sailor">https://ut-austin-rpl.github.io/sailor</a></p></blockquote><h2 id="3-1-ç›®æ ‡é—®é¢˜-3">3.1 ç›®æ ‡é—®é¢˜</h2><p>æ¨¡ä»¿å­¦ä¹ ç”±äºéœ€è¦è¿›è¡Œç›‘ç£å­¦ä¹ å’Œè¾ƒå¼±çš„æ³›åŒ–èƒ½åŠ›ï¼Œå› æ­¤å¯æ‰©å±•æ€§æœ‰é™ã€‚</p><p>æœ¬æ–‡ç ”ç©¶å¦‚ä½•ä½¿ç”¨å…¶ä»–ä»»åŠ¡çš„å…ˆéªŒæ•°æ®ï¼Œæ¥ç¨³å®šé«˜æ•ˆåœ°å­¦ä¹ æ–°ä»»åŠ¡ã€‚</p><h2 id="3-2-æ–¹æ³•-3">3.2 æ–¹æ³•</h2><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºæŠ€èƒ½çš„æ¨¡ä»¿å­¦ä¹ æ¡†æ¶ï¼Œä»å…ˆå‰çš„æ•°æ®ä¸­æå–è¿åŠ¨æŠ€èƒ½ï¼Œå¹¶éšåè°ƒç”¨è¿™äº›å­¦åˆ°çš„æŠ€èƒ½çš„ç›®æ ‡å‡½æ•°ç­–ç•¥ã€‚</p><p><strong>ï¼ˆ1ï¼‰å­¦ä¹ å¯é¢„æµ‹çš„æŠ€èƒ½è¡¨ç¤º</strong></p><p>é€šè¿‡ä½¿ç”¨å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨VAEç¼–ç å°æ®µè½¨è¿¹æ¥å­¦ä¹ æŠ€èƒ½è¡¨ç¤ºã€‚ä¸ºäº†æé«˜æŠ€èƒ½çš„å¯é¢„æµ‹æ€§ï¼Œå°†å°æ®µè½¨è¿¹ä½¿ç”¨LSTMç¼–ç å™¨ç¼–ç ä¸ºæ½œåœ¨æŠ€èƒ½çš„é«˜æ–¯åˆ†å¸ƒï¼Œè§£ç å™¨ä¹Ÿæ˜¯ä¸€ä¸ªLSTMç½‘ç»œã€‚</p><p>å¯¹äºæ¯ä¸ªæ—¶é—´æ­¥ï¼Œå°†æ½œåœ¨ç‰¹å¾zå’Œç»™å®šçš„è§‚å¯Ÿoï¼Œè§£ç ä¸ºåŠ¨ä½œaã€‚</p><p><strong>ï¼ˆ2ï¼‰åŸºäºæ£€ç´¢çš„ç­–ç•¥å­¦ä¹ </strong></p><p>ä¸ºäº†æé«˜ä»»åŠ¡ç­–ç•¥çš„å­¦ä¹ æ•ˆæœï¼Œä»å…ˆå‰çš„æ•°æ®é›†ä¸­æ£€ç´¢ä¸ç›®æ ‡ä»»åŠ¡ç›¸å…³çš„æ•°æ®ã€‚</p><p>ç­–ç•¥å­¦ä¹ é˜¶æ®µï¼Œä½¿ç”¨LSTMç­–ç•¥é€šè¿‡è§‚å¯Ÿå†å²çš„æ½œåœ¨æŠ€èƒ½ï¼Œé¢„æµ‹è¾“å‡ºæ¥ä¸‹æ¥è¦æ‰§è¡Œçš„æŠ€èƒ½zï¼Œè¿™ç§æ–¹å¼å¯ä»¥åˆ©ç”¨ä¸°å¯Œå¤šæ ·çš„å…ˆéªŒäº¤äº’çŸ¥è¯†ï¼Œå°†å…¶èå…¥åˆ°ç­–ç•¥ä¸­ï¼Œä»è€Œåœ¨æ–°ç¯å¢ƒä¸­æ›´æœ‰æ•ˆçš„æ‰§è¡Œä»»åŠ¡ã€‚</p><h2 id="3-3-æ€»ç»“">3.3 æ€»ç»“</h2><p>ä½¿ç”¨å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨VAEå¤„ç†å­è½¨è¿¹ï¼Œå½¢æˆä¸€è‡´çš„æ½œåœ¨æŠ€èƒ½è¡¨ç¤ºã€‚</p><p>ä½¿ç”¨LSTMç¼–ç è§£ç æŠ€èƒ½è¡¨ç¤ºï¼Œæ ¹æ®çŠ¶æ€é¢„æµ‹éœ€è¦è¾“å‡ºçš„æŠ€èƒ½ã€‚</p><h1>4 VIOLA: Imitation Learning for Vision-Based Manipulation with Object Proposal Priors</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šVIOLAï¼šä½¿ç”¨å¯¹è±¡æè®®å…ˆéªŒè¿›è¡ŒåŸºäºè§†è§‰çš„æ“ä½œçš„æ¨¡ä»¿å­¦ä¹ <br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šThe University of Texas at Austin<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šCoRL<br><strong>æ—¶é—´</strong>ï¼š2022<br><strong>ä»£ç </strong>ï¼š<a href="https://ut-austin-rpl.github.io/VIOLA">https://ut-austin-rpl.github.io/VIOLA</a></p></blockquote><h2 id="4-1-ç›®æ ‡é—®é¢˜-2">4.1 ç›®æ ‡é—®é¢˜</h2><p>ä¸€ç§å…ˆè¿›çš„æ¨¡ä»¿å­¦ä¹ ç®—æ³•ã€‚</p><h2 id="4-2-æ–¹æ³•-3">4.2 æ–¹æ³•</h2><p>æœ¬æ–‡å®ç°äº†ä¸€ç§åŸºäºè§†è§‰çš„æœºå™¨äººæ“ä½œä»»åŠ¡æ¨¡ä»¿å­¦ä¹ ç®—æ³•ï¼š</p><ul><li>ä½¿ç”¨é¢„è®­ç»ƒçš„è§†è§‰æ¨¡å‹ç”Ÿæˆé€šç”¨çš„å¯¹è±¡è¡¨ç¤ºï¼›</li><li>é‡‡ç”¨åŸºäºTransformerçš„ç­–ç•¥ï¼Œæ¥æ¨ç†è¿™äº›è¡¨ç¤ºï¼Œæ ¹æ®è§†è§‰é¢„æµ‹åŠ¨ä½œï¼›</li></ul><p><strong>ï¼ˆ1ï¼‰æ„å»ºé¢å‘å¯¹è±¡çš„è¡¨ç¤º</strong></p><ol><li>å¯¹è±¡è¯†åˆ«ï¼šä½¿ç”¨é¢„è®­ç»ƒçš„RPNåŒºåŸŸå»ºè®®ç½‘ç»œåœ¨å·¥ä½œç©ºé—´å›¾åƒä¸Šç”Ÿæˆå¯¹è±¡å»ºè®®ï¼Œå¹¶é€‰æ‹©æ‰§è¡Œåº¦æœ€é«˜çš„å‰Kä¸ªå»ºè®®ã€‚</li><li>å¯¹è±¡ç‰¹å¾è¡¨ç¤ºï¼šåŒ…å«åŒºåŸŸç‰¹å¾å’Œä¸Šä¸‹æ–‡ç‰¹å¾<ol><li>åŒºåŸŸç‰¹å¾ï¼šä¸ºæ¯ä¸ªå»ºè®®åŒºåŸŸè®¾è®¡è§†è§‰ç‰¹å¾å’Œä½ç½®ç‰¹å¾ï¼Œä½¿ç”¨ROI Alignä»å·¥ä½œç©ºé—´å›¾åƒçš„ResNet18ç¼–ç çš„ç‰¹å¾é€”ä¸­æå–ç‰¹å¾ï¼›</li><li>ä¸Šä¸‹æ–‡ç‰¹å¾ï¼ŒåŒ…æ‹¬å…¨å±€ç‰¹å¾ã€æ‰‹çœ¼ç›¸æœºå›¾åƒç‰¹å¾å’Œæœºå™¨äººçŠ¶æ€çš„æœ¬ä½“æ„ŸçŸ¥ç‰¹å¾ç»„æˆï¼›</li></ol></li><li>æ—¶é—´ç»„åˆï¼Œå°†è¿‡å»H+1æ­¥çš„ç‰¹å¾å’Œæ—¶é—´ç¼–ç ç»„åˆï¼Œæ„æˆé¢å‘å¯¹è±¡çš„è¡¨ç¤ºï¼Œæ¥è·å¾—å¯¹è±¡çŠ¶æ€çš„æ—¶é—´ä¾èµ–æ€§å’ŒåŠ¨æ€å˜åŒ–ã€‚</li></ol><p><strong>ï¼ˆ2ï¼‰åŸºäºTransformerçš„ç­–ç•¥</strong></p><p>ä½¿ç”¨å¤šä¸ªTransformerç¼–ç å™¨ï¼Œå¤„ç†ä¸€ç³»åˆ—ç‰¹å¾å‘é‡ã€‚</p><p>è¯¥ç­–ç•¥ç½‘ç»œå°†é¢å‘å¯¹è±¡çš„åŒºåŸŸç‰¹å¾å’Œä¸Šä¸‹æ–‡ç‰¹å¾ä½œä¸ºè¾“å…¥tokenï¼Œå¹¶åŠ å…¥äº†ä¸€ä¸ªåŠ¨ä½œtokenï¼Œé€šè¿‡åŠ¨ä½œç›‘ç£å­¦ä¹ ï¼Œèƒ½å¤Ÿå…³æ³¨ä»»åŠ¡ç›¸å…³çš„åŒºåŸŸã€‚</p><p>æœ€ååˆ©ç”¨ä¸¤å±‚å…¨è¿æ¥å±‚å’Œé«˜æ–¯æ··åˆæ¨¡å‹è¾“å‡ºåŠ¨ä½œã€‚</p><h2 id="4-3-æ€»ç»“">4.3 æ€»ç»“</h2><ol><li>æ„å»ºé¢å‘å¯¹è±¡çš„ç‰¹å¾ï¼ˆå›¾åƒåŒºåŸŸç‰¹å¾+æœºå™¨äººçŠ¶æ€ç‰¹å¾ï¼‰</li><li>ä½¿ç”¨Transformerè¿›è¡Œç‰¹å¾ç¼–ç ä¸é¢„æµ‹</li><li>ä½¿ç”¨é«˜æ–¯æ··åˆæ¨¡å‹è¾“å‡ºåŠ¨ä½œã€‚</li></ol><h1>5 SEIL: Simulation-augmented Equivariant Imitation Learning</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šSEIL: Simulation-augmented Equivariant Imitation Learning<br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šNortheastern University<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šICRA<br><strong>æ—¶é—´</strong>ï¼š2022<br><strong>ä»£ç </strong>ï¼š<a href="https://saulbatman.github.io/project/seil/">https://saulbatman.github.io/project/seil/</a></p></blockquote><h2 id="5-1-ç›®æ ‡é—®é¢˜-3">5.1 ç›®æ ‡é—®é¢˜</h2><p>æœºå™¨äººæ¨¡ä»¿å­¦ä¹ ä¸­ï¼Œæ ·æœ¬è·å–éå¸¸å›°éš¾ï¼Œå› ä¸ºéœ€è¦ä¸ç°å®ä¸–ç•Œè¿›è¡Œäº¤äº’ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬æ–‡åœ¨å›¾åƒæ•°æ®å¢å¼ºçš„åŸºç¡€ä¸Šè¿›è¡Œæ¨¡ä»¿å­¦ä¹ ã€‚</p><h2 id="5-2-æ–¹æ³•-2">5.2 æ–¹æ³•</h2><p><strong>ï¼ˆ1ï¼‰æ•°æ®å¢å¼º</strong></p><p>æœ¬æ–‡å®ç°äº†ä¸€ç§ä¸“å®¶æ•°æ®å¢å¼ºæ–¹æ³•Transition Simulationã€‚é€šè¿‡å°†è§‚å¯Ÿåˆ°çš„ç‚¹äº‘æŠ•å½±åˆ°æ¨¡æ‹Ÿçš„æœºæ¢°è‡‚å§¿æ€ä¸­ï¼Œç”Ÿæˆæ–°çš„è§‚å¯Ÿå›¾åƒï¼Œä»è€Œæ¨¡æ‹Ÿä¸“å®¶çš„state-actionæ¥å¢åŠ æ•°æ®å¤šæ ·æ€§ã€‚</p><p><strong>ï¼ˆ2ï¼‰ç­‰å˜è¡Œä¸ºå…‹éš†</strong></p><p>åˆ©ç”¨æœºå™¨äººæ“ä½œè¿‡ç¨‹ä¸­çš„O(2)å¯¹ç§°æ€§ï¼ˆæ‰€æœ‰å¹³é¢æ—‹è½¬å’Œåå°„å¯¹ç§°æ€§ï¼‰ï¼Œåˆ©ç”¨Steerable CNNså°†ç­–ç•¥è‡ªåŠ¨æ³›åŒ–åˆ°ä¸åŒçš„O(2)çŠ¶æ€ä¸­ã€‚</p><h2 id="5-3-æ€»ç»“-2">5.3 æ€»ç»“</h2><p>ä¸“å®¶æ•°æ®å¢å¼º+ç­‰å˜è¡Œä¸ºå…‹éš†</p><h1>6 Waypoint-Based Imitation Learning for Robotic Manipulation</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šåŸºäºè·¯æ ‡ç‚¹çš„æœºå™¨äººæ“ä½œæ¨¡ä»¿å­¦ä¹ <br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šStanford University<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šarXiv<br><strong>æ—¶é—´</strong>ï¼š2023<br><strong>ä»£ç </strong>ï¼š<a href="https://github.com/lucys0/awe">https://github.com/lucys0/awe</a></p></blockquote><h2 id="6-1-ç›®æ ‡é—®é¢˜-3">6.1 ç›®æ ‡é—®é¢˜</h2><p>æ¨¡ä»¿å­¦ä¹ å®¹æ˜“å‡ºç°é”™è¯¯ï¼Œç‰¹åˆ«æ˜¯åœ¨æ‰§è¡Œå¤æ‚æ“ä½œæ—¶ã€‚</p><p>ä½¿ç”¨è·¯æ ‡ç‚¹å¯ä»¥å‡å°‘æ¨¡ä»¿å­¦ä¹ ä¸­çš„é”™è¯¯ï¼Œä½†æ˜¯ä¸€èˆ¬è·¯æ ‡ç‚¹éœ€è¦è®¤ä¸ºç›‘ç£ï¼Œæœ¬æ–‡åˆ™æ˜¯æå‡ºäº†ä¸€ç§è‡ªåŠ¨ç”Ÿæˆè·¯æ ‡ç‚¹çš„æ–¹æ³•ã€‚æé«˜äº†æ¨¡ä»¿å­¦ä¹ çš„æˆåŠŸç‡ã€‚</p><h2 id="6-2-æ–¹æ³•-3">6.2 æ–¹æ³•</h2><p>æœ¬æ–‡è®¾è®¡äº†ä¸€ç§è‡ªåŠ¨è·¯æ ‡ç‚¹æå–æ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªé¢„å¤„ç†æ¨¡å—ï¼Œå› æ­¤å¾ˆå®¹æ˜“æ·»åŠ åˆ°å…¶å®ƒè¡Œä¸ºå…‹éš†ç®—æ³•ä¸­ã€‚æœ¬æ–‡ä¸¾ä¾‹äº†ä¸¤ç§å…ˆè¿›çš„æ¨¡ä»¿å­¦ä¹ ç®—æ³•ï¼šæ‰©æ•£ç­–ç•¥å’ŒåŸºäºTransformerçš„åŠ¨ä½œã€‚</p><p><strong>ï¼ˆ1ï¼‰é‡å»ºæŸå¤±</strong></p><p>å®šä¹‰äº†ä¸€ç§æŸå¤±ï¼šç»™å®šè·¯æ ‡ç‚¹åé‡å»ºè½¨è¿¹çš„è´¨é‡ï¼Œé€šè¿‡æœ€å°åŒ–åŸå§‹è½¨è¿¹ä¸æ ¹æ®è·¯æ ‡ç‚¹é‡å»ºçš„è½¨è¿¹ä¹‹é—´çš„åå·®ï¼Œæ¥ä½¿å¾—è·¯æ ‡ç‚¹èƒ½å°½å¯èƒ½ä»£æ›¿çœŸå®è½¨è¿¹ã€‚</p><p><strong>ï¼ˆ2ï¼‰è·¯å¾„ç‚¹é€‰æ‹©åŠ¨æ€è§„åˆ’</strong></p><p>ä½¿ç”¨ä¸€ç§ç®€å•è€ŒåŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œç”¨äºé€‰æ‹©æœ€å°æ•°é‡çš„è·¯å¾„ç‚¹ï¼Œå¹¶ä¿è¯é‡å»ºçš„è¯¯å·®æ»¡è¶³è¦æ±‚ã€‚</p><h2 id="6-3-æ€»ç»“">6.3 æ€»ç»“</h2><p>ä¸€ç§è‡ªåŠ¨è·¯æ ‡ç‚¹æå–ç®—æ³•ï¼Œç”¨äºå¯¹è¡Œä¸ºå…‹éš†æ•°æ®è¿›è¡Œé¢„å¤„ç†ã€‚</p><h1>7 Mobile ALOHA: Learning Bimanual Mobile Manipulation with Low-Cost Whole-Body Teleoperation</h1><blockquote><p><strong>æ ‡é¢˜</strong>ï¼šMobile ALOHAï¼šé€šè¿‡ä½æˆæœ¬å…¨èº«è¿œç¨‹æ“ä½œå­¦ä¹ åŒæ‰‹ç§»åŠ¨æ“ä½œ<br><strong>ä½œè€…å›¢é˜Ÿ</strong>ï¼šStanford University<br><strong>æœŸåˆŠä¼šè®®</strong>ï¼šæ— <br><strong>æ—¶é—´</strong>ï¼š2024<br><strong>ä»£ç </strong>ï¼š<a href="https://mobile-aloha.github.io/">https://mobile-aloha.github.io/</a></p></blockquote><h2 id="7-1-ç›®æ ‡é—®é¢˜-3">7.1 ç›®æ ‡é—®é¢˜</h2><p>ç›®å‰çš„å¤§å¤šæ•°ä»äººç±»æ¼”ç¤ºä¸­æ¨¡ä»¿å­¦ä¹ çš„æœºå™¨äººæŠ€æœ¯é›†ä¸­åœ¨æ¡Œé¢æ“ä½œï¼Œç¼ºä¹ä¸€èˆ¬æœ‰ç”¨çš„ä»»åŠ¡æ‰€éœ€çš„æœºåŠ¨æ€§å’Œçµæ´»æ€§ï¼Œæœ¬æ–‡ä¸»è¦æ˜¯å¼€å‘äº†ä¸€ä¸ªç§»åŠ¨æœºå™¨äººï¼Œå®ç°ç§»åŠ¨+åŒæ‰‹çš„æ¨¡ä»¿å­¦ä¹ ã€‚</p><h2 id="7-2-è®ºæ–‡ä¸­æåˆ°çš„å­¦ä¹ æ–¹æ³•">7.2 è®ºæ–‡ä¸­æåˆ°çš„å­¦ä¹ æ–¹æ³•</h2><p><strong>ï¼ˆ0ï¼‰åŸºç¡€æ¨¡ä»¿å­¦ä¹ ç®—æ³•</strong></p><ol><li>ACT: Learning fine-grained bimanual manipulation with low-cost hardware</li><li>æ‰©æ•£ç­–ç•¥: Diffusion policy: Visuomotor policy learning via action diffusion</li><li>VINN: The surprising effectiveness of representation learning for visual imitation</li></ol><p><strong>ï¼ˆ1ï¼‰BC çš„æ”¹è¿›</strong></p><p>è¡Œä¸ºå…‹éš† BC ä¸å„ç§æ¶æ„ç›¸ç»“åˆ</p><ol><li>Rt-1: Robotics transformer for real-world control at scale</li><li>Bc-z: Zero-shot task generalization with robotic imitation learning</li><li>What matters in learning from offline human demonstrations for robot manipulation</li><li>Behavior transformers: Cloning k modes with one stone</li></ol><p>ä½¿ç”¨æ–°çš„è®­ç»ƒç›®æ ‡</p><ol><li>Roboagent: Towards sample efficient robot manipulation with semantic augmentations and action chunking</li><li>Diffusion policy: Visuomotor policy learning via action diffusion</li><li>Implicit behavioral cloning</li><li>The surprising effectiveness of representation learning for visual imitation</li><li>Learning fine-grained bimanual manipulation with low-cost hardware</li></ol><p>æ­£åˆ™åŒ–</p><ol><li>Vision-based multi-task manipulation for inexpensive robots using end-to-end learning from demonstration</li></ol><p>Motor Primitives</p><ol><li>Hierarchical neural dynamic policies</li><li>Dynamical movement primitives: learning attractor models for motor behaviors</li><li>Learning motor primitives for robotics</li><li>Using probabilistic movement primitives in robotics</li><li>Learning and generalization of motor skills by learning from demonstration</li><li>Learning periodic tasks from human demonstrations</li></ol><p>æ•°æ®é¢„å¤„ç†</p><ol><li>Waypoint-based imitation learning for robotic manipulation</li></ol><p><strong>ï¼ˆ2ï¼‰å¤šä»»åŠ¡æˆ–å°‘é•œå¤´æ¨¡ä»¿å­¦ä¹ </strong></p><ol><li>Transformers for one-shot visual imitation</li><li>One-shot imitation learning</li><li>Learning manipulation skills from a single demonstration</li><li>One-shot visual imitation learning via meta-learning</li><li>Task-embedded control networks for few-shot imitation learning</li><li>Coarse-to-fine imitation learning: Robot manipulation from a single demonstration</li><li>Demonstrate once, imitate immediately (dome): Learning visual servoing for one-shot imitation learning</li><li>One-shot imitation from observing humans via domain-adaptive metalearning</li></ol><p><strong>ï¼ˆ3ï¼‰è¯­è¨€æ¡ä»¶çš„æ¨¡ä»¿å­¦ä¹ </strong></p><ol><li>Rt-1: Robotics transformer for real-world control at scale</li><li>Bc-z: Zero-shot task generalization with robotic imitation learning</li><li>Cliport: What and where pathways for robotic manipulation</li><li>Perceiver-actor: A multi-task transformer for robotic manipulation</li></ol><p><strong>ï¼ˆ4ï¼‰ä»æ¼”ç¤ºæ•°æ®æ¨¡ä»¿</strong></p><ol><li>From play to policy: Conditional behavior generation from uncurated robot data</li><li>Learning latent plans from play</li><li>Latent plans for task-agnostic offline reinforcement learning</li><li>Mimicplay: Longhorizon imitation learning by watching human play</li></ol><p><strong>ï¼ˆ5ï¼‰ä½¿ç”¨äººç±»è§†é¢‘æ¨¡ä»¿</strong></p><ol><li>Learning generalizable robotic reward functions from&quot; in-the-wild&quot; human videos</li><li>Model-based inverse reinforcement learning from visual demonstrations</li><li>Perceptual values from observation</li><li>R3m: A universal visual representation for robot manipulation</li><li>Real-world robot learning with masked visual pre-training</li><li>Concept2robot: Learning manipulation concepts from instructions and human demonstrations</li><li>Avid: Learning multi-stage tasks via pixel-level translation of human videos</li><li>Learning by watching: Physical imitation of manipulation skills from human videos</li></ol><p><strong>ï¼ˆ6ï¼‰é’ˆå¯¹ç‰¹å®šä»»åŠ¡çš„æ¨¡ä»¿å­¦ä¹ </strong></p><ol><li>Coarse-to-fine imitation learning: Robot manipulation from a single demonstration</li><li>Perceiver-actor: A multi-task transformer for robotic manipulation</li><li>Transporter networks: Rearranging the visual world for robotic manipulation</li></ol><p><strong>ï¼ˆ7ï¼‰é’ˆå¯¹æ¨¡ä»¿å­¦ä¹ çš„é€šç”¨åŒ–ç”¨äºæ–°çš„åœºæ™¯æˆ–å¯¹è±¡</strong></p><ol><li>Rt-1: Robotics transformer for real-world control at scale</li><li>Rt-2: Vision-language-action models transfer web knowledge to robotic control</li><li>Bridge data: Boosting generalization of robotic skills with cross-domain datasets</li><li>Bc-z: Zero-shot task generalization with robotic imitation learning</li><li>Robot peels banana with goalconditioned dual-action deep imitation learning</li></ol><p><strong>ï¼ˆ8ï¼‰ä»ä¸åŒä½†ç±»ä¼¼çš„æœºå™¨äººä¸Šæ”¶é›†æ•°æ®æ¨¡ä»¿</strong></p><ol><li>Robocat: A self-improving foundation agent for robotic manipulation</li><li>Open X-Embodiment: Robotic learning datasets and RT-X models</li><li>In Towards Generalist Robots: Learning Paradigms for Scalable Skill Acquisition</li><li>Octo: An open-source generalist robot policy</li></ol><h2 id="7-3-æ€»ç»“">7.3 æ€»ç»“</h2>]]></content>
    
    
    <summary type="html">åŸºäºä¼ ç»Ÿçš„å¼ºåŒ–å­¦ä¹ æ–¹æ³•å¤§å¤šå®ç°æŸé¡¹ä»»åŠ¡ï¼Œè€Œæ— æ³•å®ç°åŠ¨ä½œçš„æ¨¡ä»¿ï¼Œè°ƒç ”ç›¸å…³è®ºæ–‡å®ç°æœºå™¨äººåŠ¨ä½œè½¨è¿¹çš„æ¨¡ä»¿ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="æœºå™¨äººå­¦ä¹ " scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="æ¨¡ä»¿å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E6%A8%A1%E4%BB%BF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="å¼ºåŒ–å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="æœºå™¨äººåŠ¨ä½œ" scheme="https://www.mahaofei.com/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%8A%A8%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>ã€å®éªŒå‡†å¤‡ã€‘MuJoCoå¯¼å…¥è‡ªå®šä¹‰æœºå™¨äºº</title>
    <link href="https://www.mahaofei.com/post/mujoco.html"/>
    <id>https://www.mahaofei.com/post/mujoco.html</id>
    <published>2023-12-04T01:59:28.000Z</published>
    <updated>2023-12-04T01:59:28.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬å®éªŒæ‰€é…ç½®çš„æ¨¡å‹å·²å¼€æºè‡³ <a href="https://github.com/HaofeiMa/E05_Robotiq-2f-85">Github: HaofeiMa/E05_Robotiq-2f-85</a></p></blockquote><h1>1 æ¨¡å‹å‡†å¤‡</h1><h2 id="1-1-æœºå™¨äººSolidworksæ¨¡å‹è½¬URDF-2">1.1 æœºå™¨äººSolidworksæ¨¡å‹è½¬URDF</h2><p>æœ¬ä»¿çœŸå®éªŒä½¿ç”¨<a href="https://www.hansrobot.com/service/download/3dmoxing?pagenum=3">å¤§æ—E05æœºå™¨äºº</a>å’Œ<a href="https://robotiq.com/products/2f85-140-adaptive-robot-gripper">Robotiq 2f-85å¤¹çˆª</a></p><p>è¯¥éƒ¨åˆ†å‚è€ƒ<a href="https://www.bilibili.com/video/BV1Tx411o7rH">ä»¥ä¸‹è§†é¢‘</a></p><iframe src="http://player.bilibili.com/player.html?aid=56651666&bvid=BV1Tx411o7rH&cid=98972250&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="height:100%;width:100%; aspect-ratio: 16 / 9;"> </iframe><p>é¦–å…ˆä¸‹è½½æœºå™¨äººæ¨¡å‹ï¼Œå¹¶è½¬æ¢ä¸ºURDFã€‚</p><p><strong>ï¼ˆ1ï¼‰å®‰è£…sw_urdf_exporteræ’ä»¶</strong></p><p>ä¸‹è½½sw_urdf_exporteræ’ä»¶ï¼š<a href="http://wiki.ros.org/sw_urdf_exporter">http://wiki.ros.org/sw_urdf_exporter</a>ï¼Œæ³¨æ„ä¸‹è½½æœ€æ–°çš„å°±è¡Œï¼Œæœ€æ–°çš„ä¹Ÿæ”¯æŒä»¥å‰ç‰ˆæœ¬çš„Solidworksã€‚</p><p>å…³é—­ Solidworksã€‚</p><p>è¿è¡Œ <a href="https://github.com/ros/solidworks_urdf_exporter/releases">sw2urdfSetup.exe</a>ï¼Œè‡ªè¡Œå®‰è£…å³å¯ã€‚</p><p><strong>ï¼ˆ2ï¼‰ä¸ºæœºå™¨äººæ·»åŠ åŸºå‡†è½´ï¼ˆæ—‹è½¬è½´ï¼‰</strong></p><p><img src="https://img.mahaofei.com/img/202312041343070.png" alt="image.png"></p><p>ä»¥æ­¤é€‰æ‹©å…­ä¸ªåœ†æŸ±é¢ï¼Œç¡®å®šå…­ä¸ªæ—‹è½¬è½´æ–¹å‘ã€‚</p><p><img src="https://img.mahaofei.com/img/202312041401387.png" alt="image.png"></p><p><strong>ï¼ˆ3ï¼‰å¯¼å‡ºURDF</strong></p><p>æŸ¥çœ‹æ˜¯å¦æœ‰ã€å·¥å…·-æœ€ä¸‹é¢File-Export as URDFã€‘ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œç›´æ¥ç‚¹å‡»æ‰“å¼€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ‰“å¼€ã€å·¥å…·-æ’ä»¶ã€‘ï¼Œåœ¨æœ€ä¸‹é¢æ‰“å¼€Sw2URDFæ’ä»¶çš„ä¸¤ä¸ªâˆšã€‚</p><p>æŒ‰ç…§ä»¥ä¸‹è¿‡ç¨‹ï¼Œåˆ›å»ºbase_linkå’Œlink1-6</p><p><img src="https://img.mahaofei.com/img/202312041434677.png" alt="image.png"></p><p>ç„¶åç‚¹å‡»Preview and Export</p><p><img src="https://img.mahaofei.com/img/202312041439265.png" alt="image.png"></p><p>ç„¶åç‚¹å‡»Nextå’ŒExport URDF and Meshï¼Œå®ƒä¼šå°†æˆ‘ä»¬çš„URDFæ¨¡å‹ä»¥åŠŸèƒ½åŒ…çš„å½¢å¼ä¿å­˜åˆ°è®¾ç½®çš„ä½ç½®ã€‚</p><p><strong>æ³¨æ„åˆ›å»ºå®Œæˆåï¼Œä¸€å®šè¦æ£€æŸ¥æœ€åä¸€ä¸ªåæ ‡ç³»æ˜¯å¦æ˜¯åœ¨æœºå™¨äººæœ«ç«¯è¿æ¥æ³•å…°çš„ä¸­å¿ƒï¼Œå› ä¸ºåç»­æ·»åŠ å¤¹çˆªéœ€è¦è¿™ä¸ªåæ ‡ç³»ï¼Œå¦‚æœä¸æ˜¯ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨è°ƒæ•´åæ ‡ç³»çš„ä½ç½®ï¼Œé‡æ–°ç”ŸæˆURDF</strong></p><h2 id="1-2-ROS-ä¸­æŸ¥çœ‹æ¨¡å‹">1.2 ROS ä¸­æŸ¥çœ‹æ¨¡å‹</h2><blockquote><p>ä¸éœ€è¦ä½¿ç”¨ Gazebo çš„å¯ç›´æ¥è·³åˆ°ç¬¬ 2 èŠ‚ï¼ˆ2 æ¨¡å‹å¯¼å…¥ Mujocoï¼‰</p></blockquote><p>åˆ›å»ºä¸€ä¸ªå·¥ä½œç©ºé—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p catkin_robot/src</span><br><span class="line">cd catkin_robot/src</span><br><span class="line">catkin_init_workspace</span><br></pre></td></tr></table></figure><p>å°†åŠŸèƒ½åŒ…å¤åˆ¶åˆ°<code>src</code>ç›®å½•ä¸‹</p><p>å›åˆ° <code>catkin_robot</code> ç›®å½•ä¸‹ï¼Œç¼–è¯‘å·¥ä½œç©ºé—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ..</span><br><span class="line">catkin_make</span><br></pre></td></tr></table></figure><p>è¿è¡Œæµ‹è¯•ç¨‹åº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source devel/setup.bash</span><br><span class="line">roslaunch e05 display.launch</span><br></pre></td></tr></table></figure><p>å°† <code>Fixed Frame</code> æ”¹ä¸º <code>base_link</code>ï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„ <code>Add</code>ï¼Œæ·»åŠ ä¸€ä¸ª <code>Robot Model</code>ï¼Œå¯ä»¥çœ‹åˆ°æœºå™¨äººæ­£å¸¸æ˜¾ç¤ºåœ¨ Rviz ç•Œé¢ä¸­ï¼Œæ‹–åŠ¨è¿›åº¦æ¡å³å¯æ§åˆ¶æœºæ¢°è‡‚å„å…³èŠ‚è¿åŠ¨ã€‚</p><p><img src="https://img.mahaofei.com/img/202312041606763.png" alt="image.png"></p><h2 id="1-3-æ·»åŠ -Robotiq-2f-85-å¤¹çˆª-2">1.3 æ·»åŠ  Robotiq 2f-85 å¤¹çˆª</h2><p><strong>ï¼ˆ1ï¼‰å‡†å¤‡å¤¹çˆªç¯å¢ƒ</strong></p><p>è¿›å…¥å·¥ä½œç©ºé—´çš„srcç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd src</span><br><span class="line">git clone https://github.com/ros-industrial/robotiq.git</span><br></pre></td></tr></table></figure><p>åœ¨è‡ªå·±çš„æœºæ¢°è‡‚çš„åŠŸèƒ½åŒ…çš„urdfæ–‡ä»¶å¤¹ä¸­ï¼Œæ–°å»ºä¸€ä¸ª<code>common.gazebo.xacro</code>æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd src/e05/urdf</span><br><span class="line">gedit common.gazebo.xacro</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">robot</span> <span class="attr">xmlns:xacro</span>=<span class="string">&quot;http://wiki.ros.org/xacro&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">gazebo</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>=<span class="string">&quot;ros_control&quot;</span> <span class="attr">filename</span>=<span class="string">&quot;libgazebo_ros_control.so&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">gazebo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">robot</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºï¼Œæˆ‘åœ¨<code>e05.urdf</code>æœ€åæ·»åŠ äº†ä¸€ä¸ª<code>ee_link</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">name</span>=<span class="string">&quot;ee_link&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">visual</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">origin</span> <span class="attr">xyz</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">rpy</span>=<span class="string">&quot;0 0 0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">geometry</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">sphere</span> <span class="attr">radius</span>=<span class="string">&quot;0.01&quot;</span> /&gt;</span> <span class="comment">&lt;!-- You can use any simple geometry like a sphere for visualization --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">geometry</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">material</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">color</span> <span class="attr">rgba</span>=<span class="string">&quot;1 0 0 1&quot;</span> /&gt;</span> <span class="comment">&lt;!-- Choose a color for visualization --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">material</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">visual</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">joint</span> <span class="attr">name</span>=<span class="string">&quot;ee_joint&quot;</span> <span class="attr">type</span>=<span class="string">&quot;fixed&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">origin</span> <span class="attr">xyz</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">rpy</span>=<span class="string">&quot;0 0 0&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span> <span class="attr">link</span>=<span class="string">&quot;link6&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">child</span> <span class="attr">link</span>=<span class="string">&quot;ee_link&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">joint</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å†æ–°å»ºä¸€ä¸ª<code>xacro</code>æ–‡ä»¶ï¼Œï¼ˆä¾‹å¦‚æˆ‘çš„æœºæ¢°è‡‚åŠŸèƒ½åŒ…åå­—ä¸ºe05ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit e05.xacro</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œæ³¨æ„ä¿®æ”¹<code>Gazeboæ”¯æŒ</code>å’Œ<code>E05æœºæ¢°è‡‚</code>éƒ¨åˆ†è‡ªå·±çš„æœºæ¢°è‡‚åŠŸèƒ½åŒ…åç§°ï¼Œä»¥åŠ<code>å¤¹çˆªä¸æœºæ¢°è‡‚è¿æ¥</code>éƒ¨åˆ†çš„ç¬¬ä¸€è¡Œçš„parentï¼Œæˆ‘è¿™é‡Œè¿æ¥åœ¨äº†link6ä¹Ÿå°±æ˜¯æœ«ç«¯ä¸Šã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">robot</span> <span class="attr">xmlns:xacro</span>=<span class="string">&quot;http://www.ros.org/wiki/xacro&quot;</span> <span class="attr">name</span>=<span class="string">&quot;e05&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:arg</span> <span class="attr">name</span>=<span class="string">&quot;transmission_hw_interface&quot;</span> <span class="attr">default</span>=<span class="string">&quot;hardware_interface/PositionJointInterface&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- E05æœºæ¢°è‡‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">&quot;$(find e05)/urdf/e05.urdf&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Gazebo æ”¯æŒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">&quot;$(find e05)/urdf/common.gazebo.xacro&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åŠ è½½gazeboä¸­éœ€è¦ä½¿ç”¨çš„æ¨¡å‹ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- macros for transmission --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">&quot;transmission_block&quot;</span> <span class="attr">params</span>=<span class="string">&quot;joint_name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transmission</span> <span class="attr">name</span>=<span class="string">&quot;tran1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">type</span>&gt;</span>transmission_interface/SimpleTransmission<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">joint</span> <span class="attr">name</span>=<span class="string">&quot;$&#123;joint_name&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">hardwareInterface</span>&gt;</span>hardware_interface/PositionJointInterface<span class="tag">&lt;/<span class="name">hardwareInterface</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">joint</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">actuator</span> <span class="attr">name</span>=<span class="string">&quot;motor1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">hardwareInterface</span>&gt;</span>hardware_interface/PositionJointInterface<span class="tag">&lt;/<span class="name">hardwareInterface</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mechanicalReduction</span>&gt;</span>1<span class="tag">&lt;/<span class="name">mechanicalReduction</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">actuator</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transmission</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">xacro:macro</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Transmissions for ros control --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:transmission_block</span> <span class="attr">joint_name</span>=<span class="string">&quot;joint1&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:transmission_block</span> <span class="attr">joint_name</span>=<span class="string">&quot;joint2&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:transmission_block</span> <span class="attr">joint_name</span>=<span class="string">&quot;joint3&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:transmission_block</span> <span class="attr">joint_name</span>=<span class="string">&quot;joint4&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:transmission_block</span> <span class="attr">joint_name</span>=<span class="string">&quot;joint5&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:transmission_block</span> <span class="attr">joint_name</span>=<span class="string">&quot;joint6&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;xacro:include filename=&quot;$(find e05)/urdf/e05.gazebo.xacro&quot; /&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æœºå™¨äººå›ºå®šåœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">name</span>=<span class="string">&quot;world&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">joint</span> <span class="attr">name</span>=<span class="string">&quot;world_joint&quot;</span> <span class="attr">type</span>=<span class="string">&quot;fixed&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">parent</span> <span class="attr">link</span>=<span class="string">&quot;world&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child</span> <span class="attr">link</span> = <span class="string">&quot;base_link&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">origin</span> <span class="attr">xyz</span>=<span class="string">&quot;0.0 0.0 0&quot;</span> <span class="attr">rpy</span>=<span class="string">&quot;0.0 0.0 0.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">joint</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Robotiq 2F-85å¤¹çˆª --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">&quot;$(find robotiq_2f_85_gripper_visualization)/urdf/robotiq_arg2f_85_macro.xacro&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">&quot;$(find robotiq_85_description)/urdf/robotiq_85_gripper.urdf.xacro&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">gazebo</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>=<span class="string">&quot;gazebo_grasp_fix&quot;</span> <span class="attr">filename</span>=<span class="string">&quot;libgazebo_grasp_fix.so&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">arm</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;arm_name&gt;åº”è¯¥æ˜¯ä¸€ä¸ªå•ç‹¬çš„åå­—ï¼Œä¸èƒ½å’Œåˆ«çš„ä»»ä½•å…³èŠ‚åŒå --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">arm_name</span>&gt;</span>ur5_gripper<span class="tag">&lt;/<span class="name">arm_name</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;palm_link&gt;æ˜¯å’Œæ‰‹æŒ‡ç›¸è¿çš„å…³èŠ‚ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">palm_link</span>&gt;</span>link6<span class="tag">&lt;/<span class="name">palm_link</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;gripper_link&gt;æ˜¯ä¼šæ£€æµ‹ç¢°æ’çš„å…³èŠ‚ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gripper_link</span>&gt;</span>gripper_finger1_finger_tip_link<span class="tag">&lt;/<span class="name">gripper_link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gripper_link</span>&gt;</span>gripper_finger2_finger_tip_link<span class="tag">&lt;/<span class="name">gripper_link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gripper_link</span>&gt;</span>gripper_finger2_knuckle_link<span class="tag">&lt;/<span class="name">gripper_link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gripper_link</span>&gt;</span>gripper_finger1_knuckle_link<span class="tag">&lt;/<span class="name">gripper_link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gripper_link</span>&gt;</span>gripper_finger1_inner_knuckle_link<span class="tag">&lt;/<span class="name">gripper_link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gripper_link</span>&gt;</span>gripper_finger2_inner_knuckle_link<span class="tag">&lt;/<span class="name">gripper_link</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">arm</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">forces_angle_tolerance</span>&gt;</span>150<span class="tag">&lt;/<span class="name">forces_angle_tolerance</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ£€æµ‹é¢‘ç‡ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">update_rate</span>&gt;</span>130<span class="tag">&lt;/<span class="name">update_rate</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ£€æµ‹ä¸ºæŠ“å–çŠ¶æ€çš„æ¥è§¦æ¬¡æ•°é˜ˆå€¼ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">grip_count_threshold</span>&gt;</span>2<span class="tag">&lt;/<span class="name">grip_count_threshold</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">max_grip_count</span>&gt;</span>8<span class="tag">&lt;/<span class="name">max_grip_count</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é‡Šæ”¾æ—¶çš„å®¹å¿åº¦ï¼Œè¶…è¿‡è¿™ä¸ªå°±ä¼šæŠŠç‰©ä½“æ”¾ä¸‹ã€‚æ•°å€¼è¶Šå¤§ï¼Œéœ€è¦æŠŠå¤¹çˆªæ‰“å¼€æ›´å¤§æ‰èƒ½é‡Šæ”¾ç‰©ä½“ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">release_tolerance</span>&gt;</span>0.005<span class="tag">&lt;/<span class="name">release_tolerance</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">disable_collisions_on_attach</span>&gt;</span>true<span class="tag">&lt;/<span class="name">disable_collisions_on_attach</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">contact_topic</span>&gt;</span>__default_topic__<span class="tag">&lt;/<span class="name">contact_topic</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">gazebo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å°†å¤¹çˆªå®ä¾‹åŒ–ï¼Œå¹¶è®¾ç½®å¤¹çˆªå’Œæœºæ¢°è‡‚çš„å…³ç³»ï¼ˆè¿æ¥åœ¨tool0ä¸Šï¼‰ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:robotiq_85_gripper</span> <span class="attr">prefix</span>=<span class="string">&quot;&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;ee_link&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">origin</span> <span class="attr">xyz</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">rpy</span>=<span class="string">&quot;0 $&#123;-pi/2&#125; 0&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xacro:robotiq_85_gripper</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç›¸æœºå®ä¾‹åŒ–ï¼Œç„¶åè®¾ç½®ä»¿çœŸä½ç½® --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;xacro:include filename=&quot;$(find realsense_ros_gazebo)/xacro/depthcam.xacro&quot;/&gt;</span></span><br><span class="line"><span class="comment">    &lt;xacro:realsense_d435 sensor_name=&quot;d435&quot; parent_link=&quot;tool0&quot; rate=&quot;10&quot;&gt;</span></span><br><span class="line"><span class="comment">        &lt;origin rpy=&quot;0 $&#123;-pi/2&#125; 0 &quot; xyz=&quot;-0.1 0 0&quot;/&gt;</span></span><br><span class="line"><span class="comment">    &lt;/xacro:realsense_d435&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">robot</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åŸæ¥çš„launchæ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä¸ºäº†åç»­æ–¹ä¾¿ï¼Œå°†åŸæ¥çš„<code>display.launch</code>é‡å‘½åäº†<code>display_e05_with_gripper.launch</code>ï¼Œè¿™é‡Œä¸»è¦ä¿®æ”¹<code>&lt;param name=&quot;robot_description&quot; command=&quot;$(find xacro)/xacro '$(find e05)/urdf/e05.xacro'&quot; /&gt;  </code>è¿™ä¸€è¡Œï¼Œæ·»åŠ åˆšåˆšåˆ›å»ºçš„xacroæ–‡ä»¶ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">&quot;model&quot;</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;param name=&quot;robot_description&quot; textfile=&quot;$(find e05)/urdf/e05.xacro&quot; /&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;robot_description&quot;</span> <span class="attr">command</span>=<span class="string">&quot;$(find xacro)/xacro &#x27;$(find e05)/urdf/e05.xacro&#x27;&quot;</span> /&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">&quot;joint_state_publisher_gui&quot;</span> <span class="attr">pkg</span>=<span class="string">&quot;joint_state_publisher_gui&quot;</span> <span class="attr">type</span>=<span class="string">&quot;joint_state_publisher_gui&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">&quot;robot_state_publisher&quot;</span> <span class="attr">pkg</span>=<span class="string">&quot;robot_state_publisher&quot;</span> <span class="attr">type</span>=<span class="string">&quot;robot_state_publisher&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">&quot;rviz&quot;</span> <span class="attr">pkg</span>=<span class="string">&quot;rviz&quot;</span> <span class="attr">type</span>=<span class="string">&quot;rviz&quot;</span> <span class="attr">args</span>=<span class="string">&quot;-d $(find e05)/urdf.rviz&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰Rvizä¸­æŸ¥çœ‹æœºå™¨äºº</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd catkin_motion</span><br><span class="line">catkin_make</span><br><span class="line">source devel/setup.bash</span><br><span class="line">roslaunch e05 display_e05_with_gripper.launch</span><br></pre></td></tr></table></figure><p>å·¦ä¸‹è§’Addï¼Œæ·»åŠ æœºå™¨äººæ¨¡å‹RobotModelã€‚</p><p>å·¦ä¾§Fixed Frameé€‰æ‹©base_linkï¼Œå³å¯çœ‹åˆ°æœºå™¨äººäº†ã€‚</p><p><img src="https://img.mahaofei.com/img/202312051357909.png" alt="image.png"></p><p><strong>ï¼ˆ3ï¼‰Gazeboä¸­æŸ¥çœ‹æœºå™¨äºº</strong></p><p>åˆ›å»ºä¸€ä¸ª<code>gazebo_e05_with_gripper.launch</code>æ–‡ä»¶ï¼Œå†…å®¹å‚è€ƒå¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">&quot;gui&quot;</span> <span class="attr">default</span>=<span class="string">&quot;true&quot;</span> <span class="attr">doc</span>=<span class="string">&quot;Starts gazebo gui&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">&quot;paused&quot;</span> <span class="attr">default</span>=<span class="string">&quot;false&quot;</span> <span class="attr">doc</span>=<span class="string">&quot;Starts gazebo in paused mode&quot;</span> /&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- å¯åŠ¨ä»¿çœŸç¯å¢ƒ åç»­æœ‰ç¯å¢ƒä¿®æ”¹ï¼Œå¯ä»¥æ›¿æ¢æ­¤å¤„çš„worlds/empty.worldï¼Œæ”¹ä¸ºä¾‹å¦‚&quot;$(find ur_gazebo)/worlds/table_custom.world&quot; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">&quot;$(find gazebo_ros)/launch/empty_world.launch&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">&quot;world_name&quot;</span> <span class="attr">default</span>=<span class="string">&quot;$(find gazebo_ros)/launch/empty_world.world&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">&quot;paused&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$(arg paused)&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">&quot;gui&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$(arg gui)&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- åŠ è½½TF --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">&quot;tf_footprint_base&quot;</span> <span class="attr">pkg</span>=<span class="string">&quot;tf&quot;</span> <span class="attr">type</span>=<span class="string">&quot;static_transform_publisher&quot;</span> <span class="attr">args</span>=<span class="string">&quot;0 0 0 0 0 0 base_link base_footprint 40&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å¯åŠ¨æœºå™¨äºº --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">&quot;$(find e05)/launch/display_e05_with_gripper.launch&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å°† robot_description å‘é€åˆ° gazebo ä¸­ç”Ÿæˆæœºå™¨äºº --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;node name=&quot;spawn_model&quot; pkg=&quot;gazebo_ros&quot; type=&quot;spawn_model&quot; args=&quot;-file $(find e05)/urdf/e05.urdf -urdf -model e05&quot; output=&quot;screen&quot; /&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">&quot;spawn_gazebo_model&quot;</span> <span class="attr">pkg</span>=<span class="string">&quot;gazebo_ros&quot;</span> <span class="attr">type</span>=<span class="string">&quot;spawn_model&quot;</span> <span class="attr">args</span>=<span class="string">&quot;-urdf -param robot_description -model robot -z 0&quot;</span> <span class="attr">respawn</span>=<span class="string">&quot;false&quot;</span> <span class="attr">output</span>=<span class="string">&quot;screen&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">&quot;fake_joint_calibration&quot;</span> <span class="attr">pkg</span>=<span class="string">&quot;rostopic&quot;</span> <span class="attr">type</span>=<span class="string">&quot;rostopic&quot;</span> <span class="attr">args</span>=<span class="string">&quot;pub /calibrated std_msgs/Bool true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¯åŠ¨<code>launch</code>æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°gazeboç¯å¢ƒä¸­æœºå™¨äººã€‚</p><p><img src="https://img.mahaofei.com/img/202312051949512.png" alt="image.png"></p><hr><p><strong>ä¸‹é¢çš„åˆ›å»ºmoveité©±åŠ¨ï¼Œåœ¨mujocoä¸­ä¸éœ€è¦ï¼Œè¯·ç›´æ¥è·³åˆ° 2 æ¨¡å‹å¯¼å…¥mujoco</strong></p><h2 id="1-4-åˆ›å»ºMoveIté©±åŠ¨-2">1.4 åˆ›å»ºMoveIté©±åŠ¨</h2><p>æ­¤éƒ¨åˆ†å‚è€ƒ<a href="https://blog.csdn.net/Tepmoe/article/details/119533792">è¯¥æ–‡ç« </a>ã€‚</p><p>å¯åŠ¨moveitè®¾ç½®åŠ©æ‰‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun moveit_setup_assistant moveit_setup_assistant</span><br></pre></td></tr></table></figure><p>é€‰æ‹©Create New Moveit Configuration Packageï¼Œé€‰æ‹©è‡ªå·±çš„<code>e05.xacro</code>æ–‡ä»¶ï¼Œç‚¹å‡»<code>Load Files</code></p><p><img src="https://img.mahaofei.com/img/202312051459862.png" alt="image.png"></p><p>å·¦ä¾§ç¬¬äºŒä¸ªçš„<code>Self-Collisions</code>æ˜¯æ£€æŸ¥ç¢°æ’ï¼Œä¸€å®šå°†æ‰€æœ‰æœ‰å¯èƒ½å‘ç”Ÿç¢°æ’çš„éƒ½å‹¾é€‰ä¸Šï¼Œä¸ç„¶åç»­ä¼šå‡ºé”™ã€‚</p><p><img src="https://img.mahaofei.com/img/202312051948359.png" alt="image.png"></p><p>ç¬¬ä¸‰ä¸ª<code>Virtual Joints</code>ä¸€èˆ¬ä¹Ÿä¸éœ€è¦ã€‚</p><p>ç¬¬å››ä¸ª<code>Planning Groups</code>æ˜¯æœ€é‡è¦çš„ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ï¼Œç‚¹å‡»<code>Add Group</code>ï¼Œåˆ†åˆ«é…ç½®æœºå™¨äººå’Œæœ«ç«¯å¤¹çˆªã€‚</p><p>æœºæ¢°è‡‚ï¼š</p><ul><li>Group Nameä¸€èˆ¬å¡«manipulatorå°±è¡Œ</li><li>è¿åŠ¨å­¦æ±‚è§£å™¨ï¼Œé€‰æ‹©kdl</li><li>è·¯å¾„è§„åˆ’ç®—æ³•ï¼Œé»˜è®¤é€‰æ‹©RRT Starå°±è¡Œ</li><li>ç‚¹å‡»<code>Add Kin. Chain</code>ï¼ŒBaselinké€‰æ‹© base_linkï¼ŒTiplinké€‰æ‹©ee_link</li></ul><p><img src="https://img.mahaofei.com/img/202312051507765.png" alt="image.png"></p><p>æœ«ç«¯å¤¹çˆªçš„Group Nameå¡«ä¸Šgripperï¼Œå…¶å®ƒçš„éƒ½ä¸ç”¨é€‰ã€‚</p><p>ç¬¬äº”ä¸ª<code>Robot Poses</code>å¯ä»¥æ·»åŠ ä¸€äº›å¸¸ç”¨ä½ç½®ï¼Œä¾¿äºæˆ‘ä»¬å¿«é€Ÿä½¿æœºå™¨äººè¿åŠ¨åˆ°è¿™äº›ä½ç½®ï¼Œä¾‹å¦‚</p><ul><li>upï¼šæœºå™¨äººåˆå§‹çš„ç«–ç›´å‘ä¸Š</li><li>pickï¼šæœºå™¨äººå‡†å¤‡å¤¹å–</li><li>openï¼šå¤¹çˆªæ‰“å¼€</li><li>closeï¼šå¤¹çˆªå…³é—­</li></ul><p><img src="https://img.mahaofei.com/img/202312051513180.png" alt="image.png"></p><p>ç¬¬å…­ä¸ª<code>End Effectors</code>ï¼ŒæŒ‰ä¸‹å›¾è®¾ç½®å°±è¡Œ</p><p><img src="https://img.mahaofei.com/img/202312051533929.png" alt="image.png"></p><p>ç‚¹å‡»<code>Controllers</code>ï¼Œç‚¹å‡»å·¦ä¸Šè§’è‡ªåŠ¨ç”Ÿæˆ</p><p><img src="https://img.mahaofei.com/img/202312051534681.png" alt="image.png"></p><p>ç‚¹å‡»å€’æ•°ç¬¬äºŒä¸ª<code>Author Information</code>ï¼Œå¡«å†™åå­—å’Œé‚®ç®±ï¼Œä¸ä¸€å®šæ˜¯çœŸå®çš„ï¼Œä½†æ˜¯ä¸å¡«æ— æ³•ç”ŸæˆåŠŸèƒ½åŒ…</p><p>æœ€å<code>Generate Package</code>å°±å¯ä»¥äº†ï¼ˆåœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>e05_moveit</code>æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©æ­¤æ–‡ä»¶å¤¹ç”Ÿæˆï¼‰</p><p>æµ‹è¯•rvizæ˜¯å¦èƒ½æ§åˆ¶æœºå™¨äºº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">catkin_make</span><br><span class="line">source devel/setup.bash</span><br><span class="line">roslaunch e05_moveit demo.launch</span><br></pre></td></tr></table></figure><p>æµ‹è¯•gazeboæ˜¯å¦èƒ½è”åŠ¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch e05_moveit demo_gazebo.launch</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/202312052212812.png" alt="image.png"></p><p>æµ‹è¯•æ—¶é‡åˆ°äº†<strong>Rvizä¸­çš„æœºæ¢°è‡‚å¯ä»¥æ­£å¸¸åšè§„åˆ’å’Œæ‰§è¡Œï¼Œä½†æ˜¯Gazeboä¸­æœºæ¢°è‡‚æ²¡æœ‰ååº”</strong>çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ³•å‚è€ƒ<a href="https://blog.csdn.net/qq_50598558/article/details/114702163">æ­¤æ–‡ç« </a></p><h1>2 æ¨¡å‹å¯¼å…¥Mujoco</h1><h2 id="2-1-ä¿®æ”¹URDF">2.1 ä¿®æ”¹URDF</h2><p>åœ¨ç°æœ‰æ¨¡å‹çš„xacroæˆ–urdfä¸­çš„å¼€å¤´ï¼Œæ·»åŠ ä¸‹é¢çš„tag</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mujoco</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">compiler</span> </span></span><br><span class="line"><span class="tag"><span class="attr">meshdir</span>=<span class="string">&quot;../meshes_mujoco/&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">balanceinertia</span>=<span class="string">&quot;true&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">discardvisual</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mujoco</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹<code>e05/meshes_mujoco</code>ï¼Œå°†æ‰€æœ‰æ¨¡å‹çš„stlæ–‡ä»¶æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ã€‚</p><p>ä»xacroæ–‡ä»¶ç”Ÿæˆurdfæ–‡ä»¶çš„å‘½ä»¤ï¼ˆå¦‚æœæœ‰urdfæ–‡ä»¶åˆ™ä¸éœ€è¦æ­¤æ­¥ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun xacro xacro --inorder e05.xacro &gt; e05.urdf</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥urdfæ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">check_urdf e05.urdf</span><br></pre></td></tr></table></figure><p>åœ¨RVizä¸­å¯è§†åŒ–ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch e05 display.launch model:=path/to/your/urdf/file</span><br></pre></td></tr></table></figure><h2 id="2-2-ç”ŸæˆåŸºæœ¬æ¨¡å‹">2.2 ç”ŸæˆåŸºæœ¬æ¨¡å‹</h2><p>åœ¨ç¡®è®¤URDFæ¨¡å‹æ²¡æœ‰é—®é¢˜åï¼Œè¿›å…¥MuJoCoçš„å¯æ‰§è¡Œæ–‡ä»¶å¤¹å†…æ‰§è¡Œå‘½ä»¤è¿›è¡Œè½¬æ¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.mujoco/mujoco210/bin</span><br></pre></td></tr></table></figure><p>å®˜æ–¹è¯´æ˜å¯ä»¥è½¬æ¢æˆä¸‰ç§æ¨¡å‹<code>.mjb/.txt/.xml</code>ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨xmlçš„æ ¼å¼ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./compile /path/to/model.urdf /path/to/model.xml</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç”Ÿæˆçš„åŸºæœ¬æ¨¡å‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./simulate /path/to/model.xml</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æœºå™¨äººå‡ºç°åœ¨äº†ä»¿çœŸç¯å¢ƒä¸­ï¼Œè™½ç„¶ä¼šå‘ç°æˆ‘ä»¬çš„æ¨¡å‹ç›´æ¥ç˜«å€’ï¼Œä½†æ˜¯è¿™æ˜¯å› ä¸ºæ²¡æœ‰æ·»åŠ actuatorç­‰é…ç½®ã€‚</p><p><img src="https://img.mahaofei.com/img/202312060913373.png" alt="image.png"></p><p>ç”±äºå¤¹çˆªå‡ºç°é—®é¢˜ï¼Œä¸€ç›´æ— æ³•ä½¿ç”¨ï¼Œå› æ­¤æ›¿æ¢äº†<a href="https://github.com/vikashplus/robotiq_sim">vikashplus/robotiq_sim</a>çš„å¤¹çˆªã€‚</p><p>æ·»åŠ å®Œæˆåçš„<code>e05_mujoco.xml</code>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mujoco</span> <span class="attr">model</span>=<span class="string">&quot;e05&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">compiler</span> <span class="attr">angle</span>=<span class="string">&quot;radian&quot;</span> <span class="attr">meshdir</span>=<span class="string">&quot;../meshes_mujoco/&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">size</span> <span class="attr">njmax</span>=<span class="string">&quot;500&quot;</span> <span class="attr">nconmax</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- åŠ è½½ E05 æœºæ¢°è‡‚æ¨¡å‹ä¸åŸºæœ¬é…ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">asset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mesh</span> <span class="attr">name</span>=<span class="string">&quot;base_link&quot;</span> <span class="attr">file</span>=<span class="string">&quot;e05/base_link.STL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mesh</span> <span class="attr">name</span>=<span class="string">&quot;link1&quot;</span> <span class="attr">file</span>=<span class="string">&quot;e05/link1.STL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mesh</span> <span class="attr">name</span>=<span class="string">&quot;link2&quot;</span> <span class="attr">file</span>=<span class="string">&quot;e05/link2.STL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mesh</span> <span class="attr">name</span>=<span class="string">&quot;link3&quot;</span> <span class="attr">file</span>=<span class="string">&quot;e05/link3.STL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mesh</span> <span class="attr">name</span>=<span class="string">&quot;link4&quot;</span> <span class="attr">file</span>=<span class="string">&quot;e05/link4.STL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mesh</span> <span class="attr">name</span>=<span class="string">&quot;link5&quot;</span> <span class="attr">file</span>=<span class="string">&quot;e05/link5.STL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mesh</span> <span class="attr">name</span>=<span class="string">&quot;link6&quot;</span> <span class="attr">file</span>=<span class="string">&quot;e05/link6.STL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">texture</span> <span class="attr">type</span>=<span class="string">&quot;skybox&quot;</span> <span class="attr">builtin</span>=<span class="string">&quot;gradient&quot;</span> <span class="attr">rgb1</span>=<span class="string">&quot;0.3 0.5 0.7&quot;</span> <span class="attr">rgb2</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;512&quot;</span> <span class="attr">height</span>=<span class="string">&quot;3072&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;texture builtin=&quot;flat&quot; height=&quot;1278&quot; mark=&quot;cross&quot; markrgb=&quot;1 1 1&quot; name=&quot;texgeom&quot; random=&quot;0.01&quot; rgb1=&quot;0.8 0.6 0.4&quot; rgb2=&quot;0.8 0.6 0.4&quot; type=&quot;cube&quot; width=&quot;127&quot;/&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;material name=&quot;geom&quot; texture=&quot;texgeom&quot; texuniform=&quot;true&quot;/&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">texture</span> <span class="attr">type</span>=<span class="string">&quot;2d&quot;</span> <span class="attr">name</span>=<span class="string">&quot;groundplane&quot;</span> <span class="attr">builtin</span>=<span class="string">&quot;checker&quot;</span> <span class="attr">mark</span>=<span class="string">&quot;edge&quot;</span> <span class="attr">rgb1</span>=<span class="string">&quot;0.2 0.3 0.4&quot;</span> <span class="attr">rgb2</span>=<span class="string">&quot;0.1 0.2 0.3&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">markrgb</span>=<span class="string">&quot;0.8 0.8 0.8&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">material</span> <span class="attr">name</span>=<span class="string">&quot;groundplane&quot;</span> <span class="attr">texture</span>=<span class="string">&quot;groundplane&quot;</span> <span class="attr">texuniform</span>=<span class="string">&quot;true&quot;</span> <span class="attr">texrepeat</span>=<span class="string">&quot;5 5&quot;</span> <span class="attr">reflectance</span>=<span class="string">&quot;0.2&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">asset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">default</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">default</span> <span class="attr">class</span>=<span class="string">&quot;E05&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">joint</span> <span class="attr">damping</span>=<span class="string">&#x27;200&#x27;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">default</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">default</span> <span class="attr">class</span>=<span class="string">&quot;E05e&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">joint</span> <span class="attr">damping</span>=<span class="string">&#x27;100&#x27;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">default</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">default</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- åŠ è½½ Robotiq-2f-85 å¤¹çˆªä¸åŸºæœ¬é…ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">&quot;robotiq-2f-85-assets.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æœºå™¨äººæœ¬ä½“ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">worldbody</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä»¿çœŸç¯å¢ƒè®¾ç½®å®šä¹‰ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;body pos=&quot;-0.16 0.90 0.02&quot; euler=&quot;4.71238898 0 3.14159265&quot;&gt;</span></span><br><span class="line"><span class="comment">            &lt;body euler=&quot;0 -0.82 0&quot;&gt;</span></span><br><span class="line"><span class="comment">                &lt;camera name=&quot;workbench_camera&quot; euler=&quot;0 0 0&quot; fovy=&quot;60&quot; pos=&quot;0 0 0.5&quot; /&gt;</span></span><br><span class="line"><span class="comment">            &lt;/body&gt;</span></span><br><span class="line"><span class="comment">        &lt;/body&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">light</span> <span class="attr">diffuse</span>=<span class="string">&quot;0.6 0.6 0.6&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 3&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">light</span> <span class="attr">diffuse</span>=<span class="string">&quot;0.6 0.6 0.6&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 -0.3 3&quot;</span> <span class="attr">dir</span>=<span class="string">&quot;0 0.2 -0.8&quot;</span> <span class="attr">directional</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;light cutoff=&quot;100&quot; diffuse=&quot;0.5 0.5 0.5&quot; dir=&quot;-0 0 -1.3&quot; directional=&quot;true&quot; exponent=&quot;1&quot; pos=&quot;0 0 1.3&quot; specular=&quot;.1 .1 .1&quot;/&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">geom</span> <span class="attr">name</span>=<span class="string">&quot;floor&quot;</span> <span class="attr">size</span>=<span class="string">&quot;0 0 0.05&quot;</span> <span class="attr">type</span>=<span class="string">&quot;plane&quot;</span> <span class="attr">material</span>=<span class="string">&quot;groundplane&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æ•´ä¸ªè¿åŠ¨é“¾ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.501961 0.501961 0.501961 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;base_link&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.501961 0.501961 0.501961 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;base_link&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">body</span> <span class="attr">name</span>=<span class="string">&quot;link1&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0.0735&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inertial</span> <span class="attr">pos</span>=<span class="string">&quot;-0.0218175 -1.34618e-05 0.0953928&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.696024 -0.147787 -0.14991 0.686467&quot;</span> <span class="attr">mass</span>=<span class="string">&quot;2.58559&quot;</span> <span class="attr">diaginertia</span>=<span class="string">&quot;0.0143616 0.0141793 0.00506835&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">joint</span> <span class="attr">class</span>=<span class="string">&quot;E05&quot;</span> <span class="attr">name</span>=<span class="string">&quot;joint1&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">axis</span>=<span class="string">&quot;0 0 1&quot;</span> <span class="attr">limited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">range</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.772549 0.752941 0.733333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link1&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.772549 0.752941 0.733333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link1&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">body</span> <span class="attr">name</span>=<span class="string">&quot;link2&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0.1465&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.5 -0.5 -0.5 0.5&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">inertial</span> <span class="attr">pos</span>=<span class="string">&quot;4.42659e-06 -0.15814 0.130501&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.491565 0.508215 -0.508335 0.491606&quot;</span> <span class="attr">mass</span>=<span class="string">&quot;1.21311&quot;</span> <span class="attr">diaginertia</span>=<span class="string">&quot;0.0159807 0.0154676 0.00149746&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">joint</span> <span class="attr">class</span>=<span class="string">&quot;E05&quot;</span> <span class="attr">name</span>=<span class="string">&quot;joint2&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">axis</span>=<span class="string">&quot;0 0 -1&quot;</span> <span class="attr">limited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">range</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.792157 0.819608 0.933333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link2&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.792157 0.819608 0.933333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link2&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">body</span> <span class="attr">name</span>=<span class="string">&quot;link3&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 -0.38 0&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.707107 0 0 0.707107&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">inertial</span> <span class="attr">pos</span>=<span class="string">&quot;-0.0414786 1.14213e-05 0.0194164&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.601987 0.371892 0.373044 0.600122&quot;</span> <span class="attr">mass</span>=<span class="string">&quot;1.53239&quot;</span> <span class="attr">diaginertia</span>=<span class="string">&quot;0.00608826 0.00587729 0.00215529&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">joint</span> <span class="attr">class</span>=<span class="string">&quot;E05&quot;</span> <span class="attr">name</span>=<span class="string">&quot;joint3&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">axis</span>=<span class="string">&quot;0 0 -1&quot;</span> <span class="attr">limited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">range</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.866667 0.866667 0.890196 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link3&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.866667 0.866667 0.890196 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link3&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">body</span> <span class="attr">name</span>=<span class="string">&quot;link4&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.5 -0.5 0.5 -0.5&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">inertial</span> <span class="attr">pos</span>=<span class="string">&quot;3.8238e-05 -0.0589656 -0.257081&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.988248 -0.152858 -0.000415939 -0.000860755&quot;</span> <span class="attr">mass</span>=<span class="string">&quot;0.475189&quot;</span> <span class="attr">diaginertia</span>=<span class="string">&quot;0.00538322 0.0052745 0.000778119&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">joint</span> <span class="attr">class</span>=<span class="string">&quot;E05e&quot;</span> <span class="attr">name</span>=<span class="string">&quot;joint4&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">axis</span>=<span class="string">&quot;0 0 1&quot;</span> <span class="attr">limited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">range</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.772549 0.752941 0.733333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link4&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.772549 0.752941 0.733333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link4&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">body</span> <span class="attr">name</span>=<span class="string">&quot;link5&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 -0.42&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.707105 -0.707108 0 0&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">inertial</span> <span class="attr">pos</span>=<span class="string">&quot;1.42418e-06 0.0365906 -0.0159722&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.527641 0.849468 0.000113207 -7.90953e-05&quot;</span> <span class="attr">mass</span>=<span class="string">&quot;0.811919&quot;</span> <span class="attr">diaginertia</span>=<span class="string">&quot;0.00229898 0.00217056 0.000742684&quot;</span> /&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">joint</span> <span class="attr">class</span>=<span class="string">&quot;E05e&quot;</span> <span class="attr">name</span>=<span class="string">&quot;joint5&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">axis</span>=<span class="string">&quot;0 0 1&quot;</span> <span class="attr">limited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">range</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> /&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.792157 0.819608 0.933333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link5&quot;</span> /&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.792157 0.819608 0.933333 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link5&quot;</span> /&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">body</span> <span class="attr">name</span>=<span class="string">&quot;link6&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0.155 0&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.707105 -0.707108 0 0&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">inertial</span> <span class="attr">pos</span>=<span class="string">&quot;-4.84703e-06 0.00109667 -0.0032406&quot;</span> <span class="attr">quat</span>=<span class="string">&quot;0.999926 0.0120786 2.3554e-05 -0.00120144&quot;</span> <span class="attr">mass</span>=<span class="string">&quot;0.75038&quot;</span> <span class="attr">diaginertia</span>=<span class="string">&quot;0.00129697 0.00122959 0.00051245&quot;</span> /&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">joint</span> <span class="attr">class</span>=<span class="string">&quot;E05e&quot;</span> <span class="attr">name</span>=<span class="string">&quot;joint6&quot;</span> <span class="attr">pos</span>=<span class="string">&quot;0 0 0&quot;</span> <span class="attr">axis</span>=<span class="string">&quot;0 0 -1&quot;</span> <span class="attr">limited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">range</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> /&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.776471 0.756863 0.737255 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link6&quot;</span> /&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">geom</span> <span class="attr">type</span>=<span class="string">&quot;mesh&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;0.776471 0.756863 0.737255 1&quot;</span> <span class="attr">mesh</span>=<span class="string">&quot;link6&quot;</span> /&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">geom</span> <span class="attr">size</span>=<span class="string">&quot;0.01&quot;</span> <span class="attr">contype</span>=<span class="string">&quot;0&quot;</span> <span class="attr">conaffinity</span>=<span class="string">&quot;0&quot;</span> <span class="attr">group</span>=<span class="string">&quot;1&quot;</span> <span class="attr">rgba</span>=<span class="string">&quot;1 0 0 1&quot;</span> /&gt;</span></span><br><span class="line">                                </span><br><span class="line">                                <span class="comment">&lt;!-- å¯¼å…¥ Robotiq 2f-85 è¿åŠ¨é“¾ --&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">&quot;robotiq-2f-85-chain.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">worldbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">actuator</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- E05 æœºæ¢°è‡‚é©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">position</span> <span class="attr">name</span>=<span class="string">&quot;joint1&quot;</span> <span class="attr">ctrllimited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">ctrlrange</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> <span class="attr">joint</span>=<span class="string">&quot;joint1&quot;</span> <span class="attr">kp</span>=<span class="string">&quot;4000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">position</span> <span class="attr">name</span>=<span class="string">&quot;joint2&quot;</span> <span class="attr">ctrllimited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">ctrlrange</span>=<span class="string">&quot;-1.57 1.57&quot;</span> <span class="attr">joint</span>=<span class="string">&quot;joint2&quot;</span> <span class="attr">kp</span>=<span class="string">&quot;3000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">position</span> <span class="attr">name</span>=<span class="string">&quot;joint3&quot;</span> <span class="attr">ctrllimited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">ctrlrange</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> <span class="attr">joint</span>=<span class="string">&quot;joint3&quot;</span> <span class="attr">kp</span>=<span class="string">&quot;3000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">position</span> <span class="attr">name</span>=<span class="string">&quot;joint4&quot;</span> <span class="attr">ctrllimited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">ctrlrange</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> <span class="attr">joint</span>=<span class="string">&quot;joint4&quot;</span> <span class="attr">kp</span>=<span class="string">&quot;2000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">position</span> <span class="attr">name</span>=<span class="string">&quot;joint5&quot;</span> <span class="attr">ctrllimited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">ctrlrange</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> <span class="attr">joint</span>=<span class="string">&quot;joint5&quot;</span> <span class="attr">kp</span>=<span class="string">&quot;2000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">position</span> <span class="attr">name</span>=<span class="string">&quot;joint6&quot;</span> <span class="attr">ctrllimited</span>=<span class="string">&quot;true&quot;</span> <span class="attr">ctrlrange</span>=<span class="string">&quot;-3.14159 3.14159&quot;</span> <span class="attr">joint</span>=<span class="string">&quot;joint6&quot;</span> <span class="attr">kp</span>=<span class="string">&quot;2000&quot;</span>/&gt;</span>     </span><br><span class="line"><span class="tag">&lt;/<span class="name">actuator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mujoco</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ å®Œæˆåæ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p>æ³¨æ„ï¼Œéœ€è¦åœ¨æ¯ä¸ª joint æ ‡ç­¾ä¸­åŠ å…¥ damping å±æ€§ï¼Œä¾‹å¦‚ <code>damping='200'</code> ï¼Œå¦åˆ™ä¼šå‡ºç°æ¨¡å‹æŒç»­æŠ–åŠ¨é—ªçƒï¼Œæ— æ³•æ§åˆ¶çš„é—®é¢˜ã€‚</p></blockquote><p><img src="https://img.mahaofei.com/img/202312061457266.png" alt="image.png"></p><p>æ•´ç†æ–‡ä»¶ç»“æ„ï¼Œæ·»åŠ æ¡Œå­ã€å°æ–¹å—ï¼Œç§»åŠ¨æœºå™¨äººä½ç½®å’Œç›¸æœºè§†è§’ï¼Œæœ€åå¾—åˆ°ä¸‹é¢çš„ä»¿çœŸç¯å¢ƒã€‚å…·ä½“ä»£ç å·²å¼€æºè‡³<a href="https://github.com/HaofeiMa/E05_Robotiq-2f-85">Github</a>:</p><p><img src="https://img.mahaofei.com/img/202312062141059.png" alt="image.png"></p><h1>3 Mujoco å¸¸ç”¨å‘½ä»¤</h1><h2 id="3-1-æ¨¡å‹åŠ è½½ä¸åˆå§‹åŒ–é…ç½®">3.1 æ¨¡å‹åŠ è½½ä¸åˆå§‹åŒ–é…ç½®</h2><p>æ¨¡å‹åŠ è½½ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model = mujoco_py.load_model_from_path(<span class="string">&quot;path/to/.xml&quot;</span>)</span><br></pre></td></tr></table></figure><p>åˆ›å»ºmujocoä»¿çœŸå®ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sim = mujoco_py.MjSim(model)</span><br></pre></td></tr></table></figure><p>æ¸²æŸ“è®¾ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ¸²æŸ“å™¨</span></span><br><span class="line">viewer = mujoco_py.MjViewer(sim)</span><br><span class="line"><span class="comment"># è®¾ç½®æ¨¡æ‹Ÿç¯å¢ƒè§†è§’</span></span><br><span class="line">lookat = [<span class="number">1.27998563</span>, <span class="number">0.68635066</span>, <span class="number">0.55350562</span>]</span><br><span class="line"><span class="keyword">for</span> idx <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">viewer.cam.lookat[idx] = lookat[idx]</span><br><span class="line">viewer.cam.distance = <span class="number">1.4547035766991275</span></span><br><span class="line">viewer.cam.azimuth = <span class="number">134.95215311004816</span></span><br><span class="line">viewer.cam.elevation = -<span class="number">32.488038277512022</span></span><br></pre></td></tr></table></figure><p>åˆå§‹å§¿æ€è®¾ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">initial_qpos = &#123;</span><br><span class="line"><span class="string">&#x27;joint1&#x27;</span>: np.pi/<span class="number">2</span>,</span><br><span class="line"><span class="string">&#x27;joint2&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;joint3&#x27;</span>: np.pi/<span class="number">2</span>,</span><br><span class="line"><span class="string">&#x27;joint4&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;joint5&#x27;</span>: np.pi/<span class="number">2</span>,</span><br><span class="line"><span class="string">&#x27;joint6&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;robotiq_2f_85_right_driver_joint&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;object0:joint&#x27;</span>: [<span class="number">1</span>, <span class="number">0.45</span>, <span class="number">0.425</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, value <span class="keyword">in</span> initial_qpos.items():</span><br><span class="line">sim.data.set_joint_qpos(name, value)</span><br><span class="line">sim.forward()</span><br></pre></td></tr></table></figure><p>ä¸»å‡½æ•°è°ƒç”¨æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">sim.step()</span><br><span class="line">viewer.render()</span><br></pre></td></tr></table></figure><h2 id="3-2-åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢ä¸è®¾ç½®">3.2 åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢ä¸è®¾ç½®</h2><p><strong>ï¼ˆ1ï¼‰body</strong></p><p>æ‰“å°<code>body</code>ä½ç½®ä¸å§¿æ€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">body_idx = sim.model.body_name2id(<span class="string">&quot;link6&quot;</span>)</span><br><span class="line"><span class="comment"># æ‰“å° body åæ ‡</span></span><br><span class="line"><span class="built_in">print</span>(sim.data.body_xpos[body_idx])</span><br><span class="line"><span class="comment"># æ‰“å° body å››å…ƒæ•°</span></span><br><span class="line"><span class="built_in">print</span>(sim.data.body_xquat[body_idx])</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰site</strong></p><p>æ‰“å°<code>site</code>ä½ç½®ä¸å§¿æ€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(sim.data.get_site_xpos(<span class="string">&#x27;site_name&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(sim.data.get_site_xquat(<span class="string">&#x27;site_name&#x27;</span>))</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰joint</strong></p><p>æ‰“å°<code>joint</code>å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">joint_idx = model.joint_name2id(<span class="string">&quot;joint_name&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(sim.data.qpos[model.jnt_qposadr[joint_idx]])</span><br></pre></td></tr></table></figure><p>è®¾ç½®<code>joint</code>å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sim.data.set_joint_qpos(<span class="string">&quot;joint_name&quot;</span>, value)</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ4ï¼‰actuator</strong></p><p>æ‰“å°<code>actuator</code>çŠ¶æ€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(sim.data.ctrl)</span><br></pre></td></tr></table></figure><p>è®¾ç½®<code>actuator</code>å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sim.data.ctrl[actuator_index] = value</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ5ï¼‰mocap</strong></p><p>æ‰“å°<code>mocap</code>ä½ç½®å’Œå§¿æ€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(sim.data.mocap_pos)</span><br><span class="line"><span class="built_in">print</span>(sim.data.mocap_quat)</span><br></pre></td></tr></table></figure><p>è®¾ç½®<code>mocap</code>ä½ç½®å’Œå§¿æ€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹æ³•ä¸€</span></span><br><span class="line">sim.data.mocap_pos[:] = np.array([x, y, z])</span><br><span class="line">sim.data.mocap_quat[:] = np.array([quat_1, quat_2, quat_3, quat_4])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ³•äºŒ</span></span><br><span class="line">sim.data.set_mocap_pos(<span class="string">&#x27;mocap_name&#x27;</span>, np.array([x, y, z]))</span><br><span class="line">sim.data.set_mocap_quat(<span class="string">&#x27;mocap_name&#x27;</span>, np.array([quat_1, quat_2, quat_3, quat_4]))</span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒé“¾æ¥ï¼š</p><ol><li><a href="https://www.bilibili.com/video/BV1Tx411o7rH">SUESæœ¨é¸¢æœºç”²å·¥ä½œå®¤. SolidWorksæ¨¡å‹å¯¼å‡ºurdf ï¼ˆå¤æœˆå±…è€å¸ˆï¼‰. Bilibili</a></li><li><a href="https://zhuanlan.zhihu.com/p/99991106">Robot Learning. MuJoCoçš„æœºå™¨äººå»ºæ¨¡. çŸ¥ä¹</a></li><li><a href="https://roboti.us/forum/index.php?resources/">MuJoCoå®˜æ–¹è®ºå›</a></li><li><a href="http://www.mujoco.org/book/index.html">MoJoCoå®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://github.com/vikashplus/robotiq_sim">vikashplus/robotiq_sim.git</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">å°†è‡ªå®šä¹‰æœºå™¨äººæ¨¡å‹å¯¼å…¥è¿›Mujocoä¸­ï¼Œä¸ºåç»­å¼ºåŒ–å­¦ä¹ æ­å»ºä»¿çœŸç¯å¢ƒåŸºç¡€ã€‚</summary>
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="å®éªŒè®¾å¤‡" scheme="https://www.mahaofei.com/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E5%AE%9E%E9%AA%8C%E8%AE%BE%E5%A4%87/"/>
    
    
    <category term="å¼ºåŒ–å­¦ä¹ " scheme="https://www.mahaofei.com/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="å®éªŒ" scheme="https://www.mahaofei.com/tags/%E5%AE%9E%E9%AA%8C/"/>
    
    <category term="MuJoCo" scheme="https://www.mahaofei.com/tags/MuJoCo/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç¬”è®°å·¥å…·ã€‘Markdownè¯­æ³•ä¸Obsidianç¼–è¾‘å™¨</title>
    <link href="https://www.mahaofei.com/post/obsidian.html"/>
    <id>https://www.mahaofei.com/post/obsidian.html</id>
    <published>2023-11-29T12:34:55.000Z</published>
    <updated>2023-11-29T12:34:55.000Z</updated>
    
    <content type="html"><![CDATA[<h1>1 Markdown</h1><h2 id="1-1-ä»€ä¹ˆæ˜¯-Markdown">1.1 ä»€ä¹ˆæ˜¯ Markdown</h2><p>Markdown æ˜¯ä¸€ç§æ˜¯ç›®å‰äº’è”ç½‘ä¸Šæœ€æµè¡Œçš„å†™ä½œè¯­è¨€ï¼Œå®ƒä½¿ç”¨ä¸€äº›ç®€å•çš„ç¬¦å·æ¥æ ‡è®°æ–‡æœ¬æ ¼å¼ï¼Œå…¶ç®€æ´çš„è¯­æ³•ã€ä¼˜ç¾çš„æ ¼å¼ä»¥åŠå¼ºå¤§çš„è½¯ä»¶æ”¯æŒæ·±å—å¹¿å¤§ç½‘å‹çš„å–œçˆ±ã€‚</p><p>Markdown ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„ HTML æ–‡æ¡£ã€‚å®ƒçš„å­¦ä¹ é—¨æ§›å¾ˆä½ï¼Œä½ å¯èƒ½åªéœ€èŠ±å‡ åˆ†é’Ÿå°±å¯ä»¥å…¥é—¨äº†ã€‚</p><p>ç›®å‰åŸºæœ¬ä¸Šæ‰€æœ‰çš„åšå®¢ç½‘ç«™ã€åœ¨çº¿æ–‡æ¡£ç­‰éƒ½æ”¯æŒ markdown æ ¼å¼ï¼Œå°¤å…¶å¹¿æ³›åº”ç”¨äºç¨‹åºå‘˜é¢†åŸŸï¼Œä¾‹å¦‚ Github ä¸­çš„æ‰€æœ‰è¯´æ˜æ–‡æ¡£ä¸€èˆ¬éƒ½æ˜¯ <code>.md</code> æ ¼å¼ã€‚</p><h2 id="1-2-ä¸ºä»€ä¹ˆä½¿ç”¨-Markdown">1.2 ä¸ºä»€ä¹ˆä½¿ç”¨ Markdown</h2><p>Markdown çš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä»¥ä¸‹é€šç‚¹ï¼š</p><ul><li><strong>è½¯ä»¶ä¸å…¼å®¹</strong>ï¼šä¾‹å¦‚ä¸åŒç‰ˆæœ¬çš„wordã€æˆ–è€…ä¸åŒè½¯ä»¶å¦‚officeä¸wpsï¼Œæ‰“å¼€åŒä¸€æ–‡æ¡£ï¼Œå¯èƒ½æœ‰çš„æ­£å¸¸ï¼Œæœ‰çš„æ ¼å¼é”™è¯¯ï¼Œæœ‰çš„ä¹±ç ã€‚</li><li><strong>æ’ç‰ˆæµªè´¹æ—¶é—´</strong>ï¼šåŠŸèƒ½è¶Šå¤šï¼Œæˆ‘ä»¬å°±å®¹æ˜“æƒ³å¾—è¶Šå¤šï¼Œé‡åˆ°çš„é—®é¢˜ä¹Ÿä¼šè¶Šå¤šã€‚å¯¹äºä¸“æ³¨äºå†™ä½œçš„åœºæ™¯ï¼Œæœ‰æ—¶å¯èƒ½å¹¶ä¸éœ€è¦é‚£ä¹ˆå¤šé€‰é¡¹æ ¼å¼ï¼Œä¾‹å¦‚è¡Œé«˜è¡Œè·å­—ä½“é¢œè‰²ç­‰ç­‰ã€‚è€Œæ˜¯è¦å…³æ³¨å†…å®¹ã€‚åŒæ—¶wordä¸­æ¯æ¬¡å†™å®Œä¸€æ®µæ–‡å­—ï¼Œéƒ½è¦å†æ‰‹åŠ¨ä¸ºå®ƒé€‰æ‹©æ ¼å¼ï¼Œå¤šçš„è¿™ä¸€æ­¥æ“ä½œå¯èƒ½å°±ä¼šæ‰“æ–­æ€è·¯ã€‚è€Œmarkdownå¯ä»¥è®©ä½ ä»…é€šè¿‡é”®ç›˜ï¼Œåœ¨å†™æ–‡æ¡£çš„åŒæ—¶å®Œæˆæ ¼å¼çš„è®¾ç½®ã€‚</li><li><strong>æ ¼å¼ä¸å…¼å®¹</strong>ï¼šå¤åˆ¶åŒä¸€æ®µæ–‡å­—åˆ°å¦ä¸€ä¸ªæ–‡æ¡£ä¸­ï¼Œå¾ˆæœ‰å¯èƒ½æ ¼å¼å…¨ä¹±äº†ï¼ŒåŒç†å¤åˆ¶åˆ°ç½‘é¡µæˆ–ä»å…¶ä»–åœ°æ–¹å¤åˆ¶è¿‡æ¥ï¼Œæ ¼å¼ä¹Ÿéƒ½æ˜¯å¾ˆéº»çƒ¦çš„é—®é¢˜ã€‚</li></ul><p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒMarkdown å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li><strong>è¯­æ³•ç®€å•</strong>ï¼šåªéœ€è¦ä¸€äº›ç®€å•åœ°æ ‡è®°ç¬¦å·ï¼Œä¾‹å¦‚<code># * &gt; - [] () =</code></li><li><strong>å…¼å®¹æ€§å¼º</strong>ï¼šæ‰€æœ‰çš„ç¼–è¾‘å™¨éƒ½å¯ä»¥æ‰“å¼€ <code>.md</code> æ–‡ä»¶ï¼Œç”šè‡³è®°äº‹æœ¬å’Œviméƒ½å¯ä»¥ç¼–è¾‘</li><li><strong>å¯¼å‡ºæ–¹ä¾¿</strong>ï¼šå¯ä»¥å¯¼å‡ºPDFã€ä¹Ÿå¯ä»¥åµŒå…¥HTMLã€Latexç­‰æ ¼å¼</li><li><strong>ä¸“æ³¨å†…å®¹</strong>ï¼šå†™ä½œæ—¶åŒæ‰‹æ— éœ€è„±ç¦»é”®ç›˜ï¼Œå†ä¹Ÿä¸ç”¨çº ç»“æ’ç‰ˆé—®é¢˜</li></ul><h2 id="1-3-Markdown-æ€ä¹ˆç”¨">1.3 Markdown æ€ä¹ˆç”¨</h2><p>è™½ç„¶æ‰€æœ‰çš„ç¼–è¾‘å™¨éƒ½å¯ä»¥ç¼–è¾‘ Markdown æ–‡ä»¶ï¼Œä½†æ˜¯ä¸ºäº†æ›´åŠ ç›´è§‚ï¼Œå¹¶ä¸”è®©æˆ‘ä»¬æœ‰æ›´å¥½åœ°å†™ä½œä½“éªŒï¼Œè¿™é‡Œæ¨èä¸¤æ¬¾æ‰€è§å³æ‰€å¾—çš„ Markdown ç¼–è¾‘ç¥å™¨ï¼š<a href="https://obsidian.md/">Obsidian</a>å’Œ<a href="https://typora.io/">Typora</a>ã€‚å‰è€…æ˜¯æˆ‘ç°åœ¨ä¸€ç›´åœ¨ç”¨çš„ç¬”è®°è½¯ä»¶ï¼Œä½œä¸ºæˆ‘çš„çŸ¥è¯†åº“ç®¡ç†å·¥å…·ï¼Œåè€…åœ¨æˆ‘å†™ä½œåˆæœŸä½¿ç”¨è¿‡ï¼Œç¼–è¾‘ä½“éªŒä¹Ÿéå¸¸ä¸é”™ã€‚</p><p>ä¸‹å›¾ä¸º Obsidianï¼š</p><p><img src="https://img.mahaofei.com/img/202311292058718.png" alt="image.png"></p><p>ä¸‹å›¾ä¸º Typoraï¼š</p><p><img src="https://img.mahaofei.com/img/202311292059046.png" alt="image.png"></p><p>æ‰“å¼€è‡ªå·±çš„ Markdown ç¼–è¾‘å™¨ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå°±å¯ä»¥å¼€å§‹è‡ªå·±çš„åˆ›ä½œäº†ã€‚</p><h2 id="1-4-Markdown-åŸºæœ¬è¯­æ³•">1.4 Markdown åŸºæœ¬è¯­æ³•</h2><p>ä»¥ä¸‹æ˜¯ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„ Markdown è¯­æ³•ï¼ŒæŒ‰ç…§æˆ‘çš„å¸¸ç”¨é¡ºåºæ’åˆ—ï¼š</p><h3 id="1-æ ‡é¢˜">1. æ ‡é¢˜</h3><p>ä½¿ç”¨æ–¹å¼ä¸ºï¼š<code>#</code> + <code>ç©ºæ ¼</code> + <code>æ ‡é¢˜æ–‡å­—</code>ï¼Œæ³¨æ„<code>#</code>å·ä¸<code>æ ‡é¢˜æ–‡å­—</code>ä¹‹é—´çš„<code>ç©ºæ ¼</code>ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ä¸€çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">## äºŒçº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">### ä¸‰çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">#### å››çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">##### äº”çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">###### å…­çº§æ ‡é¢˜</span></span><br></pre></td></tr></table></figure><h1>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜">äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜">ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜">å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜">äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜">å…­çº§æ ‡é¢˜</h6><h3 id="2-å€¾æ–œ">2. å€¾æ–œ</h3><p>ä½¿ç”¨æ–¹å¼ï¼š<code>*è¢«å€¾æ–œçš„æ–‡å­—*</code> æˆ–è€… <code>_è¢«å€¾æ–œçš„æ–‡å­—_</code>ï¼Œå¿«æ·é”® <code>Ctrl+I</code>ï¼Œ ä¾‹å¦‚ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—ï¼Œ<span class="emphasis">*è¿™é‡Œæ˜¯è¢«å€¾æ–œçš„æ–‡å­—*</span>ï¼Œè¿™é‡Œåˆæ˜¯æ­£å¸¸æ–‡å­—</span><br><span class="line"></span><br><span class="line"><span class="emphasis">_ä¸‹åˆ’çº¿åœ¨Obsidianä¸­å¥½åƒåªèƒ½å€¾æ–œæ•´è¡Œ_</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—ï¼Œ<em>è¿™é‡Œæ˜¯è¢«å€¾æ–œçš„æ–‡å­—</em>ï¼Œè¿™é‡Œåˆæ˜¯æ­£å¸¸æ–‡å­—</p><p><em>ä¸‹åˆ’çº¿åœ¨ Obsidian ä¸­å¥½åƒåªèƒ½å€¾æ–œæ•´è¡Œ</em></p><h3 id="3-åŠ ç²—">3. åŠ ç²—</h3><p>ä½¿ç”¨æ–¹å¼ï¼š<code>**è¢«åŠ ç²—çš„æ–‡å­—**</code> æˆ– <code>__è¢«åŠ ç²—çš„æ–‡å­—__</code>ï¼Œå¿«æ·é”® <code>Ctrl+B</code>ï¼Œ ä¾‹å¦‚ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—ï¼Œ<span class="strong">**è¿™é‡Œæ˜¯è¢«åŠ ç²—çš„æ–‡å­—**</span>ï¼Œè¿™é‡Œåˆæ˜¯æ­£å¸¸æ–‡å­—</span><br><span class="line"></span><br><span class="line"><span class="strong">__ä¸‹åˆ’çº¿åœ¨Obsidianä¸­å¥½åƒåªèƒ½åŠ ç²—æ•´è¡Œ__</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—ï¼Œ<strong>è¿™é‡Œæ˜¯è¢«åŠ ç²—çš„æ–‡å­—</strong>ï¼Œè¿™é‡Œåˆæ˜¯æ­£å¸¸æ–‡å­—</p><p><strong>ä¸‹åˆ’çº¿åœ¨ Obsidian ä¸­å¥½åƒåªèƒ½åŠ ç²—æ•´è¡Œ</strong></p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**<span class="emphasis">*å½“ç„¶å€¾æ–œå’ŒåŠ ç²—å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œé‚£æ ·å°±æ˜¯ä¸‰ä¸ªæ˜Ÿå·*</span>**</span></span><br><span class="line"></span><br><span class="line"><span class="strong">__<span class="emphasis">_ä¹Ÿå¯ä»¥æ˜¯ä¸‰ä¸ªä¸‹åˆ’çº¿_</span>__</span></span><br></pre></td></tr></table></figure><p><em><strong>å½“ç„¶å€¾æ–œå’ŒåŠ ç²—å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œé‚£æ ·å°±æ˜¯ä¸‰ä¸ªæ˜Ÿå·</strong></em></p><p><em><strong>ä¹Ÿå¯ä»¥æ˜¯ä¸‰ä¸ªä¸‹åˆ’çº¿</strong></em></p><h3 id="4-é«˜äº®">4. é«˜äº®</h3><p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—ï¼Œ==è¿™é‡Œæ˜¯è¢«é«˜äº®çš„æ–‡å­—ï¼Œä½†æ˜¯ä¸èƒ½æ¢è¡Œï¼Œå¦‚æœè¦å¯¹å¤šæ®µé«˜äº®ï¼Œéœ€è¦æ¯ä¸€æ®µä½¿ç”¨é«˜äº®æ ‡è®°==ï¼Œè¿™é‡Œåˆæ˜¯æ­£å¸¸æ–‡å­—</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—ï¼Œ==è¿™é‡Œæ˜¯è¢«åŠ ç²—çš„æ–‡å­—ï¼Œä½†æ˜¯ä¸èƒ½æ¢è¡Œï¼Œå¦‚æœè¦å¯¹å¤šæ®µåŠ ç²—ï¼Œéœ€è¦æ¯ä¸€æ®µä½¿ç”¨åŠ ç²—æ ‡è®°==ï¼Œè¿™é‡Œåˆæ˜¯æ­£å¸¸æ–‡å­—</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**<span class="emphasis">*==å½“ç„¶å€¾æ–œå’ŒåŠ ç²—å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œå°±åƒè¿™æ ·==*</span>**</span></span><br><span class="line"></span><br><span class="line">==<span class="strong">**<span class="emphasis">*ä¹Ÿå¯ä»¥æ˜¯è¿™æ ·*</span>**</span>==</span><br><span class="line"></span><br><span class="line">==<span class="strong">__<span class="emphasis">_ä¹Ÿå¯ä»¥æ˜¯ä¸‹åˆ’çº¿_</span>__</span>==</span><br></pre></td></tr></table></figure><p>==<em><strong>å½“ç„¶å€¾æ–œå’ŒåŠ ç²—å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œé‚£æ ·å°±æ˜¯ä¸‰ä¸ªæ˜Ÿå·</strong></em>==</p><p>==<em><strong>ä¹Ÿå¯ä»¥æ˜¯è¿™æ ·</strong></em>==</p><p>==<em><strong>ä¹Ÿå¯ä»¥æ˜¯ä¸‹åˆ’çº¿</strong></em>==</p><h3 id="5-åˆ—è¡¨">5. åˆ—è¡¨</h3><p><strong>æ— åºåˆ—è¡¨</strong></p><p>ä½¿ç”¨<code>+ -</code>æ ‡è®°æ— åºåˆ—è¡¨ï¼Œä½¿ç”¨æ–¹å¼ä¸º<code>+/-</code>+<code>ç©ºæ ¼</code>+<code>æ–‡å­—</code>ï¼Œæ³¨æ„<code>+/-</code>å·ä¸<code>æ–‡å­—</code>ä¹‹é—´çš„<code>ç©ºæ ¼</code>ã€‚</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> è¿™æ˜¯æ— åºåˆ—è¡¨çš„ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">-</span> è¿™æ˜¯ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">-</span> è¿™æ˜¯ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure><ul><li>è¿™æ˜¯æ— åºåˆ—è¡¨çš„ç¬¬ä¸€é¡¹</li><li>è¿™æ˜¯ç¬¬äºŒé¡¹</li><li>è¿™æ˜¯ç¬¬ä¸‰é¡¹</li></ul><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">+</span> è¿™æ˜¯æ— åºåˆ—è¡¨çš„ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">+</span> è¿™æ˜¯ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">+</span> è¿™æ˜¯ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure><ul><li>è¿™æ˜¯æ— åºåˆ—è¡¨çš„ç¬¬ä¸€é¡¹</li><li>è¿™æ˜¯ç¬¬äºŒé¡¹</li><li>è¿™æ˜¯ç¬¬ä¸‰é¡¹</li></ul><p><strong>æœ‰åºåˆ—è¡¨</strong></p><p>ä½¿ç”¨æ–¹å¼ä¸º<code>æ•°å­—</code>+<code>.</code>+<code>ç©ºæ ¼</code>+<code>æ–‡å­—</code>ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. ç¬¬ä¸€é¡¹</span><br><span class="line">2. ç¬¬äºŒé¡¹</span><br><span class="line">3. ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure><ol><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li><li>ç¬¬ä¸‰é¡¹</li></ol><h3 id="6-å¼•ç”¨">6. å¼•ç”¨</h3><p>ä½¿ç”¨<code>&gt;</code>æ ‡è®°å¼•ç”¨çš„å†…å®¹ï¼Œä½¿ç”¨æ–¹å¼ä¸º<code>&gt;</code> + <code>ç©ºæ ¼</code> + <code>å¼•ç”¨æ–‡å­—</code>ï¼Œæ³¨æ„<code>&gt;</code>å·ä¸<code>æ–‡å­—</code>ä¹‹é—´çš„<code>ç©ºæ ¼</code>ã€‚</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; è¿™æ˜¯è¢«å¼•ç”¨çš„å†…å®¹</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ˜¯è¢«å¼•ç”¨çš„å†…å®¹</p></blockquote><h3 id="7-ä»£ç ">7. ä»£ç </h3><p>ä»£ç åˆ†ä¸ºè¡Œå†…ä»£ç å’Œä»£ç å—ã€‚</p><p><strong>è¡Œå†…ä»£ç </strong>ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—`code`æ–‡å­—ç»§ç»­</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯æ­£å¸¸æ–‡å­—<code>code</code>æ–‡å­—ç»§ç»­</p><p><strong>ä»£ç å—</strong>ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```ä»£ç æ ¼å¼ï¼ˆc, c++, python, html, java, css, yaml, shell ...)</span></span><br><span class="line"><span class="code">ä»£ç å†…å®¹</span></span><br><span class="line"><span class="code">```</span>ã…¤ã…¤</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```python</span></span><br><span class="line"><span class="code">import numpy as np</span></span><br><span class="line"><span class="code">np.array([1, 2, 3])</span></span><br><span class="line"><span class="code">```</span>ã…¤ã…¤</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure><h3 id="8-é“¾æ¥">8. é“¾æ¥</h3><p>é“¾æ¥çš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">é“¾æ¥æ˜¾ç¤ºæ–‡å­—</span>](<span class="link">é“¾æ¥åœ°å€</span>)</span><br><span class="line"></span><br><span class="line">[<span class="string">é©¬æµ©é£ä¸¨åšå®¢</span>](<span class="link">https://www.mahaofei.com</span>)</span><br></pre></td></tr></table></figure><p><a href="https://www.mahaofei.com">é©¬æµ©é£ä¸¨åšå®¢</a></p><h3 id="9-å›¾ç‰‡">9. å›¾ç‰‡</h3><p>å›¾ç‰‡çš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![](å›¾ç‰‡åœ°å€)</span><br><span class="line">![](https://img.mahaofei.com/img/202311292058718.png)</span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/202311292058718.png" alt=""></p><h3 id="10-åˆ†å‰²çº¿">10. åˆ†å‰²çº¿</h3><p>åˆ†å‰²çº¿ä½¿ç”¨ä¸‰ä¸ªä»¥ä¸Šçš„<code>*</code>æˆ–<code>-</code>æˆ–<code>_</code>ç»„æˆï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">åˆ†å‰²çº¿ä¹‹ä¸Š</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">æˆ–è€…ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">***</span><br><span class="line"></span><br><span class="line">å†æˆ–è€…</span><br><span class="line"></span><br><span class="line">___</span><br><span class="line"></span><br><span class="line">å°±è¿™äº›</span><br></pre></td></tr></table></figure><p>åˆ†å‰²çº¿ä¹‹ä¸Š</p><hr><p>æˆ–è€…ä½¿ç”¨</p><hr><p>å†æˆ–è€…</p><hr><p>å°±è¿™äº›</p><h3 id="11-è¡¨æ ¼">11. è¡¨æ ¼</h3><p>è¡¨æ ¼çš„ä½¿ç”¨å¯èƒ½ç¨å¾®æœ‰äº›ç¹çï¼Œå¦‚æœæ˜¯åœ¨Obsidianä¸­ï¼Œå¯ä»¥æœ‰äº›æ’ä»¶ç®€åŒ–è¡¨æ ¼çš„åˆ›å»ºæ–¹å¼ã€‚</p><p>å¸¸è§„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼Œæ³¨æ„ä¸­é—´çš„<code>|-|-|-|</code>æ˜¯ä¸èƒ½åˆ çš„ï¼Œè¡¨æ ¼æœ‰å‡ åˆ—å°±å†™å‡ ä¸ª<code>|-|</code>ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|è¡¨å¤´1|è¡¨å¤´2|è¡¨å¤´3|</span><br><span class="line">|-|-|-|</span><br><span class="line">|è¡¨æ ¼å†…å®¹1|è¡¨æ ¼å†…å®¹2|è¡¨æ ¼å†…å®¹3|</span><br><span class="line">|è¡¨æ ¼å†…å®¹4|è¡¨æ ¼å†…å®¹5|è¡¨æ ¼å†…å®¹6|</span><br></pre></td></tr></table></figure><table><thead><tr><th>è¡¨å¤´1</th><th>è¡¨å¤´2</th><th>è¡¨å¤´3</th></tr></thead><tbody><tr><td>è¡¨æ ¼å†…å®¹1</td><td>è¡¨æ ¼å†…å®¹2</td><td>è¡¨æ ¼å†…å®¹3</td></tr><tr><td>è¡¨æ ¼å†…å®¹4</td><td>è¡¨æ ¼å†…å®¹5</td><td>è¡¨æ ¼å†…å®¹6</td></tr></tbody></table><blockquote><p>å“¦å¯¹ï¼Œè¡¥å……ä¸€ä¸‹ï¼Œä¸ºäº†è¡¨ç¤ºç›´è§‚ï¼Œmarkdownä½¿ç”¨ç©ºè¡Œåˆ†å‰²ä¸¤ä¸ªæ®µè½</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ®µ</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒæ®µ</span><br></pre></td></tr></table></figure></blockquote><h3 id="12-callout">12.callout</h3><p>ä½¿ç”¨<code>&gt; [!note] </code>å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªcalloutæ¨¡å—ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; [!INFO]</span></span><br><span class="line"><span class="quote">&gt; è¿™é‡Œæ˜¯calloutæ¨¡å—</span></span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/202401031849885.png" alt="image.png"></p><p>é»˜è®¤æœ‰12ç§é£æ ¼ã€‚æ¯ä¸€ç§æœ‰ä¸åŒçš„é¢œè‰²å’Œå›¾æ ‡ï¼ˆæ ‡é¢˜ä¸­çš„å•è¯å¯ä»¥æ›¿æ¢ <code>&gt; ![æ›¿æ¢]</code> å®ç°ä¸‹é¢æ•ˆæœï¼‰ã€‚</p><p><img src="https://img.mahaofei.com/img/202401031850041.png" alt="image.png"></p><p>å¯ä»¥ä½¿ç”¨Â <code>+</code>Â é»˜è®¤å±•å¼€æˆ–è€…Â <code>-</code>Â é»˜è®¤æŠ˜å æ­£æ–‡éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; [!FAQ]- ç‚¹å‡»å°±å¯ä»¥å±•å¼€äº†</span></span><br><span class="line"><span class="quote">&gt; è¿™é‡Œæ˜¯calloutçš„å†…å®¹</span></span><br></pre></td></tr></table></figure><blockquote><p>[!FAQ]- ç‚¹å‡»å°±å¯ä»¥å±•å¼€äº†<br>è¿™é‡Œæ˜¯calloutçš„å†…å®¹</p></blockquote><h1>2 Obsidian</h1><h2 id="2-1-ä¸ºä»€ä¹ˆä½¿ç”¨-Obsidian">2.1 ä¸ºä»€ä¹ˆä½¿ç”¨ Obsidian</h2><p><strong>Obsidian å¾ˆé€‚åˆç”¨æ¥ç®¡ç†å¤šå±‚çº§å¤šæ–‡ä»¶ï¼Œå› æ­¤å¾ˆé€‚åˆç”¨æ¥æ„å»ºçŸ¥è¯†åº“</strong></p><p>æœ€åˆæˆ‘ä½¿ç”¨ Obsidian æ˜¯å› ä¸ºæˆ‘å†™çš„æ–‡ç« è¶Šæ¥è¶Šå¤šï¼Œå½“æ—¶ä½¿ç”¨ Typora ç®¡ç†èµ·æ¥æ„Ÿè§‰ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”é‚£æ—¶æ­£é€¢ Typora æ›´æ–°è‡³1.0åå¼€å§‹æ”¶è´¹ï¼Œè€Œ Obsidian å¼€å§‹å±•éœ²å¤´è§’ï¼Œå› æ­¤æˆ‘å°è¯•ä½¿ç”¨äº† Obsidianï¼Œä»æ­¤åœ¨æˆ‘çš„æ‰€æœ‰è®¾å¤‡çš„dockæ ä¸Šï¼Œä¸€å®šä¼šæœ‰ä¸€ä¸ª Obsidianï¼Œåªè¦æˆ‘åœ¨ä½¿ç”¨ç”µè„‘ï¼ŒObsidianä¸€å®šæ˜¯å¤„äºæ‰“å¼€çŠ¶æ€çš„ã€‚</p><p>ä¸‹å›¾æ˜¯æˆ‘ç°åœ¨çš„ Obsidian å›¾</p><ul><li>å·¦è¾¹æ˜¯æ–‡ä»¶åˆ—è¡¨ã€å†å²æ‰“å¼€æ–‡ä»¶</li><li>å³è¾¹æ˜¯ä»»åŠ¡åˆ—è¡¨å’Œæ—¥å†ï¼ˆä¹Ÿå¯ä»¥åˆ‡æ¢ä¸ºæ–‡æ¡£ç›®å½•ï¼‰</li></ul><p><img src="https://img.mahaofei.com/img/202311292140615.png" alt="image.png"></p><p>æˆ‘è‡ªå·±çš„åšå®¢å†…å®¹å…¨éƒ¨ä½¿ç”¨Obsidianå­˜å‚¨ï¼ŒåŒæ—¶è®°å½•æˆ‘çš„ä¸€äº›ç¬”è®°å’Œå¹³æ—¶é‡åˆ°çš„å„ç§Bugï¼Œè¿™æ ·é‡åˆ°ç›¸ä¼¼é—®é¢˜æ—¶ï¼Œç›´æ¥ä½¿ç”¨å…¨å±€æœç´¢ï¼Œå°±å¯ä»¥å¿«é€Ÿæ‰¾åˆ°è§£å†³åŠæ³•ï¼Œäº²æµ‹å·²ç»å¸®æˆ‘è§£å†³äº†å¥½å¤šæ¬¡é—®é¢˜ï¼ŒèŠ‚çº¦äº†å¤§æŠŠæ—¶é—´ã€‚</p><p><strong>ä¸ªäººä¸æ”¾å¿ƒäº‘ç¬”è®°ï¼ŒObsidian æ˜¯çº¯æœ¬åœ°åŒ–æ–‡ä»¶ç¼–è¾‘ä¸ç®¡ç†</strong></p><p>ç”±äºå„ç§åŸå› ï¼Œæˆ‘ä¸æƒ³å°†æˆ‘è‡ªå·±è®°å½•çš„ä¸€äº›å†…å®¹å…¨éƒ¨æ”¾åˆ°äº‘ç¬”è®°ä¸Šï¼Œä¸€æ—¦å®•æœºæˆ–è·‘è·¯ï¼Œä¼šæ˜¯ä¸€ä»¶éå¸¸éº»çƒ¦çš„é—®é¢˜ï¼Œä¾‹å¦‚æœ‰é“äº‘ç¬”è®°ã€å°è±¡ç¬”è®°ç­‰ç­‰ï¼ŒOneNoteç­‰æˆ‘ä¹Ÿç”¨è¿‡ï¼Œä½†æ˜¯è¿ç§»æ€§å¤ªå·®ï¼Œå¦‚æœæƒ³æ¢åˆ«çš„ç¬”è®°è½¯ä»¶ï¼Œä¹‹å‰è®°å½•çš„ä¸œè¥¿æ ¹æœ¬ä¸èƒ½å¯¼å‡ºã€‚</p><p>è€ŒObsidianåˆ™æ˜¯ä½¿ç”¨çš„æœ¬åœ°åŒ–æ–‡ä»¶ç®¡ç†ï¼Œå·¦ä¾§çš„æ–‡ä»¶åˆ—è¡¨å°±æ˜¯æœ¬åœ°ä¸­çœŸå®å­˜åœ¨çš„ä¸€ä¸ªä¸ªæ–‡ä»¶å¤¹å’Œ<code>.md</code>æ–‡ä»¶ã€‚åœ¨å¤šè®¾å¤‡åŒæ­¥æ–¹é¢ï¼Œæ¨èåšæœäº‘æˆ–è€…OneDriveå®ç°å¤šè®¾å¤‡çš„å®æ—¶åŒæ­¥ã€‚</p><p><strong>Obsidian çš„åŠŸèƒ½éå¸¸ä¸°å¯Œï¼Œæ˜¯ä¸€ä¸ªç¬”è®°è½¯ä»¶ï¼Œåˆä¸æ­¢æ˜¯ä¸€ä¸ªç¬”è®°è½¯ä»¶</strong></p><p>å¯¹äºæˆ‘æ¥è¯´ï¼Œæˆ‘ä½¿ç”¨ Obsidian å®Œæˆäº†å¾ˆå¤šåŠŸèƒ½ï¼Œå½“ç„¶æœ€ä¸»è¦çš„è¿˜æ˜¯è®°ç¬”è®°ï¼ŒåŒ…æ‹¬å­¦ä¹ ç¬”è®°ã€Bug ç¬”è®°ã€ç»„ä¼šè®°å½•ç­‰ç­‰ã€‚</p><p>åŒæ—¶ä½¿ç”¨<code>custom frames</code>æ’ä»¶èƒ½å¤Ÿå°†ç½‘é¡µåµŒå…¥åˆ° Obsidian ä¸­ï¼Œæˆ‘å°†æ»´ç­”æ¸…å•åŠ å…¥äº†è¿›æ¥ï¼Œè¿™æ ·å°±å®ç°äº†ä¸Šå›¾å³ä¾§çš„ä»»åŠ¡ç®¡ç†åŠŸèƒ½ã€‚</p><p>æ­¤å¤–æˆ‘è¿˜å†™äº†ä¸€ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œæ ¹æ®æˆ‘çš„ç¬”è®°åº“çš„å†…å®¹ä¿®æ”¹ï¼Œæ¯å¤©å®šæ—¶æ›´æ–°åšå®¢å†…å®¹ã€‚</p><p><strong>Obsidian é¢œå€¼éå¸¸é«˜ï¼Œæœ‰å„ç§å„æ ·ä¸»é¢˜ï¼Œè€Œä¸”å‡ ä¹æ‰€æœ‰çš„æ ·å¼æ ¼å¼éƒ½å¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹</strong></p><p>åœ¨å¤–è§‚è¿™æ–¹é¢ï¼Œæˆ‘ä¹ŸæŠ˜è…¾äº†ä¸€æ®µæ—¶é—´ï¼Œæœ€ç»ˆè¿˜æ˜¯ä½¿ç”¨ <code>Blue Topaz</code>ä¸»é¢˜ï¼Œè¾…ä»¥<code>Style Settings</code> æ’ä»¶ä¸­çš„ä¸€äº›ä¸ªæ€§åŒ–è®¾ç½®ã€‚æ€»çš„æ¥è¯´æ²¡æœ‰ä¿®æ”¹å¤ªå¤šã€‚</p><p>ç½‘ä¸Šä¹Ÿæœ‰ä¸€äº›å¼€æºçš„é«˜åº¦ä¿®æ”¹çš„åº“æ¨¡æ¿ï¼Œä¸‹è½½ä¸‹æ¥å°±å¯ä»¥ç›´æ¥ç”¨ï¼Œä½†æ˜¯æˆ‘æ‰¾äº†ä¸€åœˆï¼Œå‘ç°è‡ªå·±è¿˜æ˜¯æ›´å–œæ¬¢ç®€çº¦ç›´æ¥çš„ï¼Œå„ä½å¯ä»¥æ ¹æ®è‡ªå·±çš„å®¡ç¾æ‰¾æ‰¾çœ‹ã€‚</p><h2 id="2-2-Obsidian-çš„ç‰¹è‰²åŠŸèƒ½">2.2 Obsidian çš„ç‰¹è‰²åŠŸèƒ½</h2><p>è¿™é‡Œåªä»‹ç»å¤§è‡´åŠŸèƒ½ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œè¯·å‚è€ƒ <a href="https://publish.obsidian.md/help-zh/%E7%94%B1%E6%AD%A4%E5%BC%80%E5%A7%8B">Obsidian å®˜æ–¹æ•™ç¨‹</a>ï¼Œæˆ–è€…ä¸‹è½½Obsidianè½¯ä»¶åï¼Œç¬¬ä¸€æ¬¡æ‰“å¼€ä¼šæœ‰ç¤ºä¾‹åº“ï¼Œæˆ‘å½“æ—¶å°±æ˜¯é˜…è¯»é‚£ä¸ªå­¦ä¹ çš„ã€‚</p><p><strong>åŒå‘é“¾æ¥</strong></p><p>ä¸ç¡®å®š Obsidian æ˜¯ä¸æ˜¯ç¬¬ä¸€ä¸ªåŒé“¾ç¬”è®°è½¯ä»¶ï¼Œä½†å®ƒä¹Ÿæ˜¯æœ€æ—©çš„ä¸€æ‰¹äº†ã€‚</p><p>åŒå‘é“¾æ¥ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯åŒå‘å¼•ç”¨çš„é“¾æ¥ï¼Œä¾‹å¦‚æˆ‘åœ¨Aæ–‡ç« ä¸­ä½¿ç”¨<code>[[Bæ–‡ç« çš„æ ‡é¢˜æˆ–è€…å°æ ‡é¢˜]]</code>ï¼Œå°±å¯ä»¥å®ç°æ–‡ç« å’Œæ–‡ç« ä¹‹é—´çš„é“¾æ¥ï¼Œæœ‰ç‚¹ç±»ä¼¼äºç½‘é¡µé“¾æ¥ï¼Œä½†æ˜¯å®ƒæ˜¯åœ¨ç¬”è®°è½¯ä»¶å†…è·³è½¬çš„ã€‚</p><p>åœ¨è¢«å¼•ç”¨çš„ç¬”è®°ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥çœ‹åˆ°è¿™ç¯‡ç¬”è®°è¢«å“ªäº›å…¶å®ƒç¬”è®°å¼•ç”¨äº†ã€‚ä¾‹å¦‚å¯èƒ½æŸç¯‡<code>[[Ubuntuç³»ç»ŸBuglist]]</code>ä¸­çš„å†…å®¹å°±å¯èƒ½è¢«æˆ‘åœ¨å†™å…¶å®ƒå®éªŒç¬”è®°çš„æ—¶å€™å¼•ç”¨å¾ˆå¤šæ¬¡ã€‚</p><p>è¿™æ ·æ‰€æœ‰çš„ç¬”è®°ç›¸äº’é“¾æ¥ï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªåºå¤§çš„å…³ç³»å›¾è°±ï¼ŒObsidianä¸­ä¹Ÿå¯ä»¥æŸ¥çœ‹è¿™ä¸ªå…³ç³»å›¾è°±ã€‚</p><p>æ­¤å¤–ï¼ŒåŒå‘é“¾æ¥è¿˜å¯ä»¥ä½¿ç”¨<code>![[æ–‡ä»¶å]]</code>æˆ–<code>![[æ–‡ä»¶å#å°èŠ‚æ ‡é¢˜]]</code>è¿™æ ·çš„æ ¼å¼ï¼Œåœ¨å¼•ç”¨çš„åŒæ—¶ï¼Œå°†é‚£ç¯‡ç¬”è®°çš„å…¨éƒ¨æˆ–æŸä¸€èŠ‚æ’å…¥åˆ°å½“å‰æ–‡ç« ä¸­ï¼Œä¾‹å¦‚ï¼š</p><p><img src="https://img.mahaofei.com/img/202311292210694.png" alt="image.png"></p><p><strong>æ¨¡æ¿</strong></p><p>Obsidian æä¾›äº†æ¨¡æ¿çš„åŠŸèƒ½ã€‚</p><p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ä¿å­˜æ‰€æœ‰çš„æ¨¡æ¿ã€‚å½“æˆ‘æ–°å»ºç¬”è®°åï¼Œå¯ä»¥ç›´æ¥æ’å…¥ç°æœ‰çš„æ¨¡æ¿ï¼Œä¾‹å¦‚æˆ‘ç»å¸¸ä½¿ç”¨çš„è®ºæ–‡ç¬”è®°æ¨¡æ¿</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># X è®ºæ–‡åç§°</span></span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; <span class="strong">**æ ‡é¢˜**</span>ï¼š</span></span><br><span class="line"><span class="quote">&gt; <span class="strong">**ä½œè€…å›¢é˜Ÿ**</span>ï¼š</span></span><br><span class="line"><span class="quote">&gt; <span class="strong">**æœŸåˆŠä¼šè®®**</span>ï¼š</span></span><br><span class="line"><span class="quote">&gt; <span class="strong">**æ—¶é—´**</span>ï¼š</span></span><br><span class="line"><span class="quote">&gt; <span class="strong">**ä»£ç **</span>ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="section">## X.1 ç›®æ ‡é—®é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="section">## X.2 æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="section">## X.3 æ€è€ƒ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://img.mahaofei.com/img/202311292215167.png" alt="image.png"></p><p><strong>å·¥ä½œåŒºä¿å­˜ä¸å¿«é€Ÿæ¢å¤</strong></p><p>æœ‰çš„æ—¶å€™æˆ‘å¯èƒ½ä¼šåŒæ—¶æ‰“å¼€å¥½å‡ ä¸ªç¬”è®°ï¼Œæ¯”å¦‚å®éªŒç¬”è®°ã€è®ºæ–‡ç¬”è®°ã€Buglistç­‰ç­‰ï¼Œæˆ‘ä¼šæŠŠä»–ä»¬åˆ†å±åˆ†å¼€æ”¾åœ¨ä¸åŒçš„ä½ç½®ï¼Œä¾‹å¦‚è¿™æ ·ï¼š</p><p><img src="https://img.mahaofei.com/img/202311292218056.png" alt="image.png"></p><p>ä½†æ˜¯æ­¤æ—¶å¦‚æœæˆ‘éœ€è¦å»åšå¦ä¸€ä»¶äº‹ï¼Œæ¯”å¦‚å¼€ä¼šï¼Œæˆ‘å°±éœ€è¦æŠŠå½“å‰çš„è¿™äº›ç¬”è®°éƒ½å…³æ‰ï¼Œæ‰“å¼€ä¼šè®®è®°å½•ï¼Œä½†æ˜¯ä¸‹æ¬¡æƒ³è¦åœ¨æ¢å¤è¿™ä¸ªå¸ƒå±€åˆæ¯”è¾ƒéº»çƒ¦ã€‚</p><p>è¿™æ—¶å€™å°±å¯ä»¥ç‚¹å‡»å·¦ä¾§çš„<code>ç®¡ç†å·¥ä½œç©ºé—´å¸ƒå±€æŒ‰é’®</code>ï¼Œä¿å­˜å·¥ä½œç©ºé—´å¸ƒå±€ï¼Œç„¶åå°±å¯ä»¥æ”¾å¿ƒå…³é—­äº†ï¼Œä¸‹æ¬¡ä½¿ç”¨ç‚¹å‡»åŠ è½½å·¥ä½œç©ºé—´å¸ƒå±€å°±å¯ä»¥ä¸€é”®æ¢å¤ä¹‹å‰çš„å¸ƒå±€ã€‚</p><p><strong>ä¸°å¯Œçš„æ’ä»¶ç³»ç»Ÿ</strong></p><p>Obsidian æä¾›äº†ä¸°å¯Œçš„æ’ä»¶ç³»ç»Ÿï¼Œæœ‰äº›å¯ä»¥å¢åŠ  Obsidian çš„åŠŸèƒ½ï¼Œæœ‰äº›åˆ™æ˜¯ç¾åŒ–å¤–è§‚ï¼Œæœ‰äº›å¯ä»¥æé«˜ç¼–è¾‘ä½“éªŒã€‚</p><p>å…·ä½“å“ªäº›æ’ä»¶æˆ‘ç”¨è¿‡æ¯”è¾ƒå¥½ç”¨çš„ï¼Œåç»­ä¼šæŒç»­åœ¨æœ¬æ–‡ä¸‹é¢æ›´æ–°ã€‚</p><p><strong>å½•éŸ³</strong></p><p>å†™è¿™ç¯‡æ–‡ç« ï¼Œåœ¨æŸ¥èµ„æ–™çš„æ—¶å€™çªç„¶å‘ç°Obsidianå‡ºäº†å½•éŸ³åŠŸèƒ½ï¼Œåœ¨ã€è®¾ç½®-æ ¸å¿ƒæ’ä»¶ã€‘é‡Œæ‰“å¼€å³å¯ä½¿ç”¨ï¼Œæ‰“å¼€åä¼šåœ¨ä¸»é¡µé¢æœ€å·¦ä¾§æ·»åŠ ä¸€ä¸ªå›¾æ ‡ï¼ŒæŒ‰ä¸‹å³å¯å¼€å§‹å½•éŸ³ã€‚</p><p>å½•éŸ³å®Œæˆåï¼Œä¼šä¿å­˜åœ¨å½“å‰ç¬”è®°æ–‡ä»¶ä¸­ã€‚</p><p><img src="https://img.mahaofei.com/img/202311292224701.png" alt="image.png"></p><h2 id="2-3-Obsidian-æ’ä»¶æ¨è">2.3 Obsidian æ’ä»¶æ¨è</h2><p><strong>æ‰€æœ‰çš„æ’ä»¶éƒ½å¯ä»¥åœ¨æ’ä»¶å¸‚åœºä¸­ç›´æ¥æœç´¢ä¸‹è½½</strong>ï¼Œã€è®¾ç½®-ç¬¬ä¸‰æ–¹æ’ä»¶-ç¤¾åŒºæ’ä»¶å¸‚åœºã€‘</p><p>åç»­æœ‰æ—¶é—´å†æ›´æ–°å„ä¸ªæ’ä»¶çš„ä»‹ç»å’Œä½¿ç”¨è¯¦æƒ…</p><h3 id="1-æå‡ç¼–è¾‘ä½“éªŒ">1. æå‡ç¼–è¾‘ä½“éªŒ</h3><p><a href="https://obsidian.md/plugins?id=media-extended"><strong>Media Extended</strong></a></p><p>Media Extendedå¢å¼ºäº†åª’ä½“æ’­æ”¾åŠŸèƒ½ï¼ŒåŒ…æ‹¬é“¾æ¥åˆ°åœ¨çº¿è§†é¢‘ï¼Œé€Ÿåº¦æ§åˆ¶ï¼Œå¾ªç¯æ’­æ”¾ï¼Œå­—å¹•æ”¯æŒã€‚</p><p>ä»¥åŠåˆ›å»ºæ—¶é—´æˆ³é“¾æ¥ç¬”è®°ï¼Œä»åœ¨çº¿è§†é¢‘ã€æœ¬åœ°è§†é¢‘ã€å½•éŸ³ä¸­è·å–æ—¶é—´æˆ³ç­‰ç­‰ã€‚</p><p>ï¼ˆç›®å‰æµ‹è¯•ä¼¼ä¹åªèƒ½æ·»åŠ  Youtube åœ¨çº¿è§†é¢‘ï¼‰</p><p><img src="https://www.youtube.com/watch?v=yBCD-Hfpd8U" alt=""></p><p><a href="https://obsidian.md/plugins?id=obsidian-outliner"><strong>Outliner</strong></a></p><p>å¢å¼ºåˆ—è¡¨æ ·å¼</p><ul><li>å¯ä»¥ä¸Šç§»ä¸‹ç§»ç¼©è¿›åˆ—è¡¨</li><li>å¢åŠ åˆ—è¡¨å‚ç›´ç¼©è¿›çº¿</li><li>å¢åŠ æŠ˜å å±•å¼€åŠŸèƒ½</li></ul><p><a href="https://obsidian.md/plugins?id=table-editor-obsidian"><strong>Advanced Tables</strong></a></p><p>ä¼˜åŒ–åˆ›å»ºè¡¨æ ¼çš„è¯­æ³•ï¼šè¾“å…¥ä¸€ä¸ª<code>|</code>ï¼Œç„¶åè¾“å…¥ç¬¬ä¸€ä¸ªæ ‡é¢˜ï¼Œæ¥ç€æŒ‰ä¸‹<code>tab</code>ï¼Œç»§ç»­è¾“å…¥æ ‡é¢˜ç›´åˆ°åˆ›å»ºæ‰€æœ‰æ ‡é¢˜ï¼Œç„¶åæŒ‰ä¸‹<code>Enter</code>è½¬åˆ°ç¬¬ä¸€è¡Œè¾“å…¥å†…å®¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>å½“å…‰æ ‡ä½äºè¡¨æ ¼ä¸­æ—¶ï¼š</p><table><thead><tr><th>å¿«æ·é”®</th><th>åŠ¨ä½œ</th></tr></thead><tbody><tr><td><code>Tab</code></td><td>ä¸‹ä¸€ä¸ªå•å…ƒæ ¼</td></tr><tr><td><code>Shift</code> + <code>Tab</code></td><td>ä¸Šä¸€ä¸ªå•å…ƒæ ¼</td></tr><tr><td><code>Enter</code></td><td>ä¸‹ä¸€è¡Œ</td></tr><tr><td><code>Ctrl</code> + <code>Shift</code> + <code>D</code></td><td>æ‰“å¼€è¡¨æ ¼æ§ä»¶ä¾§è¾¹æ </td></tr></tbody></table><p><img src="https://img.mahaofei.com/img/202311301613362.gif" alt=""></p><h3 id="2-å¢åŠ åŠŸèƒ½">2. å¢åŠ åŠŸèƒ½</h3><p><a href="https://obsidian.md/plugins?id=calendar"><strong>Calendar</strong></a></p><p>æ—¥å†æ’ä»¶ï¼Œæ‰“å¼€åä¼šåœ¨å³è¾¹ä¾§æ å‡ºç°æ—¥å†ã€‚</p><p>ç‚¹å‡»æ—¥å†ä¸Šçš„æ—¥æœŸï¼Œå¯ä»¥è·³è½¬åˆ°å½“å¤©çš„æ¯æ—¥ç¬”è®°ä¸­ï¼ˆæ¯æ—¥ç¬”è®°ä¹Ÿå¯ä»¥è®¾ç½®æ¨¡æ¿ï¼‰</p><p><img src="https://img.mahaofei.com/img/202311301615320.png" alt="image.png"></p><p><a href="https://obsidian.md/plugins?id=obsidian-custom-frames"><strong>Custom Frames</strong></a></p><p>å¯ä»¥å°†ä»»æ„çš„ç½‘é¡µè½¬æ¢ä¸ºobsidiançª—æ ¼ï¼Œéå¸¸ä¸é”™ã€‚</p><p>ä¾‹å¦‚æˆ‘è¿™é‡Œå³ä¾§çš„æ»´ç­”æ¸…å•ï¼š</p><p><img src="https://img.mahaofei.com/img/202311292140615.png" alt="image.png"></p><p><a href="https://obsidian.md/plugins?id=obsidian-image-auto-upload-plugin"><strong>Image auto upload Plugin</strong></a></p><p>image auto uploadæ’ä»¶æ­é…PicGoä½¿ç”¨ï¼Œèƒ½è‡ªåŠ¨å°†obä¸­æ’å…¥çš„å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠä¸­ï¼Œä¼˜åŒ–å›¾ç‰‡æ’ä»¶ä½“éªŒã€‚</p><p>åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘OSSå­˜å‚¨æˆ‘çš„å›¾ç‰‡ï¼Œå…·ä½“å¯ä»¥å‚è€ƒï¼š<a href="https://www.mahaofei.com/post/d05a7f72.html">é˜¿é‡Œäº‘å›¾åºŠæ­å»ºæ–¹æ³•</a>æˆ–è€…[[01_é˜¿é‡Œäº‘å›¾åºŠæ­å»ºæ–¹æ³•]]</p><p><a href="https://obsidian.md/plugins?id=recent-files-obsidian"><strong>Recent Files</strong></a></p><p>éå¸¸ç›´è§‚çš„åŠŸèƒ½ï¼Œå°±æ˜¯åœ¨å·¦ä¾§æ–‡ä»¶åˆ—è¡¨å¢åŠ æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p><p><img src="https://img.mahaofei.com/img/202311301701536.png" alt="image.png"></p><p><a href="https://obsidian.md/plugins?id=dataview"><strong>Dataview</strong></a></p><p>ä¸€ä¸ªé«˜æ•ˆä¿¡æ¯åŠ¨æ€æŸ¥è¯¢æ’ä»¶ï¼Œå½“ä½ æ‹¥æœ‰è¶³å¤Ÿå¤šçš„ç¬”è®°åï¼Œå¯ä»¥ç”¨å®ƒæ¥ç”Ÿæˆç›®å½•è¡¨æ ¼ï¼Œå¹¶ä¸”æ”¯æŒå„ç§æŸ¥è¯¢é™åˆ¶æ¡ä»¶ã€‚</p><p><a href="https://obsidian.md/plugins?id=templater-obsidian"><strong>Templater</strong></a></p><p>ç›¸æ¯”è¾ƒä¸ obsidian è‡ªå¸¦çš„æ¨¡æ¿å·¥å…·ï¼Œä»–èƒ½å®ç°æ›´å¤æ‚çš„æ¨¡æ¿ï¼Œè®¾ç½®æ›´å¤šçš„å˜é‡å’Œå‡½æ•°ï¼Œç”Ÿæˆä¸€äº›åŠŸèƒ½å¼ºå¤§çš„æ¨¡æ¿ã€‚</p><p><a href="https://obsidian.md/plugins?id=obsidian-admonition"><strong>Admonition</strong></a></p><p>èƒ½å¤Ÿåœ¨ Obsidian ä¸­æ·»åŠ æ ·å¼æ¡†çš„æ’ä»¶ï¼Œèƒ½è®©ç¬”è®°æ˜¾å¾—å¥½çœ‹åˆæœ‰å±‚æ¬¡ï¼Œå¯ä»¥é…åˆç€ Taskã€QuickAddã€Button å’Œ Dataview ç­‰æ’ä»¶ä½¿ç”¨ã€‚</p><p><img src="https://img.mahaofei.com/img/202401071717704.png" alt="image.png"></p><p><a href="https://obsidian.md/plugins?id=quickadd"><strong>Quickadd</strong></a></p><p>å¯å¿«é€Ÿæ·»åŠ ä¿¡æ¯ï¼Œæ•æ‰æƒ³æ³•ï¼Œé‡‡ç”¨æ¨¡æ¿æ–°å»ºç¬”è®°å’Œæ·»åŠ å®å‘½ä»¤ï¼Œå¿«é€Ÿæ‰§è¡Œå¤šé¡¹æ“ä½œçš„å¥½ç”¨åˆå¼ºå¤§çš„æ’ä»¶ã€‚</p><p><a href="https://obsidian.md/plugins?id=buttons"><strong>Buttons</strong></a></p><p>å¯ä»¥æ·»åŠ ä¸€äº›è‡ªå®šä¹‰æŒ‰é’®ï¼Œç”¨æ¥æ‰§è¡Œä¸€äº›ç‰¹å®šäººç‰©ï¼Œä¾‹å¦‚ä¸€äº›å‘½ä»¤æˆ–è€…æ‰“å¼€é“¾æ¥æˆ–è€…ç»“åˆ quickadd å®ç°ä¸€äº›è‡ªåŠ¨åŒ–æµç¨‹ã€‚</p><p><a href="https://obsidian.md/plugins?id=obsidian-banners"><strong>Banners</strong></a></p><p>åœ¨ç¬”è®°çš„å¼€å¤´æ·»åŠ å’Œç®¡ç†æ¨ªå¹…å›¾ç‰‡ï¼Œä¸€èˆ¬ç”¨äºåˆ¶ä½œç¬”è®°ä¸»é¡µæ—¶ä½¿ç”¨ã€‚</p><p><a href="https://obsidian.md/plugins?id=workspaces-plus"><strong>Workspaces plus</strong></a></p><p>å¿«é€Ÿåˆ‡æ¢ç®¡ç†å·¥ä½œåŒºçš„å¸ƒå±€ã€‚ä½ å¯ä»¥æŒ‰ç…§ä½ ä¸åŒçš„ä¹ æƒ¯ï¼Œè§„åˆ’å·¥ä½œåŒºã€‚</p><p><a href="https://obsidian.md/plugins?id=obsidian-hover-editor"><strong>Hover Editor</strong></a></p><p>é€šè¿‡å°†æ‚¬åœå¼¹çª—å˜æˆä¸€ä¸ªåŠŸèƒ½é½å…¨çš„ç¼–è¾‘å™¨ï¼Œæ¥å¢å¼ºæ ¸å¿ƒçš„â€œé¡µé¢é¢„è§ˆâ€åŸæœ‰çš„åŠŸèƒ½ã€‚</p><h3 id="3-ä¸ªæ€§åŒ–è®¾ç½®">3. ä¸ªæ€§åŒ–è®¾ç½®</h3><p><a href="https://obsidian.md/plugins?id=mysnippets-plugin"><strong>MySnippets</strong></a></p><p>cssç‰‡æ®µç®¡ç†æ’ä»¶ï¼Œåœ¨å³ä¸‹è§’ç”Ÿæˆcssç®¡ç†èœå•ï¼Œç‚¹å‡»åå¯æ–¹ä¾¿çš„å¼€å…³cssç‰‡æ®µã€‚</p><p><img src="https://img.mahaofei.com/img/202312010757678.gif" alt=""></p><p><a href="https://obsidian.md/plugins?id=obsidian42-brat"><strong>Obsidian42 - BRAT</strong></a></p><p>obsidiançš„æ’ä»¶ä¸‹è½½å¤§è‡´å¯åˆ†ä¸ºä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯ä»obè½¯ä»¶å†…çš„å®˜æ–¹æ¸ é“ä¸‹è½½ï¼Œç¬¬äºŒç§åˆ™æ˜¯é€šè¿‡Githubç­‰æ¸ é“ä¸‹è½½åå†æ‰‹åŠ¨å®‰è£…ã€‚</p><p>Obsidian42 - BRAT å¯ä»¥å¸®åŠ©ä½ ç›´æ¥å®‰è£…ç¤¾åŒºæ’ä»¶å¸‚åœºæ— æ³•å®‰è£…çš„æ’ä»¶ã€‚</p><p><a href="https://obsidian.md/plugins?id=obsidian-style-settings"><strong>Style Settings</strong></a></p><p>ä¸»é¢˜è‡ªå®šä¹‰è®¾ç½®æ’ä»¶ï¼Œå¯ä»¥åœ¨ç°æœ‰ä¸»é¢˜çš„åŸºç¡€ä¸Šï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œé­”æ”¹ã€‚</p><p><img src="https://img.mahaofei.com/img/202312010804210.png" alt="image.png"></p>]]></content>
    
    
    <summary type="html">ä»‹ç»ä¸€ç§æˆ‘è‡ªå·±ä¸€ç›´åœ¨ç”¨çš„éå¸¸å¼ºå¤§çš„ç¬”è®°è¯­æ³•Markdownï¼Œä»¥åŠåŸºäºmarkdownè¯­æ³•çš„ç¼–è¾‘å™¨Obsidian.</summary>
    
    
    
    <category term="å®ç”¨å·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    <category term="æ•ˆç‡å·¥å…·" scheme="https://www.mahaofei.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="ç¬”è®°" scheme="https://www.mahaofei.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
</feed>
